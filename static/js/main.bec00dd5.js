/*! For license information please see main.bec00dd5.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var u in n)r.call(n,u)&&n[u]&&e.push(u);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},v={};function p(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new p(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new p(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new p(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new p(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new p(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new p(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(v,e)||!f.call(d,e)&&(h.test(e)?v[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new p(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,g);y[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),E=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var M=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=M&&e[M]||e["@@iterator"])?e:null}var L,F=Object.assign;function V(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function B(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function j(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case E:return"Portal";case _:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){Z(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ae(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ve=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){ve.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,xe=null,Se=null;function _e(e){if(e=bi(e)){if("function"!==typeof Ee)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),Ee(e.stateNode,e.type,t))}}function Ce(e){xe?Se?Se.push(e):Se=[e]:xe=e}function Te(){if(xe){var e=xe,t=Se;if(Se=xe=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ie(e,t){return e(t)}function Ne(){}var Ae=!1;function Pe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ie(e,t,n)}finally{Ae=!1,(null!==xe||null!==Se)&&(Ne(),Te())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(l)try{var Me={};Object.defineProperty(Me,"passive",{get:function(){De=!0}}),window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,Me)}catch(le){De=!1}function Oe(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Fe=null,Ve=!1,Ue=null,Be={onError:function(e){Le=!0,Fe=e}};function je(e,t,n,r,i,a,o,u,s){Le=!1,Fe=null,Oe.apply(Be,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(qe(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Ze=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function vt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,Et,xt,St,_t,Ct=!1,Tt=[],It=null,Nt=null,At=null,Pt=new Map,Rt=new Map,Dt=[],Mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void _t(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Ut(e,t,n){Vt(e)&&n.delete(t)}function Bt(){Ct=!1,null!==It&&Vt(It)&&(It=null),null!==Nt&&Vt(Nt)&&(Nt=null),null!==At&&Vt(At)&&(At=null),Pt.forEach(Ut),Rt.forEach(Ut)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function qt(e){function t(t){return jt(t,e)}if(0<Tt.length){jt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&jt(It,e),null!==Nt&&jt(Nt,e),null!==At&&jt(At,e),Pt.forEach(t),Rt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Dt.shift()}var zt=k.ReactCurrentBatchConfig,Kt=!0;function Ht(e,t,n,r){var i=bt,a=zt.transition;zt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,zt.transition=a}}function Wt(e,t,n,r){var i=bt,a=zt.transition;zt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,zt.transition=a}}function Gt(e,t,n,r){if(Kt){var i=$t(e,t,n,r);if(null===i)Kr(e,t,r,Qt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Lt(It,e,t,n,r,i),!0;case"dragenter":return Nt=Lt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Lt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,Lt(Pt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Lt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Mt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=$t(e,t,n,r))&&Kr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Zt=null,Xt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Xt,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),vn=an(dn),pn=an(F({},dn,{dataTransfer:0})),yn=an(F({},fn,{relatedTarget:0})),mn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(gn),kn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function _n(){return Sn}var Cn=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Cn),In=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),An=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(Pn),Dn=[9,13,27,32],Mn=l&&"CompositionEvent"in window,On=null;l&&"documentMode"in document&&(On=document.documentMode);var Ln=l&&"TextEvent"in window&&!On,Fn=l&&(!Mn||On&&8<On&&11>=On),Vn=String.fromCharCode(32),Un=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ce(r),0<(t=Wr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Gn=null;function Qn(e){Vr(e,0)}function $n(e){if(G(ki(e)))return e}function Yn(e,t){if("change"===e)return t}var Zn=!1;if(l){var Xn;if(l){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Xn=Jn}else Xn=!1;Zn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Gn=Wn=null)}function nr(e){if("value"===e.propertyName&&$n(Gn)){var t=[];Hn(t,Gn,e,we(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function vr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=l&&"documentMode"in document&&11>=document.documentMode,yr=null,mr=null,gr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==yr||yr!==Q(r)||("selectionStart"in(r=yr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Wr(mr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Sr={};function _r(e){if(xr[e])return xr[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return xr[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var Cr=_r("animationend"),Tr=_r("animationiteration"),Ir=_r("animationstart"),Nr=_r("transitionend"),Ar=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Ar.set(e,t),s(t,[e])}for(var Dr=0;Dr<Pr.length;Dr++){var Mr=Pr[Dr];Rr(Mr.toLowerCase(),"on"+(Mr[0].toUpperCase()+Mr.slice(1)))}Rr(Cr,"onAnimationEnd"),Rr(Tr,"onAnimationIteration"),Rr(Ir,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(je.apply(this,arguments),Le){if(!Le)throw Error(a(198));var l=Fe;Le=!1,Fe=null,Ve||(Ve=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Vr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(Ve)throw e=Ue,Ve=!1,Ue=null,e}function Ur(e,t){var n=t[pi];void 0===n&&(n=t[pi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var jr="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[jr]){e[jr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[jr]||(t[jr]=!0,Br("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Yt(t)){case 1:var i=Ht;break;case 4:i=Wt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Pe((function(){var r=a,i=we(n),o=[];e:{var u=Ar.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=yn;break;case"focusout":c="blur",s=yn;break;case"beforeblur":case"afterblur":s=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nn;break;case Cr:case Tr:case Ir:s=mn;break;case Nr:s=An;break;case"scroll":s=hn;break;case"wheel":s=Rn;break;case"copy":case"cut":case"paste":s=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=In}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,v=r;null!==v;){var p=(d=v).stateNode;if(5===d.tag&&null!==p&&(d=p,null!==h&&(null!=(p=Re(v,h))&&l.push(Hr(v,p,d)))),f)break;v=v.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[vi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=vn,p="onMouseLeave",h="onMouseEnter",v="mouse","pointerout"!==e&&"pointerover"!==e||(l=In,p="onPointerLeave",h="onPointerEnter",v="pointer"),f=null==s?u:ki(s),d=null==c?u:ki(c),(u=new l(p,v+"leave",s,n,i)).target=f,u.relatedTarget=d,p=null,gi(i)===r&&((l=new l(h,v+"enter",c,n,i)).target=d,l.relatedTarget=f,p=l),f=p,s&&c)e:{for(h=c,v=0,d=l=s;d;d=Gr(d))v++;for(d=0,p=h;p;p=Gr(p))d++;for(;0<v-d;)l=Gr(l),v--;for(;0<d-v;)h=Gr(h),d--;for(;v--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?ki(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=Yn;else if(Kn(u))if(Zn)y=or;else{y=ir;var m=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=ar);switch(y&&(y=y(e,r))?Hn(o,y,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ee(u,"number",u.value)),m=r?ki(r):window,e){case"focusin":(Kn(m)||"true"===m.contentEditable)&&(yr=m,mr=r,gr=null);break;case"focusout":gr=mr=yr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(o,n,i);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":kr(o,n,i)}var g;if(Mn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else qn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==b?"onCompositionEnd"===b&&qn&&(g=en()):(Xt="value"in(Zt=i)?Zt.value:Zt.textContent,qn=!0)),0<(m=Wr(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:m}),g?b.data=g:null!==(g=jn(n))&&(b.data=g))),(g=Ln?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(Un=!0,Vn);case"textInput":return(e=t.data)===Vn&&Un?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Mn&&Bn(e,t)?(e=en(),Jt=Xt=Zt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Vr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Re(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Re(n,a))&&o.unshift(Hr(n,s,u)):i||null!=(s=Re(n,a))&&o.push(Hr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Zr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Xr(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(a(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,vi="__reactContainer$"+fi,pi="__reactEvents$"+fi,yi="__reactListeners$"+fi,mi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[vi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var Ei=[],xi=-1;function Si(e){return{current:e}}function _i(e){0>xi||(e.current=Ei[xi],Ei[xi]=null,xi--)}function Ci(e,t){xi++,Ei[xi]=e.current,e.current=t}var Ti={},Ii=Si(Ti),Ni=Si(!1),Ai=Ti;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){_i(Ni),_i(Ii)}function Mi(e,t,n){if(Ii.current!==Ti)throw Error(a(168));Ci(Ii,t),Ci(Ni,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,z(e)||"Unknown",i));return F({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ai=Ii.current,Ci(Ii,e),Ci(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Oi(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,_i(Ni),_i(Ii),Ci(Ii,e)):_i(Ni),Ci(Ni,n)}var Vi=null,Ui=!1,Bi=!1;function ji(e){null===Vi?Vi=[e]:Vi.push(e)}function qi(){if(!Bi&&null!==Vi){Bi=!0;var e=0,t=bt;try{var n=Vi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Vi=null,Ui=!1}catch(i){throw null!==Vi&&(Vi=Vi.slice(e+1)),Ge(Je,qi),i}finally{bt=t,Bi=!1}}return null}var zi=k.ReactCurrentBatchConfig;function Ki(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Hi=Si(null),Wi=null,Gi=null,Qi=null;function $i(){Qi=Gi=Wi=null}function Yi(e){var t=Hi.current;_i(Hi),e._currentValue=t}function Zi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Xi(e,t){Wi=e,Qi=Gi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wu=!0),e.firstContext=null)}function Ji(e){var t=e._currentValue;if(Qi!==e)if(e={context:e,memoizedValue:t,next:null},null===Gi){if(null===Wi)throw Error(a(308));Gi=e,Wi.dependencies={lanes:0,firstContext:e}}else Gi=Gi.next=e;return t}var ea=null,ta=!1;function na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ia(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function aa(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,tc(e)?(null===(e=n.interleaved)?(t.next=t,null===ea?ea=[n]:ea.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function oa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function ua(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function sa(e,t,n,r){var i=e.updateQueue;ta=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var v=e,p=u;switch(h=t,d=n,p.tag){case 1:if("function"===typeof(v=p.payload)){f=v.call(d,f,h);break e}f=v;break e;case 3:v.flags=-65537&v.flags|128;case 0:if(null===(h="function"===typeof(v=p.payload)?v.call(d,f,h):v)||void 0===h)break e;f=F({},f,h);break e;case 2:ta=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ds|=o,e.lanes=o,e.memoizedState=f}}function ca(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var la=(new r.Component).refs;function fa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ha={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Zs(),i=Xs(e),a=ia(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),aa(e,a),null!==(t=Js(e,i,r))&&oa(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Zs(),i=Xs(e),a=ia(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),aa(e,a),null!==(t=Js(e,i,r))&&oa(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Zs(),r=Xs(e),i=ia(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),aa(e,i),null!==(t=Js(e,r,n))&&oa(t,e,r)}};function da(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function va(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ji(a):(i=Ri(t)?Ai:Ii.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ha,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function pa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ha.enqueueReplaceState(t,t.state,null)}function ya(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=la,na(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ji(a):(a=Ri(t)?Ai:Ii.current,i.context=Pi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(fa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ha.enqueueReplaceState(i,i.state,null),sa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var ma=[],ga=0,ba=null,ka=0,wa=[],Ea=0,xa=null,Sa=1,_a="";function Ca(e,t){ma[ga++]=ka,ma[ga++]=ba,ba=e,ka=t}function Ta(e,t,n){wa[Ea++]=Sa,wa[Ea++]=_a,wa[Ea++]=xa,xa=e;var r=Sa;e=_a;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Sa=1<<32-ot(t)+i|n<<i|r,_a=a+e}else Sa=1<<a|n<<i|r,_a=e}function Ia(e){null!==e.return&&(Ca(e,1),Ta(e,1,0))}function Na(e){for(;e===ba;)ba=ma[--ga],ma[ga]=null,ka=ma[--ga],ma[ga]=null;for(;e===xa;)xa=wa[--Ea],wa[Ea]=null,_a=wa[--Ea],wa[Ea]=null,Sa=wa[--Ea],wa[Ea]=null}var Aa=null,Pa=null,Ra=!1,Da=null;function Ma(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Oa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Aa=e,Pa=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Aa=e,Pa=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==xa?{id:Sa,overflow:_a}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Aa=e,Pa=null,!0);default:return!1}}function La(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Fa(e){if(Ra){var t=Pa;if(t){var n=t;if(!Oa(e,t)){if(La(e))throw Error(a(418));t=ci(n.nextSibling);var r=Aa;t&&Oa(e,t)?Ma(r,n):(e.flags=-4097&e.flags|2,Ra=!1,Aa=e)}}else{if(La(e))throw Error(a(418));e.flags=-4097&e.flags|2,Ra=!1,Aa=e}}}function Va(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Aa=e}function Ua(e){if(e!==Aa)return!1;if(!Ra)return Va(e),Ra=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=Pa)){if(La(e)){for(e=Pa;e;)e=ci(e.nextSibling);throw Error(a(418))}for(;t;)Ma(e,t),t=ci(t.nextSibling)}if(Va(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Pa=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Pa=null}}else Pa=Aa?ci(e.stateNode.nextSibling):null;return!0}function Ba(){Pa=Aa=null,Ra=!1}function ja(e){null===Da?Da=[e]:Da.push(e)}function qa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===la&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function za(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ka(e){return(0,e._init)(e._payload)}function Ha(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&Ka(a)===t.type)?((r=i(t,n.props)).ref=qa(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=qa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=qa(e,null,t),n.return=e,n;case E:return(t=Fc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Mc(t,e.mode,n,null)).return=e,t;za(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case E:return n.key===i?l(e,t,n,r):null;case R:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:f(e,t,n,r,null);za(e,n)}return null}function v(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return v(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return f(t,e=e.get(n)||null,r,i,null);za(t,r)}return null}function p(i,a,u,s){for(var c=null,l=null,f=a,p=a=0,y=null;null!==f&&p<u.length;p++){f.index>p?(y=f,f=null):y=f.sibling;var m=d(i,f,u[p],s);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,p),null===l?c=m:l.sibling=m,l=m,f=y}if(p===u.length)return n(i,f),Ra&&Ca(i,p),c;if(null===f){for(;p<u.length;p++)null!==(f=h(i,u[p],s))&&(a=o(f,a,p),null===l?c=f:l.sibling=f,l=f);return Ra&&Ca(i,p),c}for(f=r(i,f);p<u.length;p++)null!==(y=v(f,i,p,u[p],s))&&(e&&null!==y.alternate&&f.delete(null===y.key?p:y.key),a=o(y,a,p),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),Ra&&Ca(i,p),c}function y(i,u,s,c){var l=O(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,p=u,y=u=0,m=null,g=s.next();null!==p&&!g.done;y++,g=s.next()){p.index>y?(m=p,p=null):m=p.sibling;var b=d(i,p,g.value,c);if(null===b){null===p&&(p=m);break}e&&p&&null===b.alternate&&t(i,p),u=o(b,u,y),null===f?l=b:f.sibling=b,f=b,p=m}if(g.done)return n(i,p),Ra&&Ca(i,y),l;if(null===p){for(;!g.done;y++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,y),null===f?l=g:f.sibling=g,f=g);return Ra&&Ca(i,y),l}for(p=r(i,p);!g.done;y++,g=s.next())null!==(g=v(p,i,y,g.value,c))&&(e&&null!==g.alternate&&p.delete(null===g.key?y:g.key),u=o(g,u,y),null===f?l=g:f.sibling=g,f=g);return e&&p.forEach((function(e){return t(i,e)})),Ra&&Ca(i,y),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Ka(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=qa(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=Mc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Dc(o.type,o.key,o.props,null,r.mode,s)).ref=qa(r,a,o),s.return=r,r=s)}return u(r);case E:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fc(o,r.mode,s)).return=r,r=a}return u(r);case R:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return p(r,a,o,s);if(O(o))return y(r,a,o,s);za(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Lc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Wa=Ha(!0),Ga=Ha(!1),Qa={},$a=Si(Qa),Ya=Si(Qa),Za=Si(Qa);function Xa(e){if(e===Qa)throw Error(a(174));return e}function Ja(e,t){switch(Ci(Za,t),Ci(Ya,e),Ci($a,Qa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_i($a),Ci($a,t)}function eo(){_i($a),_i(Ya),_i(Za)}function to(e){Xa(Za.current);var t=Xa($a.current),n=se(t,e.type);t!==n&&(Ci(Ya,e),Ci($a,n))}function no(e){Ya.current===e&&(_i($a),_i(Ya))}var ro=Si(0);function io(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ao=[];function oo(){for(var e=0;e<ao.length;e++)ao[e]._workInProgressVersionPrimary=null;ao.length=0}var uo=k.ReactCurrentDispatcher,so=k.ReactCurrentBatchConfig,co=0,lo=null,fo=null,ho=null,vo=!1,po=!1,yo=0,mo=0;function go(){throw Error(a(321))}function bo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function ko(e,t,n,r,i,o){if(co=o,lo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,uo.current=null===e||null===e.memoizedState?ru:iu,e=n(r,i),po){o=0;do{if(po=!1,yo=0,25<=o)throw Error(a(301));o+=1,ho=fo=null,t.updateQueue=null,uo.current=au,e=n(r,i)}while(po)}if(uo.current=nu,t=null!==fo&&null!==fo.next,co=0,ho=fo=lo=null,vo=!1,t)throw Error(a(300));return e}function wo(){var e=0!==yo;return yo=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ho?lo.memoizedState=ho=e:ho=ho.next=e,ho}function xo(){if(null===fo){var e=lo.alternate;e=null!==e?e.memoizedState:null}else e=fo.next;var t=null===ho?lo.memoizedState:ho.next;if(null!==t)ho=t,fo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(fo=e).memoizedState,baseState:fo.baseState,baseQueue:fo.baseQueue,queue:fo.queue,next:null},null===ho?lo.memoizedState=ho=e:ho=ho.next=e}return ho}function So(e,t){return"function"===typeof t?t(e):t}function _o(e){var t=xo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=fo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((co&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,lo.lanes|=f,Ds|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(wu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,lo.lanes|=o,Ds|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Co(e){var t=xo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(wu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function To(){}function Io(e,t){var n=lo,r=xo(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,wu=!0),r=r.queue,Uo(Po.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==ho&&1&ho.memoizedState.tag){if(n.flags|=2048,Mo(9,Ao.bind(null,n,r,i,t),void 0,null),null===Cs)throw Error(a(349));0!==(30&co)||No(n,t,i)}return i}function No(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=lo.updateQueue)?(t={lastEffect:null,stores:null},lo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ao(e,t,n,r){t.value=n,t.getSnapshot=r,Ro(t)&&Js(e,1,-1)}function Po(e,t,n){return n((function(){Ro(t)&&Js(e,1,-1)}))}function Ro(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Do(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:So,lastRenderedState:e},t.queue=e,e=e.dispatch=Zo.bind(null,lo,e),[t.memoizedState,e]}function Mo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=lo.updateQueue)?(t={lastEffect:null,stores:null},lo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Oo(){return xo().memoizedState}function Lo(e,t,n,r){var i=Eo();lo.flags|=e,i.memoizedState=Mo(1|t,n,void 0,void 0===r?null:r)}function Fo(e,t,n,r){var i=xo();r=void 0===r?null:r;var a=void 0;if(null!==fo){var o=fo.memoizedState;if(a=o.destroy,null!==r&&bo(r,o.deps))return void(i.memoizedState=Mo(t,n,a,r))}lo.flags|=e,i.memoizedState=Mo(1|t,n,a,r)}function Vo(e,t){return Lo(8390656,8,e,t)}function Uo(e,t){return Fo(2048,8,e,t)}function Bo(e,t){return Fo(4,2,e,t)}function jo(e,t){return Fo(4,4,e,t)}function qo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fo(4,4,qo.bind(null,t,e),n)}function Ko(){}function Ho(e,t){var n=xo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&bo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Wo(e,t){var n=xo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&bo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Go(e,t,n){return 0===(21&co)?(e.baseState&&(e.baseState=!1,wu=!0),e.memoizedState=n):(ur(n,t)||(n=pt(),lo.lanes|=n,Ds|=n,e.baseState=!0),t)}function Qo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=so.transition;so.transition={};try{e(!1),t()}finally{bt=n,so.transition=r}}function $o(){return xo().memoizedState}function Yo(e,t,n){var r=Xs(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xo(e)?Jo(t,n):(eu(e,t,n),null!==(e=Js(e,r,n=Zs()))&&tu(e,t,r))}function Zo(e,t,n){var r=Xs(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xo(e))Jo(t,i);else{eu(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o))return}catch(s){}null!==(e=Js(e,r,n=Zs()))&&tu(e,t,r)}}function Xo(e){var t=e.alternate;return e===lo||null!==t&&t===lo}function Jo(e,t){po=vo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function eu(e,t,n){tc(e)?(null===(e=t.interleaved)?(n.next=n,null===ea?ea=[t]:ea.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function tu(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var nu={readContext:Ji,useCallback:go,useContext:go,useEffect:go,useImperativeHandle:go,useInsertionEffect:go,useLayoutEffect:go,useMemo:go,useReducer:go,useRef:go,useState:go,useDebugValue:go,useDeferredValue:go,useTransition:go,useMutableSource:go,useSyncExternalStore:go,useId:go,unstable_isNewReconciler:!1},ru={readContext:Ji,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Ji,useEffect:Vo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Lo(4194308,4,qo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Lo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Lo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Yo.bind(null,lo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:Do,useDebugValue:Ko,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=Do(!1),t=e[0];return e=Qo.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=lo,i=Eo();if(Ra){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Cs)throw Error(a(349));0!==(30&co)||No(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Vo(Po.bind(null,r,o,e),[e]),r.flags|=2048,Mo(9,Ao.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=Cs.identifierPrefix;if(Ra){var n=_a;t=":"+t+"R"+(n=(Sa&~(1<<32-ot(Sa)-1)).toString(32)+n),0<(n=yo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=mo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},iu={readContext:Ji,useCallback:Ho,useContext:Ji,useEffect:Uo,useImperativeHandle:zo,useInsertionEffect:Bo,useLayoutEffect:jo,useMemo:Wo,useReducer:_o,useRef:Oo,useState:function(){return _o(So)},useDebugValue:Ko,useDeferredValue:function(e){return Go(xo(),fo.memoizedState,e)},useTransition:function(){return[_o(So)[0],xo().memoizedState]},useMutableSource:To,useSyncExternalStore:Io,useId:$o,unstable_isNewReconciler:!1},au={readContext:Ji,useCallback:Ho,useContext:Ji,useEffect:Uo,useImperativeHandle:zo,useInsertionEffect:Bo,useLayoutEffect:jo,useMemo:Wo,useReducer:Co,useRef:Oo,useState:function(){return Co(So)},useDebugValue:Ko,useDeferredValue:function(e){var t=xo();return null===fo?t.memoizedState=e:Go(t,fo.memoizedState,e)},useTransition:function(){return[Co(So)[0],xo().memoizedState]},useMutableSource:To,useSyncExternalStore:Io,useId:$o,unstable_isNewReconciler:!1};function ou(e,t){try{var n="",r=t;do{n+=j(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function uu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var su,cu,lu,fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=ia(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){js||(js=!0,qs=r),uu(0,t)},n}function du(e,t,n){(n=ia(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){uu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){uu(0,t),"function"!==typeof r&&(null===zs?zs=new Set([this]):zs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function pu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ia(-1,1)).tag=2,aa(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function mu(e,t){if(!Ra)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function gu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function bu(e,t,n){var r=t.pendingProps;switch(Na(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gu(t),null;case 1:case 17:return Ri(t.type)&&Di(),gu(t),null;case 3:return r=t.stateNode,eo(),_i(Ni),_i(Ii),oo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ua(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Da&&(ac(Da),Da=null))),gu(t),null;case 5:no(t);var i=Xa(Za.current);if(n=t.type,null!==e&&null!=t.stateNode)cu(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return gu(t),null}if(e=Xa($a.current),Ua(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Ur(Or[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Ur("scroll",r)}switch(n){case"input":W(r),J(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,su(e,t),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Ur(Or[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?ye(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&b(e,o,l,s))}switch(n){case"input":W(e),J(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return gu(t),null;case 6:if(e&&null!=t.stateNode)lu(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Xa(Za.current),Xa($a.current),Ua(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=Aa))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return gu(t),null;case 13:if(_i(ro),r=t.memoizedState,Ra&&null!==Pa&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Pa;r;)r=ci(r.nextSibling);return Ba(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Ua(t),null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[hi]=t}else Ba(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return gu(t),null}return null!==Da&&(ac(Da),Da=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Ua(t):n=null!==e.memoizedState,r!==n&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ro.current)?0===Ps&&(Ps=3):vc())),null!==t.updateQueue&&(t.flags|=4),gu(t),null);case 4:return eo(),null===e&&qr(t.stateNode.containerInfo),gu(t),null;case 10:return Yi(t.type._context),gu(t),null;case 19:if(_i(ro),null===(o=t.memoizedState))return gu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)mu(o,!1);else{if(0!==Ps||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=io(e))){for(t.flags|=128,mu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(ro,1&ro.current|2),t.child}e=e.sibling}null!==o.tail&&Ze()>Us&&(t.flags|=128,r=!0,mu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=io(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),mu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!Ra)return gu(t),null}else 2*Ze()-o.renderingStartTime>Us&&1073741824!==n&&(t.flags|=128,r=!0,mu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ze(),t.sibling=null,n=ro.current,Ci(ro,r?1&n|2:1&n),t):(gu(t),null);case 22:case 23:return lc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ns)&&(gu(t),6&t.subtreeFlags&&(t.flags|=8192)):gu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}su=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},cu=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Xa($a.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},lu=function(e,t,n,r){n!==r&&(t.flags|=4)};var ku=k.ReactCurrentOwner,wu=!1;function Eu(e,t,n,r){t.child=null===e?Ga(t,null,n,r):Wa(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Xi(t,i),r=ko(e,t,n,r,a,i),n=wo(),null===e||wu?(Ra&&n&&Ia(t),t.flags|=1,Eu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Su(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,_u(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Ku(e,t,i)}return t.flags|=1,(e=Rc(a,r)).ref=t.ref,e.return=t,t.child=e}function _u(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(wu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ku(e,t,i);0!==(131072&e.flags)&&(wu=!0)}}return Iu(e,t,n,r,i)}function Cu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(As,Ns),Ns|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(As,Ns),Ns|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ci(As,Ns),Ns|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ci(As,Ns),Ns|=r;return Eu(e,t,i,n),t.child}function Tu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Iu(e,t,n,r,i){var a=Ri(n)?Ai:Ii.current;return a=Pi(t,a),Xi(t,i),n=ko(e,t,n,r,a,i),r=wo(),null===e||wu?(Ra&&r&&Ia(t),t.flags|=1,Eu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Nu(e,t,n,r,i){if(Ri(n)){var a=!0;Li(t)}else a=!1;if(Xi(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),va(t,n,r),ya(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ji(c):c=Pi(t,c=Ri(n)?Ai:Ii.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&pa(t,o,r,c),ta=!1;var h=t.memoizedState;o.state=h,sa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ni.current||ta?("function"===typeof l&&(fa(t,n,l,r),s=t.memoizedState),(u=ta||da(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ra(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Ki(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ji(s):s=Pi(t,s=Ri(n)?Ai:Ii.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&pa(t,o,r,s),ta=!1,h=t.memoizedState,o.state=h,sa(t,r,o,i);var v=t.memoizedState;u!==f||h!==v||Ni.current||ta?("function"===typeof d&&(fa(t,n,d,r),v=t.memoizedState),(c=ta||da(t,n,c,r,h,v,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,v,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,v,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Au(e,t,n,r,a,i)}function Au(e,t,n,r,i,a){Tu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Ku(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Wa(t,e.child,null,a),t.child=Wa(t,null,u,a)):Eu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Pu(e){var t=e.stateNode;t.pendingContext?Mi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Mi(0,t.context,!1),Ja(e,t.containerInfo)}function Ru(e,t,n,r,i){return Ba(),ja(i),t.flags|=256,Eu(e,t,n,r),t.child}var Du={dehydrated:null,treeContext:null,retryLane:0};function Mu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ou(e,t){return{baseLanes:e.baseLanes|t,cachePool:null,transitions:e.transitions}}function Lu(e,t,n){var r,i=t.pendingProps,o=ro.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ci(ro,1&o),null===e)return Fa(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,u?(i=t.mode,u=t.child,o={mode:"hidden",children:o},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=o):u=Oc(o,i,0,null),e=Mc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Mu(n),t.memoizedState=Du,e):Fu(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(s)return 256&t.flags?(t.flags&=-257,Bu(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(u=i.fallback,o=t.mode,i=Oc({mode:"visible",children:i.children},o,0,null),(u=Mc(u,o,n,null)).flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,0!==(1&t.mode)&&Wa(t,e.child,null,n),t.child.memoizedState=Mu(n),t.memoizedState=Du,u);if(0===(1&t.mode))t=Bu(e,t,n,null);else if("$!"===r.data)t=Bu(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),wu||i){if(null!==(i=Cs)){switch(n&-n){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}0!==(i=0!==(u&(i.suspendedLanes|n))?0:u)&&i!==o.retryLane&&(o.retryLane=i,Js(e,i,-1))}vc(),t=Bu(e,t,n,Error(a(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),r._reactRetry=t,t=null):(n=o.treeContext,Pa=ci(r.nextSibling),Aa=t,Ra=!0,Da=null,null!==n&&(wa[Ea++]=Sa,wa[Ea++]=_a,wa[Ea++]=xa,Sa=n.id,_a=n.overflow,xa=t),(t=Fu(t,t.pendingProps.children)).flags|=4096);return t}return u?(i=Uu(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Mu(n):Ou(o,n),u.childLanes=e.childLanes&~n,t.memoizedState=Du,i):(n=Vu(e,t,i.children,n),t.memoizedState=null,n)}return u?(i=Uu(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Mu(n):Ou(o,n),u.childLanes=e.childLanes&~n,t.memoizedState=Du,i):(n=Vu(e,t,i.children,n),t.memoizedState=null,n)}function Fu(e,t){return(t=Oc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vu(e,t,n,r){var i=e.child;return e=i.sibling,n=Rc(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Uu(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,u={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=u,t.deletions=null):(n=Rc(e,u)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=Rc(o,r):(r=Mc(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Bu(e,t,n,r){return null!==r&&ja(r),Wa(t,e.child,null,n),(e=Fu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ju(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Zi(e.return,t,n)}function qu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function zu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Eu(e,t,r.children,n),0!==(2&(r=ro.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ju(e,n,t);else if(19===e.tag)ju(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(ro,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===io(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),qu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===io(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}qu(t,!0,n,null,a);break;case"together":qu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ku(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ds|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hu(e,t){switch(Na(t),t.tag){case 1:return Ri(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return eo(),_i(Ni),_i(Ii),oo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return no(t),null;case 13:if(_i(ro),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Ba()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _i(ro),null;case 4:return eo(),null;case 10:return Yi(t.type._context),null;case 22:case 23:return lc(),null;default:return null}}var Wu=!1,Gu=!1,Qu="function"===typeof WeakSet?WeakSet:Set,$u=null;function Yu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){xc(e,t,r)}else n.current=null}function Zu(e,t,n){try{n()}catch(r){xc(e,t,r)}}var Xu=!1;function Ju(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Zu(t,n,a)}i=i.next}while(i!==r)}}function es(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ts(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ns(e){var t=e.alternate;null!==t&&(e.alternate=null,ns(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[pi],delete t[yi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rs(e){return 5===e.tag||3===e.tag||4===e.tag}function is(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||rs(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function as(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(as(e,t,n),e=e.sibling;null!==e;)as(e,t,n),e=e.sibling}function os(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(os(e,t,n),e=e.sibling;null!==e;)os(e,t,n),e=e.sibling}var us=null,ss=!1;function cs(e,t,n){for(n=n.child;null!==n;)ls(e,t,n),n=n.sibling}function ls(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Gu||Yu(n,t);case 6:var r=us,i=ss;us=null,cs(e,t,n),ss=i,null!==(us=r)&&(ss?(e=us,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):us.removeChild(n.stateNode));break;case 18:null!==us&&(ss?(e=us,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),qt(e)):si(us,n.stateNode));break;case 4:r=us,i=ss,us=n.stateNode.containerInfo,ss=!0,cs(e,t,n),us=r,ss=i;break;case 0:case 11:case 14:case 15:if(!Gu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&Zu(n,t,o),i=i.next}while(i!==r)}cs(e,t,n);break;case 1:if(!Gu&&(Yu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){xc(n,t,u)}cs(e,t,n);break;case 21:cs(e,t,n);break;case 22:1&n.mode?(Gu=(r=Gu)||null!==n.memoizedState,cs(e,t,n),Gu=r):cs(e,t,n);break;default:cs(e,t,n)}}function fs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qu),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function hs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:us=s.stateNode,ss=!1;break e;case 3:case 4:us=s.stateNode.containerInfo,ss=!0;break e}s=s.return}if(null===us)throw Error(a(160));ls(o,u,i),us=null,ss=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){xc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ds(t,e),t=t.sibling}function ds(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hs(t,e),vs(e),4&r){try{Ju(3,e,e.return),es(3,e)}catch(p){xc(e,e.return,p)}try{Ju(5,e,e.return)}catch(p){xc(e,e.return,p)}}break;case 1:hs(t,e),vs(e),512&r&&null!==n&&Yu(n,n.return);break;case 5:if(hs(t,e),vs(e),512&r&&null!==n&&Yu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(p){xc(e,e.return,p)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&Z(i,o),be(s,u);var l=be(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?ye(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):b(i,f,h,l)}switch(s){case"input":X(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var v=o.value;null!=v?ne(i,!!o.multiple,v,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(p){xc(e,e.return,p)}}break;case 6:if(hs(t,e),vs(e),4&r){if(null===e.stateNode)throw Error(a(162));l=e.stateNode,f=e.memoizedProps;try{l.nodeValue=f}catch(p){xc(e,e.return,p)}}break;case 3:if(hs(t,e),vs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(p){xc(e,e.return,p)}break;case 4:default:hs(t,e),vs(e);break;case 13:hs(t,e),vs(e),8192&(l=e.child).flags&&null!==l.memoizedState&&(null===l.alternate||null===l.alternate.memoizedState)&&(Vs=Ze()),4&r&&fs(e);break;case 22:if(l=null!==n&&null!==n.memoizedState,1&e.mode?(Gu=(f=Gu)||l,hs(t,e),Gu=f):hs(t,e),vs(e),8192&r){f=null!==e.memoizedState;e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,f?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=d.stateNode,u=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=pe("display",u))}catch(p){xc(e,e.return,p)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=f?"":d.memoizedProps}catch(p){xc(e,e.return,p)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}if(f&&!l&&0!==(1&e.mode))for($u=e,e=e.child;null!==e;){for(l=$u=e;null!==$u;){switch(h=(f=$u).child,f.tag){case 0:case 11:case 14:case 15:Ju(4,f,f.return);break;case 1:if(Yu(f,f.return),"function"===typeof(o=f.stateNode).componentWillUnmount){d=f,v=f.return;try{i=d,o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(p){xc(d,v,p)}}break;case 5:Yu(f,f.return);break;case 22:if(null!==f.memoizedState){gs(l);continue}}null!==h?(h.return=f,$u=h):gs(l)}e=e.sibling}}break;case 19:hs(t,e),vs(e),4&r&&fs(e);case 21:}}function vs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(rs(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),os(e,is(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;as(e,is(e),o);break;default:throw Error(a(161))}}catch(u){xc(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ps(e,t,n){$u=e,ys(e,t,n)}function ys(e,t,n){for(var r=0!==(1&e.mode);null!==$u;){var i=$u,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Wu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Gu;u=Wu;var c=Gu;if(Wu=o,(Gu=s)&&!c)for($u=i;null!==$u;)s=(o=$u).child,22===o.tag&&null!==o.memoizedState?bs(i):null!==s?(s.return=o,$u=s):bs(i);for(;null!==a;)$u=a,ys(a,t,n),a=a.sibling;$u=i,Wu=u,Gu=c}ms(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,$u=a):ms(e)}}function ms(e){for(;null!==$u;){var t=$u;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Gu||es(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Gu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ki(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ca(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ca(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&qt(h)}}}break;default:throw Error(a(163))}Gu||512&t.flags&&ts(t)}catch(d){xc(t,t.return,d)}}if(t===e){$u=null;break}if(null!==(n=t.sibling)){n.return=t.return,$u=n;break}$u=t.return}}function gs(e){for(;null!==$u;){var t=$u;if(t===e){$u=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$u=n;break}$u=t.return}}function bs(e){for(;null!==$u;){var t=$u;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{es(4,t)}catch(s){xc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){xc(t,i,s)}}var a=t.return;try{ts(t)}catch(s){xc(t,a,s)}break;case 5:var o=t.return;try{ts(t)}catch(s){xc(t,o,s)}}}catch(s){xc(t,t.return,s)}if(t===e){$u=null;break}var u=t.sibling;if(null!==u){u.return=t.return,$u=u;break}$u=t.return}}var ks,ws=Math.ceil,Es=k.ReactCurrentDispatcher,xs=k.ReactCurrentOwner,Ss=k.ReactCurrentBatchConfig,_s=0,Cs=null,Ts=null,Is=0,Ns=0,As=Si(0),Ps=0,Rs=null,Ds=0,Ms=0,Os=0,Ls=null,Fs=null,Vs=0,Us=1/0,Bs=null,js=!1,qs=null,zs=null,Ks=!1,Hs=null,Ws=0,Gs=0,Qs=null,$s=-1,Ys=0;function Zs(){return 0!==(6&_s)?Ze():-1!==$s?$s:$s=Ze()}function Xs(e){return 0===(1&e.mode)?1:0!==(2&_s)&&0!==Is?Is&-Is:null!==zi.transition?(0===Ys&&(Ys=pt()),Ys):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function Js(e,t,n){if(50<Gs)throw Gs=0,Qs=null,Error(a(185));var r=ec(e,t);return null===r?null:(mt(r,t,n),0!==(2&_s)&&r===Cs||(r===Cs&&(0===(2&_s)&&(Ms|=t),4===Ps&&oc(r,Is)),nc(r,n),1===t&&0===_s&&0===(1&e.mode)&&(Us=Ze()+500,Ui&&qi())),r)}function ec(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function tc(e){return(null!==Cs||null!==ea)&&0!==(1&e.mode)&&0===(2&_s)}function nc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Cs?Is:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,ji(e)}(uc.bind(null,e)):ji(uc.bind(null,e)),oi((function(){0===_s&&qi()})),n=null;else{switch(kt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ic(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if($s=-1,Ys=0,0!==(6&_s))throw Error(a(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=ht(e,e===Cs?Is:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=pc(e,r);else{t=r;var i=_s;_s|=2;var o=dc();for(Cs===e&&Is===t||(Bs=null,Us=Ze()+500,fc(e,t));;)try{mc();break}catch(s){hc(e,s)}$i(),Es.current=o,_s=i,null!==Ts?t=0:(Cs=null,Is=0,t=Ps)}if(0!==t){if(2===t&&(0!==(i=vt(e))&&(r=i,t=ic(e,i))),1===t)throw n=Rs,fc(e,0),oc(e,r),nc(e,Ze()),n;if(6===t)oc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=pc(e,r))&&(0!==(o=vt(e))&&(r=o,t=ic(e,o))),1===t))throw n=Rs,fc(e,0),oc(e,r),nc(e,Ze()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:kc(e,Fs,Bs);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=Vs+500-Ze())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Zs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(kc.bind(null,e,Fs,Bs),t);break}kc(e,Fs,Bs);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Ze()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ws(r/1960))-r)){e.timeoutHandle=ri(kc.bind(null,e,Fs,Bs),r);break}kc(e,Fs,Bs);break;default:throw Error(a(329))}}}return nc(e,Ze()),e.callbackNode===n?rc.bind(null,e):null}function ic(e,t){var n=Ls;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=pc(e,t))&&(t=Fs,Fs=n,null!==t&&ac(t)),e}function ac(e){null===Fs?Fs=e:Fs.push.apply(Fs,e)}function oc(e,t){for(t&=~Os,t&=~Ms,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&_s))throw Error(a(327));wc();var t=ht(e,0);if(0===(1&t))return nc(e,Ze()),null;var n=pc(e,t);if(0!==e.tag&&2===n){var r=vt(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Rs,fc(e,0),oc(e,t),nc(e,Ze()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kc(e,Fs,Bs),nc(e,Ze()),null}function sc(e,t){var n=_s;_s|=1;try{return e(t)}finally{0===(_s=n)&&(Us=Ze()+500,Ui&&qi())}}function cc(e){null!==Hs&&0===Hs.tag&&0===(6&_s)&&wc();var t=_s;_s|=1;var n=Ss.transition,r=bt;try{if(Ss.transition=null,bt=1,e)return e()}finally{bt=r,Ss.transition=n,0===(6&(_s=t))&&qi()}}function lc(){Ns=As.current,_i(As)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ts)for(n=Ts.return;null!==n;){var r=n;switch(Na(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:eo(),_i(Ni),_i(Ii),oo();break;case 5:no(r);break;case 4:eo();break;case 13:case 19:_i(ro);break;case 10:Yi(r.type._context);break;case 22:case 23:lc()}n=n.return}if(Cs=e,Ts=e=Rc(e.current,null),Is=Ns=t,Ps=0,Rs=null,Os=Ms=Ds=0,Fs=Ls=null,null!==ea){for(t=0;t<ea.length;t++)if(null!==(r=(n=ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}ea=null}return e}function hc(e,t){for(;;){var n=Ts;try{if($i(),uo.current=nu,vo){for(var r=lo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}vo=!1}if(co=0,ho=fo=lo=null,po=!1,yo=0,xs.current=null,null===n||null===n.return){Ps=1,Rs=t,Ts=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Is,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=pu(u);if(null!==v){v.flags&=-257,yu(v,u,s,0,t),1&v.mode&&vu(o,l,t),c=l;var p=(t=v).updateQueue;if(null===p){var y=new Set;y.add(c),t.updateQueue=y}else p.add(c);break e}if(0===(1&t)){vu(o,l,t),vc();break e}c=Error(a(426))}else if(Ra&&1&s.mode){var m=pu(u);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),yu(m,u,s,0,t),ja(c);break e}}o=c,4!==Ps&&(Ps=2),null===Ls?Ls=[o]:Ls.push(o),c=ou(c,s),s=u;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,ua(s,hu(0,c,t));break e;case 1:o=c;var g=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===zs||!zs.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,ua(s,du(s,o,t));break e}}s=s.return}while(null!==s)}bc(n)}catch(k){t=k,Ts===n&&null!==n&&(Ts=n=n.return);continue}break}}function dc(){var e=Es.current;return Es.current=nu,null===e?nu:e}function vc(){0!==Ps&&3!==Ps&&2!==Ps||(Ps=4),null===Cs||0===(268435455&Ds)&&0===(268435455&Ms)||oc(Cs,Is)}function pc(e,t){var n=_s;_s|=2;var r=dc();for(Cs===e&&Is===t||(Bs=null,fc(e,t));;)try{yc();break}catch(i){hc(e,i)}if($i(),_s=n,Es.current=r,null!==Ts)throw Error(a(261));return Cs=null,Is=0,Ps}function yc(){for(;null!==Ts;)gc(Ts)}function mc(){for(;null!==Ts&&!$e();)gc(Ts)}function gc(e){var t=ks(e.alternate,e,Ns);e.memoizedProps=e.pendingProps,null===t?bc(e):Ts=t,xs.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=bu(n,t,Ns)))return void(Ts=n)}else{if(null!==(n=Hu(n,t)))return n.flags&=32767,void(Ts=n);if(null===e)return Ps=6,void(Ts=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ts=t);Ts=t=e}while(null!==t);0===Ps&&(Ps=5)}function kc(e,t,n){var r=bt,i=Ss.transition;try{Ss.transition=null,bt=1,function(e,t,n,r){do{wc()}while(null!==Hs);if(0!==(6&_s))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Cs&&(Ts=Cs=null,Is=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ks||(Ks=!0,Ic(tt,(function(){return wc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ss.transition,Ss.transition=null;var u=bt;bt=1;var s=_s;_s|=4,xs.current=null,function(e,t){if(ei=Kt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(E){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var v;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(v=h.firstChild);)d=h,h=v;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(v=h.nextSibling))break;d=(h=d).parentNode}h=v}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,$u=t;null!==$u;)if(e=(t=$u).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$u=e;else for(;null!==$u;){t=$u;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var y=p.memoizedProps,m=p.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:Ki(t.type,y),m);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;if(1===k.nodeType)k.textContent="";else if(9===k.nodeType){var w=k.body;null!=w&&(w.textContent="")}break;default:throw Error(a(163))}}catch(E){xc(t,t.return,E)}if(null!==(e=t.sibling)){e.return=t.return,$u=e;break}$u=t.return}p=Xu,Xu=!1}(e,n),ds(n,e),vr(ti),Kt=!!ei,ti=ei=null,e.current=n,ps(n,e,i),Ye(),_s=s,bt=u,Ss.transition=o}else e.current=n;if(Ks&&(Ks=!1,Hs=e,Ws=i),0===(o=e.pendingLanes)&&(zs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nc(e,Ze()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r(t[n]);if(js)throw js=!1,e=qs,qs=null,e;0!==(1&Ws)&&0!==e.tag&&wc(),0!==(1&(o=e.pendingLanes))?e===Qs?Gs++:(Gs=0,Qs=e):Gs=0,qi()}(e,t,n,r)}finally{Ss.transition=i,bt=r}return null}function wc(){if(null!==Hs){var e=kt(Ws),t=Ss.transition,n=bt;try{if(Ss.transition=null,bt=16>e?16:e,null===Hs)var r=!1;else{if(e=Hs,Hs=null,Ws=0,0!==(6&_s))throw Error(a(331));var i=_s;for(_s|=4,$u=e.current;null!==$u;){var o=$u,u=o.child;if(0!==(16&$u.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for($u=l;null!==$u;){var f=$u;switch(f.tag){case 0:case 11:case 15:Ju(8,f,o)}var h=f.child;if(null!==h)h.return=f,$u=h;else for(;null!==$u;){var d=(f=$u).sibling,v=f.return;if(ns(f),f===l){$u=null;break}if(null!==d){d.return=v,$u=d;break}$u=v}}}var p=o.alternate;if(null!==p){var y=p.child;if(null!==y){p.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(null!==y)}}$u=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,$u=u;else e:for(;null!==$u;){if(0!==(2048&(o=$u).flags))switch(o.tag){case 0:case 11:case 15:Ju(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,$u=g;break e}$u=o.return}}var b=e.current;for($u=b;null!==$u;){var k=(u=$u).child;if(0!==(2064&u.subtreeFlags)&&null!==k)k.return=u,$u=k;else e:for(u=b;null!==$u;){if(0!==(2048&(s=$u).flags))try{switch(s.tag){case 0:case 11:case 15:es(9,s)}}catch(E){xc(s,s.return,E)}if(s===u){$u=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,$u=w;break e}$u=s.return}}if(_s=i,qi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(E){}r=!0}return r}finally{bt=n,Ss.transition=t}}return!1}function Ec(e,t,n){aa(e,t=hu(0,t=ou(n,t),1)),t=Zs(),null!==(e=ec(e,1))&&(mt(e,1,t),nc(e,t))}function xc(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===zs||!zs.has(r))){aa(t,e=du(t,e=ou(n,e),1)),e=Zs(),null!==(t=ec(t,1))&&(mt(t,1,e),nc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Zs(),e.pingedLanes|=e.suspendedLanes&n,Cs===e&&(Is&n)===n&&(4===Ps||3===Ps&&(130023424&Is)===Is&&500>Ze()-Vs?fc(e,0):Os|=n),nc(e,t)}function _c(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=Zs();null!==(e=ec(e,t))&&(mt(e,t,n),nc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),_c(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),_c(e,n)}function Ic(e,t){return Ge(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new Nc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Pc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case x:return Mc(n.children,i,o,t);case S:u=8,i|=8;break;case _:return(e=Ac(12,n,t,2|i)).elementType=_,e.lanes=o,e;case N:return(e=Ac(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Ac(19,n,t,i)).elementType=A,e.lanes=o,e;case D:return Oc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:u=10;break e;case T:u=9;break e;case I:u=11;break e;case P:u=14;break e;case R:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ac(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function Oc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={},e}function Lc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,a,o,u,s){return e=new Vc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ac(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},na(a),e}function Bc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function jc(e){if(!e)return Ti;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Oi(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=Uc(n,r,!0,e,0,a,0,u,s)).context=jc(null),n=e.current,(a=ia(r=Zs(),i=Xs(n))).callback=void 0!==t&&null!==t?t:null,aa(n,a),e.current.lanes=i,mt(e,i,r),nc(e,r),e}function zc(e,t,n,r){var i=t.current,a=Zs(),o=Xs(i);return n=jc(n),null===t.context?t.context=n:t.pendingContext=n,(t=ia(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),aa(i,t),null!==(e=Js(i,o,a))&&oa(e,i,o),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}ks=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)wu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wu=!1,function(e,t,n){switch(t.tag){case 3:Pu(t),Ba();break;case 5:to(t);break;case 1:Ri(t.type)&&Li(t);break;case 4:Ja(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(Hi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(ro,1&ro.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Lu(e,t,n):(Ci(ro,1&ro.current),null!==(e=Ku(e,t,n))?e.sibling:null);Ci(ro,1&ro.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(ro,ro.current),r)break;return null;case 22:case 23:return t.lanes=0,Cu(e,t,n)}return Ku(e,t,n)}(e,t,n);wu=0!==(131072&e.flags)}else wu=!1,Ra&&0!==(1048576&t.flags)&&Ta(t,ka,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Pi(t,Ii.current);Xi(t,n),i=ko(null,t,r,e,i,n);var o=wo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,na(t),i.updater=ha,t.stateNode=i,i._reactInternals=t,ya(t,r,e,n),t=Au(null,t,r,!0,o,n)):(t.tag=0,Ra&&o&&Ia(t),Eu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===P)return 14}return 2}(r),e=Ki(r,e),i){case 0:t=Iu(null,t,r,e,n);break e;case 1:t=Nu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=Su(null,t,r,Ki(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Iu(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 1:return r=t.type,i=t.pendingProps,Nu(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 3:e:{if(Pu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ra(e,t),sa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ru(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Ru(e,t,r,n,i=Error(a(424)));break e}for(Pa=ci(t.stateNode.containerInfo.firstChild),Aa=t,Ra=!0,Da=null,n=Ga(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Ba(),r===i){t=Ku(e,t,n);break e}Eu(e,t,r,n)}t=t.child}return t;case 5:return to(t),null===e&&Fa(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Tu(e,t),Eu(e,t,u,n),t.child;case 6:return null===e&&Fa(t),null;case 13:return Lu(e,t,n);case 4:return Ja(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Wa(t,null,r,n):Eu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 7:return Eu(e,t,t.pendingProps,n),t.child;case 8:case 12:return Eu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ci(Hi,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ni.current){t=Ku(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=ia(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Zi(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Zi(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}Eu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Xi(t,n),r=r(i=Ji(i)),t.flags|=1,Eu(e,t,r,n),t.child;case 14:return i=Ki(r=t.type,t.pendingProps),Su(e,t,r,i=Ki(r.type,i),n);case 15:return _u(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ki(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ri(r)?(e=!0,Li(t)):e=!1,Xi(t,n),va(t,r,i),ya(t,r,i,n),Au(null,t,r,!0,e,n);case 19:return zu(e,t,n);case 22:return Cu(e,t,n)}throw Error(a(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Jc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Kc(o);u.call(e)}}zc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=o,e[vi]=o.current,qr(8===e.nodeType?e.parentNode:e),cc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Kc(s);u.call(e)}}var s=Uc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=s,e[vi]=s.current,qr(8===e.nodeType?e.parentNode:e),cc((function(){zc(t,s,n,r)})),s}(n,t,e,i,r);return Kc(o)}$c.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));zc(e,t,null,null)},$c.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cc((function(){zc(null,e,null,null)})),t[vi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),nc(t,Ze()),0===(6&_s)&&(Us=Ze()+500,qi()))}break;case 13:var r=Zs();cc((function(){return Js(e,1,r)})),Wc(e,1)}},Et=function(e){13===e.tag&&(Js(e,134217728,Zs()),Wc(e,134217728))},xt=function(e){if(13===e.tag){var t=Zs(),n=Xs(e);Js(e,n,t),Wc(e,n)}},St=function(){return bt},_t=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ee=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=sc,Ne=cc;var el={usingClientEntryPoint:!1,Events:[bi,ki,wi,Ce,Te,sc]},tl={findFiberByHostInstance:gi,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},nl={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rl.isDisabled&&rl.supportsFiber)try{it=rl.inject(nl),at=rl}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=el,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(a(200));return Bc(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(a(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[vi]=t.current,qr(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return cc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(a(200));return Jc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[vi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(a(200));return Jc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(a(40));return!!e._reactRootContainer&&(cc((function(){Jc(null,null,e,!1,(function(){e._reactRootContainer=null,e[vi]=null}))})),!0)},t.unstable_batchedUpdates=sc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Jc(e,t,n,!1,r)},t.version="18.1.0-next-22edb9f77-20220426"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,v=n?Symbol.for("react.suspense_list"):60120,p=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case y:case p:case s:return e;default:return t}}case i:return t}}}function E(e){return w(e)===f}t.isFragment=function(e){return w(e)===a},t.isMemo=function(e){return w(e)===p}},441:function(e,t,n){"use strict";e.exports=n(372)},179:function(e){e.exports={ReactQueryDevtools:function(){return null},ReactQueryDevtoolsPanel:function(){return null}}},708:function(e,t,n){"use strict";n.d(t,{QueryClient:function(){return r.S}});var r=n(404),i=n(44);n.o(i,"QueryClientProvider")&&n.d(t,{QueryClientProvider:function(){return i.QueryClientProvider}})},209:function(e,t,n){"use strict";n.d(t,{E:function(){return a},j:function(){return i}});var r=console;function i(){return r}function a(e){r=e}},363:function(e,t,n){"use strict";n.d(t,{V:function(){return a}});var r=n(985),i=function(){function e(){this.queue=[],this.transactions=0,this.notifyFn=function(e){e()},this.batchNotifyFn=function(e){e()}}var t=e.prototype;return t.batch=function(e){var t;this.transactions++;try{t=e()}finally{this.transactions--,this.transactions||this.flush()}return t},t.schedule=function(e){var t=this;this.transactions?this.queue.push(e):(0,r.A4)((function(){t.notifyFn(e)}))},t.batchCalls=function(e){var t=this;return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.schedule((function(){e.apply(void 0,r)}))}},t.flush=function(){var e=this,t=this.queue;this.queue=[],t.length&&(0,r.A4)((function(){e.batchNotifyFn((function(){t.forEach((function(t){e.notifyFn(t)}))}))}))},t.setNotifyFunction=function(e){this.notifyFn=e},t.setBatchNotifyFunction=function(e){this.batchNotifyFn=e},e}(),a=new i},404:function(e,t,n){"use strict";n.d(t,{S:function(){return x}});var r=n(462),i=n(985),a=n(611);function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,a.Z)(e,t)}var u=n(363),s=n(209),c=function(){function e(){this.listeners=[]}var t=e.prototype;return t.subscribe=function(e){var t=this,n=e||function(){};return this.listeners.push(n),this.onSubscribe(),function(){t.listeners=t.listeners.filter((function(e){return e!==n})),t.onUnsubscribe()}},t.hasListeners=function(){return this.listeners.length>0},t.onSubscribe=function(){},t.onUnsubscribe=function(){},e}(),l=new(function(e){function t(){var t;return(t=e.call(this)||this).setup=function(e){var t;if(!i.sk&&(null==(t=window)?void 0:t.addEventListener)){var n=function(){return e()};return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),function(){window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}},t}o(t,e);var n=t.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)},n.setEventListener=function(e){var t,n=this;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e((function(e){"boolean"===typeof e?n.setFocused(e):n.onFocus()}))},n.setFocused=function(e){this.focused=e,e&&this.onFocus()},n.onFocus=function(){this.listeners.forEach((function(e){e()}))},n.isFocused=function(){return"boolean"===typeof this.focused?this.focused:"undefined"===typeof document||[void 0,"visible","prerender"].includes(document.visibilityState)},t}(c)),f=new(function(e){function t(){var t;return(t=e.call(this)||this).setup=function(e){var t;if(!i.sk&&(null==(t=window)?void 0:t.addEventListener)){var n=function(){return e()};return window.addEventListener("online",n,!1),window.addEventListener("offline",n,!1),function(){window.removeEventListener("online",n),window.removeEventListener("offline",n)}}},t}o(t,e);var n=t.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)},n.setEventListener=function(e){var t,n=this;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e((function(e){"boolean"===typeof e?n.setOnline(e):n.onOnline()}))},n.setOnline=function(e){this.online=e,e&&this.onOnline()},n.onOnline=function(){this.listeners.forEach((function(e){e()}))},n.isOnline=function(){return"boolean"===typeof this.online?this.online:"undefined"===typeof navigator||"undefined"===typeof navigator.onLine||navigator.onLine},t}(c));function h(e){return Math.min(1e3*Math.pow(2,e),3e4)}function d(e){return"function"===typeof(null==e?void 0:e.cancel)}var v=function(e){this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent};function p(e){return e instanceof v}var y=function(e){var t,n,r,a,o=this,u=!1;this.abort=e.abort,this.cancel=function(e){return null==t?void 0:t(e)},this.cancelRetry=function(){u=!0},this.continueRetry=function(){u=!1},this.continue=function(){return null==n?void 0:n()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise((function(e,t){r=e,a=t}));var s=function(t){o.isResolved||(o.isResolved=!0,null==e.onSuccess||e.onSuccess(t),null==n||n(),r(t))},c=function(t){o.isResolved||(o.isResolved=!0,null==e.onError||e.onError(t),null==n||n(),a(t))};!function r(){if(!o.isResolved){var a;try{a=e.fn()}catch(p){a=Promise.reject(p)}t=function(e){if(!o.isResolved&&(c(new v(e)),null==o.abort||o.abort(),d(a)))try{a.cancel()}catch(t){}},o.isTransportCancelable=d(a),Promise.resolve(a).then(s).catch((function(t){var a,s;if(!o.isResolved){var d=null!=(a=e.retry)?a:3,v=null!=(s=e.retryDelay)?s:h,p="function"===typeof v?v(o.failureCount,t):v,y=!0===d||"number"===typeof d&&o.failureCount<d||"function"===typeof d&&d(o.failureCount,t);!u&&y?(o.failureCount++,null==e.onFail||e.onFail(o.failureCount,t),(0,i.Gh)(p).then((function(){if(!l.isFocused()||!f.isOnline())return new Promise((function(t){n=t,o.isPaused=!0,null==e.onPause||e.onPause()})).then((function(){n=void 0,o.isPaused=!1,null==e.onContinue||e.onContinue()}))})).then((function(){u?c(t):r()}))):c(t)}}))}}()},m=function(){function e(e){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=e.meta,this.scheduleGc()}var t=e.prototype;return t.setOptions=function(e){var t;this.options=(0,r.Z)({},this.defaultOptions,e),this.meta=null==e?void 0:e.meta,this.cacheTime=Math.max(this.cacheTime||0,null!=(t=this.options.cacheTime)?t:3e5)},t.setDefaultOptions=function(e){this.defaultOptions=e},t.scheduleGc=function(){var e=this;this.clearGcTimeout(),(0,i.PN)(this.cacheTime)&&(this.gcTimeout=setTimeout((function(){e.optionalRemove()}),this.cacheTime))},t.clearGcTimeout=function(){clearTimeout(this.gcTimeout),this.gcTimeout=void 0},t.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},t.setData=function(e,t){var n,r,a=this.state.data,o=(0,i.SE)(e,a);return(null==(n=(r=this.options).isDataEqual)?void 0:n.call(r,a,o))?o=a:!1!==this.options.structuralSharing&&(o=(0,i.Q$)(a,o)),this.dispatch({data:o,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt}),o},t.setState=function(e,t){this.dispatch({type:"setState",state:e,setStateOptions:t})},t.cancel=function(e){var t,n=this.promise;return null==(t=this.retryer)||t.cancel(e),n?n.then(i.ZT).catch(i.ZT):Promise.resolve()},t.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},t.reset=function(){this.destroy(),this.setState(this.initialState)},t.isActive=function(){return this.observers.some((function(e){return!1!==e.options.enabled}))},t.isFetching=function(){return this.state.isFetching},t.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some((function(e){return e.getCurrentResult().isStale}))},t.isStaleByTime=function(e){return void 0===e&&(e=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!(0,i.Kp)(this.state.dataUpdatedAt,e)},t.onFocus=function(){var e,t=this.observers.find((function(e){return e.shouldFetchOnWindowFocus()}));t&&t.refetch(),null==(e=this.retryer)||e.continue()},t.onOnline=function(){var e,t=this.observers.find((function(e){return e.shouldFetchOnReconnect()}));t&&t.refetch(),null==(e=this.retryer)||e.continue()},t.addObserver=function(e){-1===this.observers.indexOf(e)&&(this.observers.push(e),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))},t.removeObserver=function(e){-1!==this.observers.indexOf(e)&&(this.observers=this.observers.filter((function(t){return t!==e})),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:e}))},t.getObserversCount=function(){return this.observers.length},t.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},t.fetch=function(e,t){var n,r,a,o=this;if(this.state.isFetching)if(this.state.dataUpdatedAt&&(null==t?void 0:t.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var u;return null==(u=this.retryer)||u.continueRetry(),this.promise}if(e&&this.setOptions(e),!this.options.queryFn){var c=this.observers.find((function(e){return e.options.queryFn}));c&&this.setOptions(c.options)}var l=(0,i.mc)(this.queryKey),f=(0,i.G9)(),h={queryKey:l,pageParam:void 0,meta:this.meta};Object.defineProperty(h,"signal",{enumerable:!0,get:function(){if(f)return o.abortSignalConsumed=!0,f.signal}});var d,v,m={fetchOptions:t,options:this.options,queryKey:l,state:this.state,fetchFn:function(){return o.options.queryFn?(o.abortSignalConsumed=!1,o.options.queryFn(h)):Promise.reject("Missing queryFn")},meta:this.meta};(null==(n=this.options.behavior)?void 0:n.onFetch)&&(null==(d=this.options.behavior)||d.onFetch(m));(this.revertState=this.state,this.state.isFetching&&this.state.fetchMeta===(null==(r=m.fetchOptions)?void 0:r.meta))||this.dispatch({type:"fetch",meta:null==(v=m.fetchOptions)?void 0:v.meta});return this.retryer=new y({fn:m.fetchFn,abort:null==f||null==(a=f.abort)?void 0:a.bind(f),onSuccess:function(e){o.setData(e),null==o.cache.config.onSuccess||o.cache.config.onSuccess(e,o),0===o.cacheTime&&o.optionalRemove()},onError:function(e){p(e)&&e.silent||o.dispatch({type:"error",error:e}),p(e)||(null==o.cache.config.onError||o.cache.config.onError(e,o),(0,s.j)().error(e)),0===o.cacheTime&&o.optionalRemove()},onFail:function(){o.dispatch({type:"failed"})},onPause:function(){o.dispatch({type:"pause"})},onContinue:function(){o.dispatch({type:"continue"})},retry:m.options.retry,retryDelay:m.options.retryDelay}),this.promise=this.retryer.promise,this.promise},t.dispatch=function(e){var t=this;this.state=this.reducer(this.state,e),u.V.batch((function(){t.observers.forEach((function(t){t.onQueryUpdate(e)})),t.cache.notify({query:t,type:"queryUpdated",action:e})}))},t.getDefaultState=function(e){var t="function"===typeof e.initialData?e.initialData():e.initialData,n="undefined"!==typeof e.initialData?"function"===typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0,r="undefined"!==typeof t;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?null!=n?n:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:r?"success":"idle"}},t.reducer=function(e,t){var n,i;switch(t.type){case"failed":return(0,r.Z)({},e,{fetchFailureCount:e.fetchFailureCount+1});case"pause":return(0,r.Z)({},e,{isPaused:!0});case"continue":return(0,r.Z)({},e,{isPaused:!1});case"fetch":return(0,r.Z)({},e,{fetchFailureCount:0,fetchMeta:null!=(n=t.meta)?n:null,isFetching:!0,isPaused:!1},!e.dataUpdatedAt&&{error:null,status:"loading"});case"success":return(0,r.Z)({},e,{data:t.data,dataUpdateCount:e.dataUpdateCount+1,dataUpdatedAt:null!=(i=t.dataUpdatedAt)?i:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var a=t.error;return p(a)&&a.revert&&this.revertState?(0,r.Z)({},this.revertState):(0,r.Z)({},e,{error:a,errorUpdateCount:e.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:e.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return(0,r.Z)({},e,{isInvalidated:!0});case"setState":return(0,r.Z)({},e,t.state);default:return e}},e}(),g=function(e){function t(t){var n;return(n=e.call(this)||this).config=t||{},n.queries=[],n.queriesMap={},n}o(t,e);var n=t.prototype;return n.build=function(e,t,n){var r,a=t.queryKey,o=null!=(r=t.queryHash)?r:(0,i.Rm)(a,t),u=this.get(o);return u||(u=new m({cache:this,queryKey:a,queryHash:o,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(a),meta:t.meta}),this.add(u)),u},n.add=function(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"queryAdded",query:e}))},n.remove=function(e){var t=this.queriesMap[e.queryHash];t&&(e.destroy(),this.queries=this.queries.filter((function(t){return t!==e})),t===e&&delete this.queriesMap[e.queryHash],this.notify({type:"queryRemoved",query:e}))},n.clear=function(){var e=this;u.V.batch((function(){e.queries.forEach((function(t){e.remove(t)}))}))},n.get=function(e){return this.queriesMap[e]},n.getAll=function(){return this.queries},n.find=function(e,t){var n=(0,i.I6)(e,t)[0];return"undefined"===typeof n.exact&&(n.exact=!0),this.queries.find((function(e){return(0,i._x)(n,e)}))},n.findAll=function(e,t){var n=(0,i.I6)(e,t)[0];return Object.keys(n).length>0?this.queries.filter((function(e){return(0,i._x)(n,e)})):this.queries},n.notify=function(e){var t=this;u.V.batch((function(){t.listeners.forEach((function(t){t(e)}))}))},n.onFocus=function(){var e=this;u.V.batch((function(){e.queries.forEach((function(e){e.onFocus()}))}))},n.onOnline=function(){var e=this;u.V.batch((function(){e.queries.forEach((function(e){e.onOnline()}))}))},t}(c),b=function(){function e(e){this.options=(0,r.Z)({},e.defaultOptions,e.options),this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.observers=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0},this.meta=e.meta}var t=e.prototype;return t.setState=function(e){this.dispatch({type:"setState",state:e})},t.addObserver=function(e){-1===this.observers.indexOf(e)&&this.observers.push(e)},t.removeObserver=function(e){this.observers=this.observers.filter((function(t){return t!==e}))},t.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(i.ZT).catch(i.ZT)):Promise.resolve()},t.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},t.execute=function(){var e,t=this,n="loading"===this.state.status,r=Promise.resolve();return n||(this.dispatch({type:"loading",variables:this.options.variables}),r=r.then((function(){null==t.mutationCache.config.onMutate||t.mutationCache.config.onMutate(t.state.variables,t)})).then((function(){return null==t.options.onMutate?void 0:t.options.onMutate(t.state.variables)})).then((function(e){e!==t.state.context&&t.dispatch({type:"loading",context:e,variables:t.state.variables})}))),r.then((function(){return t.executeMutation()})).then((function(n){e=n,null==t.mutationCache.config.onSuccess||t.mutationCache.config.onSuccess(e,t.state.variables,t.state.context,t)})).then((function(){return null==t.options.onSuccess?void 0:t.options.onSuccess(e,t.state.variables,t.state.context)})).then((function(){return null==t.options.onSettled?void 0:t.options.onSettled(e,null,t.state.variables,t.state.context)})).then((function(){return t.dispatch({type:"success",data:e}),e})).catch((function(e){return null==t.mutationCache.config.onError||t.mutationCache.config.onError(e,t.state.variables,t.state.context,t),(0,s.j)().error(e),Promise.resolve().then((function(){return null==t.options.onError?void 0:t.options.onError(e,t.state.variables,t.state.context)})).then((function(){return null==t.options.onSettled?void 0:t.options.onSettled(void 0,e,t.state.variables,t.state.context)})).then((function(){throw t.dispatch({type:"error",error:e}),e}))}))},t.executeMutation=function(){var e,t=this;return this.retryer=new y({fn:function(){return t.options.mutationFn?t.options.mutationFn(t.state.variables):Promise.reject("No mutationFn found")},onFail:function(){t.dispatch({type:"failed"})},onPause:function(){t.dispatch({type:"pause"})},onContinue:function(){t.dispatch({type:"continue"})},retry:null!=(e=this.options.retry)?e:0,retryDelay:this.options.retryDelay}),this.retryer.promise},t.dispatch=function(e){var t=this;this.state=function(e,t){switch(t.type){case"failed":return(0,r.Z)({},e,{failureCount:e.failureCount+1});case"pause":return(0,r.Z)({},e,{isPaused:!0});case"continue":return(0,r.Z)({},e,{isPaused:!1});case"loading":return(0,r.Z)({},e,{context:t.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:t.variables});case"success":return(0,r.Z)({},e,{data:t.data,error:null,status:"success",isPaused:!1});case"error":return(0,r.Z)({},e,{data:void 0,error:t.error,failureCount:e.failureCount+1,isPaused:!1,status:"error"});case"setState":return(0,r.Z)({},e,t.state);default:return e}}(this.state,e),u.V.batch((function(){t.observers.forEach((function(t){t.onMutationUpdate(e)})),t.mutationCache.notify(t)}))},e}();var k=function(e){function t(t){var n;return(n=e.call(this)||this).config=t||{},n.mutations=[],n.mutationId=0,n}o(t,e);var n=t.prototype;return n.build=function(e,t,n){var r=new b({mutationCache:this,mutationId:++this.mutationId,options:e.defaultMutationOptions(t),state:n,defaultOptions:t.mutationKey?e.getMutationDefaults(t.mutationKey):void 0,meta:t.meta});return this.add(r),r},n.add=function(e){this.mutations.push(e),this.notify(e)},n.remove=function(e){this.mutations=this.mutations.filter((function(t){return t!==e})),e.cancel(),this.notify(e)},n.clear=function(){var e=this;u.V.batch((function(){e.mutations.forEach((function(t){e.remove(t)}))}))},n.getAll=function(){return this.mutations},n.find=function(e){return"undefined"===typeof e.exact&&(e.exact=!0),this.mutations.find((function(t){return(0,i.X7)(e,t)}))},n.findAll=function(e){return this.mutations.filter((function(t){return(0,i.X7)(e,t)}))},n.notify=function(e){var t=this;u.V.batch((function(){t.listeners.forEach((function(t){t(e)}))}))},n.onFocus=function(){this.resumePausedMutations()},n.onOnline=function(){this.resumePausedMutations()},n.resumePausedMutations=function(){var e=this.mutations.filter((function(e){return e.state.isPaused}));return u.V.batch((function(){return e.reduce((function(e,t){return e.then((function(){return t.continue().catch(i.ZT)}))}),Promise.resolve())}))},t}(c);function w(e,t){return null==e.getNextPageParam?void 0:e.getNextPageParam(t[t.length-1],t)}function E(e,t){return null==e.getPreviousPageParam?void 0:e.getPreviousPageParam(t[0],t)}var x=function(){function e(e){void 0===e&&(e={}),this.queryCache=e.queryCache||new g,this.mutationCache=e.mutationCache||new k,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var t=e.prototype;return t.mount=function(){var e=this;this.unsubscribeFocus=l.subscribe((function(){l.isFocused()&&f.isOnline()&&(e.mutationCache.onFocus(),e.queryCache.onFocus())})),this.unsubscribeOnline=f.subscribe((function(){l.isFocused()&&f.isOnline()&&(e.mutationCache.onOnline(),e.queryCache.onOnline())}))},t.unmount=function(){var e,t;null==(e=this.unsubscribeFocus)||e.call(this),null==(t=this.unsubscribeOnline)||t.call(this)},t.isFetching=function(e,t){var n=(0,i.I6)(e,t)[0];return n.fetching=!0,this.queryCache.findAll(n).length},t.isMutating=function(e){return this.mutationCache.findAll((0,r.Z)({},e,{fetching:!0})).length},t.getQueryData=function(e,t){var n;return null==(n=this.queryCache.find(e,t))?void 0:n.state.data},t.getQueriesData=function(e){return this.getQueryCache().findAll(e).map((function(e){return[e.queryKey,e.state.data]}))},t.setQueryData=function(e,t,n){var r=(0,i._v)(e),a=this.defaultQueryOptions(r);return this.queryCache.build(this,a).setData(t,n)},t.setQueriesData=function(e,t,n){var r=this;return u.V.batch((function(){return r.getQueryCache().findAll(e).map((function(e){var i=e.queryKey;return[i,r.setQueryData(i,t,n)]}))}))},t.getQueryState=function(e,t){var n;return null==(n=this.queryCache.find(e,t))?void 0:n.state},t.removeQueries=function(e,t){var n=(0,i.I6)(e,t)[0],r=this.queryCache;u.V.batch((function(){r.findAll(n).forEach((function(e){r.remove(e)}))}))},t.resetQueries=function(e,t,n){var a=this,o=(0,i.I6)(e,t,n),s=o[0],c=o[1],l=this.queryCache,f=(0,r.Z)({},s,{active:!0});return u.V.batch((function(){return l.findAll(s).forEach((function(e){e.reset()})),a.refetchQueries(f,c)}))},t.cancelQueries=function(e,t,n){var r=this,a=(0,i.I6)(e,t,n),o=a[0],s=a[1],c=void 0===s?{}:s;"undefined"===typeof c.revert&&(c.revert=!0);var l=u.V.batch((function(){return r.queryCache.findAll(o).map((function(e){return e.cancel(c)}))}));return Promise.all(l).then(i.ZT).catch(i.ZT)},t.invalidateQueries=function(e,t,n){var a,o,s,c=this,l=(0,i.I6)(e,t,n),f=l[0],h=l[1],d=(0,r.Z)({},f,{active:null==(a=null!=(o=f.refetchActive)?o:f.active)||a,inactive:null!=(s=f.refetchInactive)&&s});return u.V.batch((function(){return c.queryCache.findAll(f).forEach((function(e){e.invalidate()})),c.refetchQueries(d,h)}))},t.refetchQueries=function(e,t,n){var a=this,o=(0,i.I6)(e,t,n),s=o[0],c=o[1],l=u.V.batch((function(){return a.queryCache.findAll(s).map((function(e){return e.fetch(void 0,(0,r.Z)({},c,{meta:{refetchPage:null==s?void 0:s.refetchPage}}))}))})),f=Promise.all(l).then(i.ZT);return(null==c?void 0:c.throwOnError)||(f=f.catch(i.ZT)),f},t.fetchQuery=function(e,t,n){var r=(0,i._v)(e,t,n),a=this.defaultQueryOptions(r);"undefined"===typeof a.retry&&(a.retry=!1);var o=this.queryCache.build(this,a);return o.isStaleByTime(a.staleTime)?o.fetch(a):Promise.resolve(o.state.data)},t.prefetchQuery=function(e,t,n){return this.fetchQuery(e,t,n).then(i.ZT).catch(i.ZT)},t.fetchInfiniteQuery=function(e,t,n){var r=(0,i._v)(e,t,n);return r.behavior={onFetch:function(e){e.fetchFn=function(){var t,n,r,a,o,u,s,c=null==(t=e.fetchOptions)||null==(n=t.meta)?void 0:n.refetchPage,l=null==(r=e.fetchOptions)||null==(a=r.meta)?void 0:a.fetchMore,f=null==l?void 0:l.pageParam,h="forward"===(null==l?void 0:l.direction),v="backward"===(null==l?void 0:l.direction),p=(null==(o=e.state.data)?void 0:o.pages)||[],y=(null==(u=e.state.data)?void 0:u.pageParams)||[],m=(0,i.G9)(),g=null==m?void 0:m.signal,b=y,k=!1,x=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},S=function(e,t,n,r){return b=r?[t].concat(b):[].concat(b,[t]),r?[n].concat(e):[].concat(e,[n])},_=function(t,n,r,i){if(k)return Promise.reject("Cancelled");if("undefined"===typeof r&&!n&&t.length)return Promise.resolve(t);var a={queryKey:e.queryKey,signal:g,pageParam:r,meta:e.meta},o=x(a),u=Promise.resolve(o).then((function(e){return S(t,r,e,i)}));return d(o)&&(u.cancel=o.cancel),u};if(p.length)if(h){var C="undefined"!==typeof f,T=C?f:w(e.options,p);s=_(p,C,T)}else if(v){var I="undefined"!==typeof f,N=I?f:E(e.options,p);s=_(p,I,N,!0)}else!function(){b=[];var t="undefined"===typeof e.options.getNextPageParam,n=!c||!p[0]||c(p[0],0,p);s=n?_([],t,y[0]):Promise.resolve(S([],y[0],p[0]));for(var r=function(n){s=s.then((function(r){if(!c||!p[n]||c(p[n],n,p)){var i=t?y[n]:w(e.options,r);return _(r,t,i)}return Promise.resolve(S(r,y[n],p[n]))}))},i=1;i<p.length;i++)r(i)}();else s=_([]);var A=s.then((function(e){return{pages:e,pageParams:b}}));return A.cancel=function(){k=!0,null==m||m.abort(),d(s)&&s.cancel()},A}}},this.fetchQuery(r)},t.prefetchInfiniteQuery=function(e,t,n){return this.fetchInfiniteQuery(e,t,n).then(i.ZT).catch(i.ZT)},t.cancelMutations=function(){var e=this,t=u.V.batch((function(){return e.mutationCache.getAll().map((function(e){return e.cancel()}))}));return Promise.all(t).then(i.ZT).catch(i.ZT)},t.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},t.executeMutation=function(e){return this.mutationCache.build(this,e).execute()},t.getQueryCache=function(){return this.queryCache},t.getMutationCache=function(){return this.mutationCache},t.getDefaultOptions=function(){return this.defaultOptions},t.setDefaultOptions=function(e){this.defaultOptions=e},t.setQueryDefaults=function(e,t){var n=this.queryDefaults.find((function(t){return(0,i.yF)(e)===(0,i.yF)(t.queryKey)}));n?n.defaultOptions=t:this.queryDefaults.push({queryKey:e,defaultOptions:t})},t.getQueryDefaults=function(e){var t;return e?null==(t=this.queryDefaults.find((function(t){return(0,i.to)(e,t.queryKey)})))?void 0:t.defaultOptions:void 0},t.setMutationDefaults=function(e,t){var n=this.mutationDefaults.find((function(t){return(0,i.yF)(e)===(0,i.yF)(t.mutationKey)}));n?n.defaultOptions=t:this.mutationDefaults.push({mutationKey:e,defaultOptions:t})},t.getMutationDefaults=function(e){var t;return e?null==(t=this.mutationDefaults.find((function(t){return(0,i.to)(e,t.mutationKey)})))?void 0:t.defaultOptions:void 0},t.defaultQueryOptions=function(e){if(null==e?void 0:e._defaulted)return e;var t=(0,r.Z)({},this.defaultOptions.queries,this.getQueryDefaults(null==e?void 0:e.queryKey),e,{_defaulted:!0});return!t.queryHash&&t.queryKey&&(t.queryHash=(0,i.Rm)(t.queryKey,t)),t},t.defaultQueryObserverOptions=function(e){return this.defaultQueryOptions(e)},t.defaultMutationOptions=function(e){return(null==e?void 0:e._defaulted)?e:(0,r.Z)({},this.defaultOptions.mutations,this.getMutationDefaults(null==e?void 0:e.mutationKey),e,{_defaulted:!0})},t.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},e}()},44:function(){},985:function(e,t,n){"use strict";n.d(t,{A4:function(){return x},G9:function(){return S},Gh:function(){return E},I6:function(){return f},Kp:function(){return c},PN:function(){return u},Q$:function(){return g},Rm:function(){return v},SE:function(){return o},X7:function(){return d},ZT:function(){return a},_v:function(){return l},_x:function(){return h},mc:function(){return s},sk:function(){return i},to:function(){return y},yF:function(){return p}});var r=n(462),i="undefined"===typeof window;function a(){}function o(e,t){return"function"===typeof e?e(t):e}function u(e){return"number"===typeof e&&e>=0&&e!==1/0}function s(e){return Array.isArray(e)?e:[e]}function c(e,t){return Math.max(e+(t||0)-Date.now(),0)}function l(e,t,n){return w(e)?"function"===typeof t?(0,r.Z)({},n,{queryKey:e,queryFn:t}):(0,r.Z)({},t,{queryKey:e}):e}function f(e,t,n){return w(e)?[(0,r.Z)({},t,{queryKey:e}),n]:[e||{},t]}function h(e,t){var n=e.active,r=e.exact,i=e.fetching,a=e.inactive,o=e.predicate,u=e.queryKey,s=e.stale;if(w(u))if(r){if(t.queryHash!==v(u,t.options))return!1}else if(!y(t.queryKey,u))return!1;var c=function(e,t){return!0===e&&!0===t||null==e&&null==t?"all":!1===e&&!1===t?"none":(null!=e?e:!t)?"active":"inactive"}(n,a);if("none"===c)return!1;if("all"!==c){var l=t.isActive();if("active"===c&&!l)return!1;if("inactive"===c&&l)return!1}return("boolean"!==typeof s||t.isStale()===s)&&(("boolean"!==typeof i||t.isFetching()===i)&&!(o&&!o(t)))}function d(e,t){var n=e.exact,r=e.fetching,i=e.predicate,a=e.mutationKey;if(w(a)){if(!t.options.mutationKey)return!1;if(n){if(p(t.options.mutationKey)!==p(a))return!1}else if(!y(t.options.mutationKey,a))return!1}return("boolean"!==typeof r||"loading"===t.state.status===r)&&!(i&&!i(t))}function v(e,t){return((null==t?void 0:t.queryKeyHashFn)||p)(e)}function p(e){var t,n=s(e);return t=n,JSON.stringify(t,(function(e,t){return b(t)?Object.keys(t).sort().reduce((function(e,n){return e[n]=t[n],e}),{}):t}))}function y(e,t){return m(s(e),s(t))}function m(e,t){return e===t||typeof e===typeof t&&(!(!e||!t||"object"!==typeof e||"object"!==typeof t)&&!Object.keys(t).some((function(n){return!m(e[n],t[n])})))}function g(e,t){if(e===t)return e;var n=Array.isArray(e)&&Array.isArray(t);if(n||b(e)&&b(t)){for(var r=n?e.length:Object.keys(e).length,i=n?t:Object.keys(t),a=i.length,o=n?[]:{},u=0,s=0;s<a;s++){var c=n?s:i[s];o[c]=g(e[c],t[c]),o[c]===e[c]&&u++}return r===a&&u===r?e:o}return t}function b(e){if(!k(e))return!1;var t=e.constructor;if("undefined"===typeof t)return!0;var n=t.prototype;return!!k(n)&&!!n.hasOwnProperty("isPrototypeOf")}function k(e){return"[object Object]"===Object.prototype.toString.call(e)}function w(e){return"string"===typeof e||Array.isArray(e)}function E(e){return new Promise((function(t){setTimeout(t,e)}))}function x(e){Promise.resolve().then(e).catch((function(e){return setTimeout((function(){throw e}))}))}function S(){if("function"===typeof AbortController)return new AbortController}},933:function(e,t,n){"use strict";n.d(t,{QueryClient:function(){return r.QueryClient},QueryClientProvider:function(){return i.QueryClientProvider}});var r=n(708);n.o(r,"QueryClientProvider")&&n.d(t,{QueryClientProvider:function(){return r.QueryClientProvider}});var i=n(942)},942:function(e,t,n){"use strict";n.d(t,{QueryClientProvider:function(){return f}});var r=n(363),i=n(164).unstable_batchedUpdates;r.V.setBatchNotifyFunction(i);var a=n(209),o=console;(0,a.E)(o);var u=n(791),s=u.createContext(void 0),c=u.createContext(!1);function l(e){return e&&"undefined"!==typeof window?(window.ReactQueryClientContext||(window.ReactQueryClientContext=s),window.ReactQueryClientContext):s}var f=function(e){var t=e.client,n=e.contextSharing,r=void 0!==n&&n,i=e.children;u.useEffect((function(){return t.mount(),function(){t.unmount()}}),[t]);var a=l(r);return u.createElement(c.Provider,{value:r},u.createElement(a.Provider,{value:t},i))}},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,y={};function m(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||v}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||v}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var k=b.prototype=new g;k.constructor=b,p(k,m.prototype),k.isPureReactComponent=!0;var w=Array.isArray,E=Object.prototype.hasOwnProperty,x={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)E.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:x.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+I(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+I(u=e[c],c);s+=N(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,l=a+I(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},D={transition:null},M={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:D,ReactCurrentOwner:x};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=p({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)E.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.1.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),o=new I(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===v){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=_(o,n);if(u){if(u===p)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?v:h,s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=v,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",v="completed",p={};function y(){}function m(){}function g(){}var b={};s(b,a,(function(){return this}));var k=Object.getPrototypeOf,w=k&&k(k(N([])));w&&w!==n&&r.call(w,a)&&(b=w);var E=g.prototype=y.prototype=Object.create(b);function x(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function _(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,_(e,n),"throw"===n.method))return p;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,p;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function N(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return m.prototype=g,s(E,"constructor",g),s(g,"constructor",m),m.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},x(S.prototype),s(S.prototype,o,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new S(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(E),s(E,u,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,v=!1,p=!1,y=!1,m="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(y=!1,k(e),!p)if(null!==r(c))p=!0,D(E);else{var t=r(l);null!==t&&M(w,t.startTime-e)}}function E(e,n){p=!1,y&&(y=!1,g(C),C=-1),v=!0;var a=d;try{for(k(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),k(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&M(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,v=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,S=!1,_=null,C=-1,T=5,I=-1;function N(){return!(t.unstable_now()-I<T)}function A(){if(null!==_){var e=t.unstable_now();I=e;var n=!0;try{n=_(!0,e)}finally{n?x():(S=!1,_=null)}}else S=!1}if("function"===typeof b)x=function(){b(A)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,R=P.port2;P.port1.onmessage=A,x=function(){R.postMessage(null)}}else x=function(){m(A,0)};function D(e){_=e,S||(S=!0,x())}function M(e,n){C=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||v||(p=!0,D(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(y?(g(C),C=-1):y=!0,M(w,a-o))):(e.sortIndex=u,n(c,e),p||v||(p=!0,D(E))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},462:function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Pf},SDK_VERSION:function(){return Sh},_DEFAULT_ENTRY_NAME:function(){return fh},_addComponent:function(){return ph},_addOrOverwriteComponent:function(){return yh},_apps:function(){return dh},_clearComponents:function(){return kh},_components:function(){return vh},_getProvider:function(){return gh},_registerComponent:function(){return mh},_removeServiceInstance:function(){return bh},deleteApp:function(){return Ih},getApp:function(){return Ch},getApps:function(){return Th},initializeApp:function(){return _h},onLog:function(){return Ph},registerVersion:function(){return Ah},setLogLevel:function(){return Rh}});var t=n(791),r=n.t(t,2),i=n(250);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function u(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function s(e){return function(e){if(Array.isArray(e))return a(e)}(e)||o(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){l(a,r,i,o,u,"next",e)}function u(e){l(a,r,i,o,u,"throw",e)}o(void 0)}))}}function h(e){if(Array.isArray(e))return e}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(e,t){return h(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||u(e,t)||d()}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var y=n(611);function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function g(e,t,n){return g=m()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&(0,y.Z)(i,n.prototype),i},g.apply(null,arguments)}function b(e){var t="function"===typeof Map?new Map:void 0;return b=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return g(e,arguments,p(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),(0,y.Z)(n,e)},b(e)}function k(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,y.Z)(e,t)}function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function T(e,t){if(t&&("object"===C(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return S(e)}function I(e){var t=m();return function(){var n,r=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return T(this,n)}}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t,n){return t&&A(e.prototype,t),n&&A(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var R=n(757),D=n.n(R),M=n(164),O=n.t(M,2),L=["override"],F=["cachePolicyForParams_UNSTABLE"],V=D().mark(pt),U=D().mark(In);var B=function(e){var t=new Error(e);if(void 0===t.stack)try{throw t}catch(n){}return t},j=B;var q=function(e){return!!e&&"function"===typeof e.then};var z=function(e,t){if(null!=e)return e;throw j(null!==t&&void 0!==t?t:"Got unexpected null or undefined")};function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H=function(){function e(){N(this,e)}return P(e,[{key:"getValue",value:function(){throw j("BaseLoadable")}},{key:"toPromise",value:function(){throw j("BaseLoadable")}},{key:"valueMaybe",value:function(){throw j("BaseLoadable")}},{key:"valueOrThrow",value:function(){throw j('Loadable expected value, but in "'.concat(this.state,'" state'))}},{key:"promiseMaybe",value:function(){throw j("BaseLoadable")}},{key:"promiseOrThrow",value:function(){throw j('Loadable expected promise, but in "'.concat(this.state,'" state'))}},{key:"errorMaybe",value:function(){throw j("BaseLoadable")}},{key:"errorOrThrow",value:function(){throw j('Loadable expected error, but in "'.concat(this.state,'" state'))}},{key:"is",value:function(e){return e.state===this.state&&e.contents===this.contents}},{key:"map",value:function(e){throw j("BaseLoadable")}}]),e}(),W=function(e){_(n,e);var t=I(n);function n(e){var r;return N(this,n),K(S(r=t.call(this)),"state","hasValue"),K(S(r),"contents",void 0),r.contents=e,r}return P(n,[{key:"getValue",value:function(){return this.contents}},{key:"toPromise",value:function(){return Promise.resolve(this.contents)}},{key:"valueMaybe",value:function(){return this.contents}},{key:"valueOrThrow",value:function(){return this.contents}},{key:"promiseMaybe",value:function(){}},{key:"errorMaybe",value:function(){}},{key:"map",value:function(e){var t=this;try{var n=e(this.contents);return q(n)?Z(n):ee(n)?n:$(n)}catch(r){return q(r)?Z(r.next((function(){return t.map(e)}))):Y(r)}}}]),n}(H),G=function(e){_(n,e);var t=I(n);function n(e){var r;return N(this,n),K(S(r=t.call(this)),"state","hasError"),K(S(r),"contents",void 0),r.contents=e,r}return P(n,[{key:"getValue",value:function(){throw this.contents}},{key:"toPromise",value:function(){return Promise.reject(this.contents)}},{key:"valueMaybe",value:function(){}},{key:"promiseMaybe",value:function(){}},{key:"errorMaybe",value:function(){return this.contents}},{key:"errorOrThrow",value:function(){return this.contents}},{key:"map",value:function(e){return this}}]),n}(H),Q=function(e){_(n,e);var t=I(n);function n(e){var r;return N(this,n),K(S(r=t.call(this)),"state","loading"),K(S(r),"contents",void 0),r.contents=e,r}return P(n,[{key:"getValue",value:function(){throw this.contents}},{key:"toPromise",value:function(){return this.contents}},{key:"valueMaybe",value:function(){}},{key:"promiseMaybe",value:function(){return this.contents}},{key:"promiseOrThrow",value:function(){return this.contents}},{key:"errorMaybe",value:function(){}},{key:"map",value:function(e){var t=this;return Z(this.contents.then((function(t){var n=e(t);if(ee(n)){var r=n;switch(r.state){case"hasValue":case"loading":return r.contents;case"hasError":throw r.contents}}return n})).catch((function(n){if(q(n))return n.then((function(){return t.map(e).contents}));throw n})))}}]),n}(H);function $(e){return Object.freeze(new W(e))}function Y(e){return Object.freeze(new G(e))}function Z(e){return Object.freeze(new Q(e))}function X(){return Object.freeze(new Q(new Promise((function(){}))))}function J(e){var t=Array.isArray(e)?e:Object.getOwnPropertyNames(e).map((function(t){return e[t]})),n=t.map((function(e){return ee(e)?e:q(e)?Z(e):$(e)})),r=function(e){return e.every((function(e){return"hasValue"===e.state}))?$(e.map((function(e){return e.contents}))):e.some((function(e){return"hasError"===e.state}))?Y(z(e.find((function(e){return"hasError"===e.state})),"Invalid loadable passed to loadableAll").contents):Z(Promise.all(e.map((function(e){return e.contents}))))}(n);return Array.isArray(e)?r:r.map((function(t){return Object.getOwnPropertyNames(e).reduce((function(e,n,r){return x(x({},e),{},w({},n,t[r]))}),{})}))}function ee(e){return e instanceof H}var te={of:function(e){return q(e)?Z(e):ee(e)?e:$(e)},error:function(e){return Y(e)},loading:function(){return X()},all:J,isLoadable:ee},ne={loadableWithValue:$,loadableWithError:Y,loadableWithPromise:Z,loadableLoading:X,loadableAll:J,isLoadable:ee,RecoilLoadable:te},re=ne.loadableWithValue,ie=ne.loadableWithError,ae=ne.loadableWithPromise,oe=ne.loadableLoading,ue=ne.loadableAll,se=ne.isLoadable,ce=ne.RecoilLoadable,le=Object.freeze({__proto__:null,loadableWithValue:re,loadableWithError:ie,loadableWithPromise:ae,loadableLoading:oe,loadableAll:ue,isLoadable:se,RecoilLoadable:ce}),fe=(new Map).set("recoil_hamt_2020",!0).set("recoil_sync_external_store",!0).set("recoil_suppress_rerender_in_callback",!0).set("recoil_memory_managament_2020",!0);function he(e){var t;return null!==(t=fe.get(e))&&void 0!==t&&t}he.setPass=function(e){fe.set(e,!0)},he.setFail=function(e){fe.set(e,!1)},he.clear=function(){fe.clear()};var de,ve,pe,ye=he,me=null!==(de=t.createMutableSource)&&void 0!==de?de:t.unstable_createMutableSource,ge=null!==(ve=t.useMutableSource)&&void 0!==ve?ve:t.unstable_useMutableSource,be=null!==(pe=t.useSyncExternalStore)&&void 0!==pe?pe:t.unstable_useSyncExternalStore;var ke={createMutableSource:me,useMutableSource:ge,useSyncExternalStore:be,reactMode:function(){return ye("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:ye("recoil_sync_external_store")&&null!=be?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:ye("recoil_mutable_source")&&null!=ge&&"undefined"!==typeof window&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?ye("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:ye("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}},isFastRefreshEnabled:function(){return!1}},we=P((function e(t){N(this,e),K(this,"key",void 0),this.key=t})),Ee=function(e){_(n,e);var t=I(n);function n(){return N(this,n),t.apply(this,arguments)}return P(n)}(we),xe=function(e){_(n,e);var t=I(n);function n(){return N(this,n),t.apply(this,arguments)}return P(n)}(we);var Se={AbstractRecoilValue:we,RecoilState:Ee,RecoilValueReadOnly:xe,isRecoilValue:function(e){return e instanceof Ee||e instanceof xe}},_e=Se.AbstractRecoilValue,Ce=Se.RecoilState,Te=Se.RecoilValueReadOnly,Ie=Se.isRecoilValue,Ne=Object.freeze({__proto__:null,AbstractRecoilValue:_e,RecoilState:Ce,RecoilValueReadOnly:Te,isRecoilValue:Ie});var Ae=function(e){};var Pe=function(e,t){return D().mark((function n(){var r,i,a,o;return D().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=0,i=k(e),n.prev=2,i.s();case 4:if((a=i.n()).done){n.next=10;break}return o=a.value,n.next=8,t(o,r++);case 8:n.next=4;break;case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(2),i.e(n.t0);case 15:return n.prev=15,i.f(),n.finish(15);case 18:case"end":return n.stop()}}),n,null,[[2,12,15,18]])}))()};var Re=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.error,null},De=Re,Me=P((function e(){N(this,e)})),Oe=new Me,Le=function(e){_(n,e);var t=I(n);function n(e){return N(this,n),t.call(this,"Tried to set the value of Recoil selector ".concat(e," using an updater function, but it is an async selector in a pending or error state; this is not supported."))}return P(n)}(b(Error)),Fe=new Map,Ve=new Map;var Ue=function(e){_(n,e);var t=I(n);function n(){return N(this,n),t.apply(this,arguments)}return P(n)}(b(Error));var Be=new Map;function je(e){return Be.get(e)}var qe={nodes:Fe,recoilValues:Ve,registerNode:function(e){if(Fe.has(e.key)){var t='Duplicate atom key "'.concat(e.key,'". This is a FATAL ERROR in\n      production. But it is safe to ignore this warning if it occurred because of\n      hot module replacement.');console.warn(t)}Fe.set(e.key,e);var n=null==e.set?new Ne.RecoilValueReadOnly(e.key):new Ne.RecoilState(e.key);return Ve.set(e.key,n),n},getNode:function(e){var t=Fe.get(e);if(null==t)throw new Ue('Missing definition for RecoilValue: "'.concat(e,'""'));return t},getNodeMaybe:function(e){return Fe.get(e)},deleteNodeConfigIfPossible:function(e){var t;if(ye("recoil_memory_managament_2020")){var n,r=Fe.get(e);if(null!==r&&void 0!==r&&null!==(t=r.shouldDeleteConfigOnRelease)&&void 0!==t&&t.call(r))Fe.delete(e),null===(n=je(e))||void 0===n||n(),Be.delete(e)}},setConfigDeletionHandler:function(e,t){ye("recoil_memory_managament_2020")&&(void 0===t?Be.delete(e):Be.set(e,t))},getConfigDeletionHandler:je,recoilValuesForKeys:function(e){return Pe(e,(function(e){return z(Ve.get(e))}))},NodeMissingError:Ue,DefaultValue:Me,DEFAULT_VALUE:Oe,RecoilValueNotReady:Le};var ze={enqueueExecution:function(e,t){t()}};var Ke=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){var t="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n={},r=Math.pow(2,5),i=r-1,a=r/2,o=r/4,u={},s=function(e){return function(){return e}},c=n.hash=function(e){var n="undefined"===typeof e?"undefined":t(e);if("number"===n)return e;"string"!==n&&(e+="");for(var r=0,i=0,a=e.length;i<a;++i){r=(r<<5)-r+e.charCodeAt(i)|0}return r},l=function(e,t){return t>>>e&i},f=function(e){return 1<<e},h=function(e,t){return function(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&e+(e>>16)}(e&t-1)},d=function(e,t,n,r){var i=r;if(!e){var a=r.length;i=new Array(a);for(var o=0;o<a;++o)i[o]=r[o]}return i[t]=n,i},v=function(e,t,n){var r=n.length-1,i=0,a=0,o=n;if(e)i=a=t;else for(o=new Array(r);i<t;)o[a++]=n[i++];for(++i;i<=r;)o[a++]=n[i++];return e&&(o.length=r),o},p={__hamt_isEmpty:!0},y=function(e){return e===p||e&&e.__hamt_isEmpty},m=function(e,t,n,r){return{type:1,edit:e,hash:t,key:n,value:r,_modify:x}},g=function(e,t,n){return{type:2,edit:e,hash:t,children:n,_modify:S}},b=function(e,t,n){return{type:3,edit:e,mask:t,children:n,_modify:_}},k=function(e,t,n){return{type:4,edit:e,size:t,children:n,_modify:C}},w=function e(t,n,r,i,a,o){if(r===a)return g(t,r,[o,i]);var u=l(n,r),s=l(n,a);return b(t,f(u)|f(s),u===s?[e(t,n+5,r,i,a,o)]:u<s?[i,o]:[o,i])},E=function(e,t){return e===t.edit},x=function(e,t,n,r,i,a,o){if(t(a,this.key)){var s=r(this.value);return s===this.value?this:s===u?(--o.value,p):E(e,this)?(this.value=s,this):m(e,i,a,s)}var c=r();return c===u?this:(++o.value,w(e,n,this.hash,this,i,m(e,i,a,c)))},S=function(e,t,n,r,i,a,o){if(i===this.hash){var s=function(e,t,n,r,i,a,o,s){for(var c=i.length,l=0;l<c;++l){var f=i[l];if(n(o,f.key)){var h=f.value,p=a(h);return p===h?i:p===u?(--s.value,v(e,l,i)):d(e,l,m(t,r,o,p),i)}}var y=a();return y===u?i:(++s.value,d(e,c,m(t,r,o,y),i))}(E(e,this),e,t,this.hash,this.children,r,a,o);return s===this.children?this:s.length>1?g(e,this.hash,s):s[0]}var c=r();return c===u?this:(++o.value,w(e,n,this.hash,this,i,m(e,i,a,c)))},_=function(e,t,n,r,i,o,u){var s=this.mask,c=this.children,m=l(n,i),g=f(m),w=h(s,g),x=s&g,S=x?c[w]:p,_=S._modify(e,t,n+5,r,i,o,u);if(S===_)return this;var C,T=E(e,this),I=s,N=void 0;if(x&&y(_)){if(!(I&=~g))return p;if(c.length<=2&&((C=c[1^w])===p||1===C.type||2===C.type))return c[1^w];N=v(T,w,c)}else if(x||y(_))N=d(T,w,_,c);else{if(c.length>=a)return function(e,t,n,r,i){for(var a=[],o=r,u=0,s=0;o;++s)1&o&&(a[s]=i[u++]),o>>>=1;return a[t]=n,k(e,u+1,a)}(e,m,_,s,c);I|=g,N=function(e,t,n,r){var i=r.length;if(e){for(var a=i;a>=t;)r[a--]=r[a];return r[t]=n,r}for(var o=0,u=0,s=new Array(i+1);o<t;)s[u++]=r[o++];for(s[t]=n;o<i;)s[++u]=r[o++];return s}(T,w,_,c)}return T?(this.mask=I,this.children=N,this):b(e,I,N)},C=function(e,t,n,r,i,a,u){var s=this.size,c=this.children,f=l(n,i),h=c[f],v=(h||p)._modify(e,t,n+5,r,i,a,u);if(h===v)return this;var m=E(e,this),g=void 0;if(y(h)&&!y(v))++s,g=d(m,f,v,c);else if(!y(h)&&y(v)){if(--s<=o)return function(e,t,n,r){for(var i=new Array(t-1),a=0,o=0,u=0,s=r.length;u<s;++u)if(u!==n){var c=r[u];c&&!y(c)&&(i[a++]=c,o|=1<<u)}return b(e,o,i)}(e,s,f,c);g=d(m,f,p,c)}else g=d(m,f,v,c);return m?(this.size=s,this.children=g,this):k(e,s,g)};function T(e,t,n,r,i){this._editable=e,this._edit=t,this._config=n,this._root=r,this._size=i}p._modify=function(e,t,n,r,i,a,o){var s=r();return s===u?p:(++o.value,m(e,i,a,s))},T.prototype.setTree=function(e,t){return this._editable?(this._root=e,this._size=t,this):e===this._root?this:new T(this._editable,this._edit,this._config,e,t)};var I=n.tryGetHash=function(e,t,n,r){for(var i=r._root,a=0,o=r._config.keyEq;;)switch(i.type){case 1:return o(n,i.key)?i.value:e;case 2:if(t===i.hash)for(var u=i.children,s=0,c=u.length;s<c;++s){var d=u[s];if(o(n,d.key))return d.value}return e;case 3:var v=l(a,t),p=f(v);if(i.mask&p){i=i.children[h(i.mask,p)],a+=5;break}return e;case 4:if(i=i.children[l(a,t)]){a+=5;break}return e;default:return e}};T.prototype.tryGetHash=function(e,t,n){return I(e,t,n,this)};var N=n.tryGet=function(e,t,n){return I(e,n._config.hash(t),t,n)};T.prototype.tryGet=function(e,t){return N(e,t,this)};var A=n.getHash=function(e,t,n){return I(void 0,e,t,n)};T.prototype.getHash=function(e,t){return A(e,t,this)};n.get=function(e,t){return I(void 0,t._config.hash(e),e,t)};T.prototype.get=function(e,t){return N(t,e,this)};var P=n.has=function(e,t,n){return I(u,e,t,n)!==u};T.prototype.hasHash=function(e,t){return P(e,t,this)};var R=n.has=function(e,t){return P(t._config.hash(e),e,t)};T.prototype.has=function(e){return R(e,this)};var D=function(e,t){return e===t};n.make=function(e){return new T(0,0,{keyEq:e&&e.keyEq||D,hash:e&&e.hash||c},p,0)},n.empty=n.make();var M=n.isEmpty=function(e){return e&&!!y(e._root)};T.prototype.isEmpty=function(){return M(this)};var O=n.modifyHash=function(e,t,n,r){var i={value:r._size},a=r._root._modify(r._editable?r._edit:NaN,r._config.keyEq,0,e,t,n,i);return r.setTree(a,i.value)};T.prototype.modifyHash=function(e,t,n){return O(n,e,t,this)};var L=n.modify=function(e,t,n){return O(e,n._config.hash(t),t,n)};T.prototype.modify=function(e,t){return L(t,e,this)};var F=n.setHash=function(e,t,n,r){return O(s(n),e,t,r)};T.prototype.setHash=function(e,t,n){return F(e,t,n,this)};var V=n.set=function(e,t,n){return F(n._config.hash(e),e,t,n)};T.prototype.set=function(e,t){return V(e,t,this)};var U=s(u),B=n.removeHash=function(e,t,n){return O(U,e,t,n)};T.prototype.removeHash=T.prototype.deleteHash=function(e,t){return B(e,t,this)};var j=n.remove=function(e,t){return B(t._config.hash(e),e,t)};T.prototype.remove=T.prototype.delete=function(e){return j(e,this)};var q=n.beginMutation=function(e){return new T(e._editable+1,e._edit+1,e._config,e._root,e._size)};T.prototype.beginMutation=function(){return q(this)};var z=n.endMutation=function(e){return e._editable=e._editable&&e._editable-1,e};T.prototype.endMutation=function(){return z(this)};var K=n.mutate=function(e,t){var n=q(t);return e(n),z(n)};T.prototype.mutate=function(e){return K(e,this)};var H=function(e){return e&&W(e[0],e[1],e[2],e[3],e[4])},W=function(e,t,n,r,i){for(;n<e;){var a=t[n++];if(a&&!y(a))return G(a,r,[e,t,n,r,i])}return H(i)},G=function(e,t,n){switch(e.type){case 1:return{value:t(e),rest:n};case 2:case 4:case 3:var r=e.children;return W(r.length,r,0,t,n);default:return H(n)}},Q={done:!0};function $(e){this.v=e}$.prototype.next=function(){if(!this.v)return Q;var e=this.v;return this.v=H(e.rest),e},$.prototype[Symbol.iterator]=function(){return this};var Y=function(e,t){return new $(G(e._root,t))},Z=function(e){return[e.key,e.value]},X=n.entries=function(e){return Y(e,Z)};T.prototype.entries=T.prototype[Symbol.iterator]=function(){return X(this)};var J=function(e){return e.key},ee=n.keys=function(e){return Y(e,J)};T.prototype.keys=function(){return ee(this)};var te=function(e){return e.value},ne=n.values=T.prototype.values=function(e){return Y(e,te)};T.prototype.values=function(){return ne(this)};var re=n.fold=function(e,t,n){var r=n._root;if(1===r.type)return e(t,r.value,r.key);for(var i=[r.children],a=void 0;a=i.pop();)for(var o=0,u=a.length;o<u;){var s=a[o++];s&&s.type&&(1===s.type?t=e(t,s.value,s.key):i.push(s.children))}return t};T.prototype.fold=function(e,t){return re(e,t,this)};var ie=n.forEach=function(e,t){return re((function(n,r,i){return e(r,i,t)}),null,t)};T.prototype.forEach=function(e){return ie(e,this)};var ae=n.count=function(e){return e._size};T.prototype.count=function(){return ae(this)},Object.defineProperty(T.prototype,"size",{get:T.prototype.count}),e.exports?e.exports=n:(void 0).hamt=n})),He=function(){function e(t){N(this,e),K(this,"_map",void 0),this._map=new Map(null===t||void 0===t?void 0:t.entries())}return P(e,[{key:"keys",value:function(){return this._map.keys()}},{key:"entries",value:function(){return this._map.entries()}},{key:"get",value:function(e){return this._map.get(e)}},{key:"has",value:function(e){return this._map.has(e)}},{key:"set",value:function(e,t){return this._map.set(e,t),this}},{key:"delete",value:function(e){return this._map.delete(e),this}},{key:"clone",value:function(){return Ge(this)}},{key:"toMap",value:function(){return new Map(this._map)}}]),e}(),We=function(){function e(t){if(N(this,e),K(this,"_hamt",Ke.empty.beginMutation()),t instanceof e){var n=t._hamt.endMutation();t._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(t){var r,i=k(t.entries());try{for(i.s();!(r=i.n()).done;){var a=v(r.value,2),o=a[0],u=a[1];this._hamt.set(o,u)}}catch(s){i.e(s)}finally{i.f()}}}return P(e,[{key:"keys",value:function(){return this._hamt.keys()}},{key:"entries",value:function(){return this._hamt.entries()}},{key:"get",value:function(e){return this._hamt.get(e)}},{key:"has",value:function(e){return this._hamt.has(e)}},{key:"set",value:function(e,t){return this._hamt.set(e,t),this}},{key:"delete",value:function(e){return this._hamt.delete(e),this}},{key:"clone",value:function(){return Ge(this)}},{key:"toMap",value:function(){return new Map(this._hamt)}}]),e}();function Ge(e){return ye("recoil_hamt_2020")?new We(e):new He(e)}var Qe=Ge;var $e=function(e){for(var t=new Set,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a,o=k(e);try{e:for(o.s();!(a=o.n()).done;){var u,s=a.value,c=k(r);try{for(c.s();!(u=c.n()).done;){var l=u.value;if(l.has(s))continue e}}catch(f){c.e(f)}finally{c.f()}t.add(s)}}catch(f){o.e(f)}finally{o.f()}return t};var Ye=function(e,t){var n=new Map;return e.forEach((function(e,r){n.set(r,t(e,r))})),n};function Ze(e,t,n,r){var i=n.nodeDeps,a=n.nodeToNodeSubscriptions,o=i.get(e);if(!o||!r||o===r.nodeDeps.get(e)){i.set(e,t);var u,s=k(null==o?t:$e(t,o));try{for(s.s();!(u=s.n()).done;){var c=u.value;a.has(c)||a.set(c,new Set),z(a.get(c)).add(e)}}catch(v){s.e(v)}finally{s.f()}if(o){var l,f=k($e(o,t));try{for(f.s();!(l=f.n()).done;){var h=l.value;if(!a.has(h))return;var d=z(a.get(h));d.delete(e),0===d.size&&a.delete(h)}}catch(v){f.e(v)}finally{f.f()}}}}var Xe=function(e){return{nodeDeps:Ye(e.nodeDeps,(function(e){return new Set(e)})),nodeToNodeSubscriptions:Ye(e.nodeToNodeSubscriptions,(function(e){return new Set(e)}))}},Je=function(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}},et=function(e,t,n,r){var i,a,o,u,s=n.getState();r!==s.currentTree.version&&r!==(null===(i=s.nextTree)||void 0===i?void 0:i.version)&&r!==(null===(a=s.previousTree)||void 0===a?void 0:a.version)&&De("Tried to save dependencies to a discarded tree");var c=n.getGraph(r);if(Ze(e,t,c),r===(null===(o=s.previousTree)||void 0===o?void 0:o.version)&&Ze(e,t,n.getGraph(s.currentTree.version),c),r===(null===(u=s.previousTree)||void 0===u?void 0:u.version)||r===s.currentTree.version){var l,f=null===(l=s.nextTree)||void 0===l?void 0:l.version;if(void 0!==f)Ze(e,t,n.getGraph(f),c)}},tt=0,nt=0,rt=0,it=function(){return tt++},at=function(){return nt++},ot=function(){return rt++},ut=Object.freeze({__proto__:null,persistentMap:Qe}).persistentMap,st=Je,ct=it;function lt(){var e=ct();return{version:e,stateID:e,transactionMetadata:{},dirtyAtoms:new Set,atomValues:ut(),nonvalidatedAtoms:ut()}}var ft={makeEmptyTreeState:lt,makeEmptyStoreState:function(){var e=lt();return{currentTree:e,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:(new Map).set(e.version,st()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}},getNextTreeStateVersion:ct},ht=P((function e(){N(this,e)}));var dt={RetentionZone:ht,retentionZone:function(){return new ht}};var vt=function(e,t){var n=new Set(e);return n.add(t),n};function pt(e,t){var n,r,i,a;return D().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:n=0,r=k(e),o.prev=2,r.s();case 4:if((i=r.n()).done){o.next=11;break}if(a=i.value,!t(a,n++)){o.next=9;break}return o.next=9,a;case 9:o.next=4;break;case 11:o.next=16;break;case 13:o.prev=13,o.t0=o.catch(2),r.e(o.t0);case 16:return o.prev=16,r.f(),o.finish(16);case 19:case"end":return o.stop()}}),V,null,[[2,13,16,19]])}var yt=pt;var mt=function(e,t){return new Proxy(e,{get:function(e,n){return!(n in e)&&n in t&&(e[n]=t[n]()),e[n]},ownKeys:function(e){return Object.keys(e)}})},gt=qe.getNode,bt=qe.getNodeMaybe,kt=qe.recoilValuesForKeys,wt=dt.RetentionZone,Et=vt,xt=Object.freeze(new Set),St=function(e){_(n,e);var t=I(n);function n(){return N(this,n),t.apply(this,arguments)}return P(n)}(b(Error));function _t(e,t,n,r){var i=e.getState();if(!i.nodeCleanupFunctions.has(n)){var a=gt(n),o=function(e,t,n){if(!ye("recoil_memory_managament_2020"))return function(){};var r=e.getState().retention.nodesRetainedByZone;function i(e){var n=r.get(e);n||r.set(e,n=new Set),n.add(t)}if(n instanceof wt)i(n);else if(Array.isArray(n)){var a,o=k(n);try{for(o.s();!(a=o.n()).done;)i(a.value)}catch(u){o.e(u)}finally{o.f()}}return function(){if(ye("recoil_memory_managament_2020")){var r=e.getState().retention;if(n instanceof wt)o(n);else if(Array.isArray(n)){var i,a=k(n);try{for(a.s();!(i=a.n()).done;)o(i.value)}catch(u){a.e(u)}finally{a.f()}}}function o(e){var n=r.nodesRetainedByZone.get(e);null===n||void 0===n||n.delete(t),n&&0===n.size&&r.nodesRetainedByZone.delete(e)}}}(e,n,a.retainedBy),u=a.init(e,t,r);i.nodeCleanupFunctions.set(n,(function(){u(),o()}))}}function Ct(e,t,n){return gt(n).peek(e,t)}function Tt(e,t,n){for(var r=new Set,i=Array.from(n),a=e.getGraph(t.version),o=i.pop();o;o=i.pop()){var u;r.add(o);var s,c=k(null!==(u=a.nodeToNodeSubscriptions.get(o))&&void 0!==u?u:xt);try{for(c.s();!(s=c.n()).done;){var l=s.value;r.has(l)||i.push(l)}}catch(f){c.e(f)}finally{c.f()}}return r}var It=function(e,t,n){return _t(e,t,n,"get"),gt(n).get(e,t)},Nt=Ct,At=function(e,t,n,r){var i=gt(n);if(null==i.set)throw new St("Attempt to set read-only RecoilValue: ".concat(n));var a=i.set;return _t(e,t,n,"set"),a(e,t,r)},Pt=function(e,t,n){_t(e,e.getState().currentTree,t,n)},Rt=function(e,t){var n,r=e.getState();null===(n=r.nodeCleanupFunctions.get(t))||void 0===n||n(),r.nodeCleanupFunctions.delete(t)},Dt=function(e,t,n){var r,i=bt(t);return null===i||void 0===i||null===(r=i.invalidate)||void 0===r||r.call(i,e),x(x({},e),{},{atomValues:e.atomValues.clone().delete(t),nonvalidatedAtoms:e.nonvalidatedAtoms.clone().set(t,n),dirtyAtoms:Et(e.dirtyAtoms,t)})},Mt=function(e,t,n){var r=e.getState(),i=e.getGraph(t.version),a=gt(n).nodeType;return mt({type:a},{loadable:function(){return Ct(e,t,n)},isActive:function(){return r.knownAtoms.has(n)||r.knownSelectors.has(n)},isSet:function(){return"selector"!==a&&t.atomValues.has(n)},isModified:function(){return t.dirtyAtoms.has(n)},deps:function(){var e;return kt(null!==(e=i.nodeDeps.get(n))&&void 0!==e?e:[])},subscribers:function(){var i,a;return{nodes:kt(yt(Tt(e,t,new Set([n])),(function(e){return e!==n}))),components:Pe(null!==(i=null===(a=r.nodeToComponentSubscriptions.get(n))||void 0===a?void 0:a.values())&&void 0!==i?i:[],(function(e){return{name:v(e,1)[0]}}))}}})},Ot=Tt,Lt=null;var Ft=function(e){Lt=e},Vt=function(){var e;null===(e=Lt)||void 0===e||e()},Ut=Ot,Bt=It,jt=At,qt=ot,zt=qe.getNode,Kt=qe.getNodeMaybe,Ht=qe.DefaultValue,Wt=qe.RecoilValueNotReady,Gt=ke.reactMode,Qt=Ne.AbstractRecoilValue,$t=Ne.RecoilState,Yt=Ne.RecoilValueReadOnly,Zt=Ne.isRecoilValue,Xt=Vt;function Jt(e,t,n){if("set"===n.type){var r,i=n.recoilValue,a=function(e,t,n,r){var i=n.key;if("function"===typeof r){var a=Bt(e,t,i);if("loading"===a.state)throw new Wt(i);if("hasError"===a.state)throw a.contents;return r(a.contents)}return r}(e,t,i,n.valueOrUpdater),o=k(jt(e,t,i.key,a).entries());try{for(o.s();!(r=o.n()).done;){var u=v(r.value,2);en(t,u[0],u[1])}}catch(d){o.e(d)}finally{o.f()}}else if("setLoadable"===n.type){en(t,n.recoilValue.key,n.loadable)}else if("markModified"===n.type){var s=n.recoilValue.key;t.dirtyAtoms.add(s)}else if("setUnvalidated"===n.type){var c,l=n.recoilValue.key,f=n.unvalidatedValue,h=Kt(l);null===h||void 0===h||null===(c=h.invalidate)||void 0===c||c.call(h,t),t.atomValues.delete(l),t.nonvalidatedAtoms.set(l,f),t.dirtyAtoms.add(l)}else De("Unknown action ".concat(n.type))}function en(e,t,n){"hasValue"===n.state&&n.contents instanceof Ht?e.atomValues.delete(t):e.atomValues.set(t,n),e.dirtyAtoms.add(t),e.nonvalidatedAtoms.delete(t)}function tn(e,t){e.replaceState((function(n){var r,i=an(n),a=k(t);try{for(a.s();!(r=a.n()).done;){var o=r.value;Jt(e,i,o)}}catch(u){a.e(u)}finally{a.f()}return on(e,i),Xt(),i}))}function nn(e,t){if(rn.length){var n=rn[rn.length-1],r=n.get(e);r||n.set(e,r=[]),r.push(t)}else tn(e,[t])}var rn=[];function an(e){return x(x({},e),{},{atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(e.dirtyAtoms)})}function on(e,t){var n,r=k(Ut(e,t,t.dirtyAtoms));try{for(r.s();!(n=r.n()).done;){var i,a,o=n.value;null===(i=Kt(o))||void 0===i||null===(a=i.invalidate)||void 0===a||a.call(i,t)}}catch(u){r.e(u)}finally{r.f()}}function un(e,t,n){nn(e,{type:"set",recoilValue:t,valueOrUpdater:n})}var sn={RecoilValueReadOnly:Yt,AbstractRecoilValue:Qt,RecoilState:$t,getRecoilValueAsLoadable:function(e,t){var n,r,i=t.key,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.getState().currentTree,o=e.getState();a.version!==o.currentTree.version&&a.version!==(null===(n=o.nextTree)||void 0===n?void 0:n.version)&&a.version!==(null===(r=o.previousTree)||void 0===r?void 0:r.version)&&De("Tried to read from a discarded tree");var u=Bt(e,a,i);return"loading"===u.state&&u.contents.catch((function(){})),u},setRecoilValue:un,setRecoilValueLoadable:function(e,t,n){if(n instanceof Ht)return un(e,t,n);nn(e,{type:"setLoadable",recoilValue:t,loadable:n})},markRecoilValueModified:function(e,t){nn(e,{type:"markModified",recoilValue:t})},setUnvalidatedRecoilValue:function(e,t,n){nn(e,{type:"setUnvalidated",recoilValue:t,unvalidatedValue:n})},subscribeToRecoilValue:function(e,t,n){var r=t.key,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=qt(),o=e.getState();o.nodeToComponentSubscriptions.has(r)||o.nodeToComponentSubscriptions.set(r,new Map),z(o.nodeToComponentSubscriptions.get(r)).set(a,[null!==i&&void 0!==i?i:"<not captured>",n]);var u=Gt();if(u.early&&("LEGACY"===u.mode||"MUTABLE_SOURCE"===u.mode)){var s=e.getState().nextTree;s&&s.dirtyAtoms.has(r)&&n(s)}return{release:function(){var t=e.getState(),n=t.nodeToComponentSubscriptions.get(r);void 0!==n&&n.has(a)?(n.delete(a),0===n.size&&t.nodeToComponentSubscriptions.delete(r)):De("Subscription missing at release time for atom ".concat(r,". This is a bug in Recoil."))}}},isRecoilValue:Zt,applyAtomValueWrites:function(e,t){var n=e.clone();return t.forEach((function(e,t){"hasValue"===e.state&&e.contents instanceof Ht?n.delete(t):n.set(t,e)})),n},batchStart:function(){var e=new Map;return rn.push(e),function(){var t,n=k(e);try{for(n.s();!(t=n.n()).done;){var r=v(t.value,2);tn(r[0],r[1])}}catch(i){n.e(i)}finally{n.f()}rn.pop()!==e&&De("Incorrect order of batch popping")}},writeLoadableToTreeState:en,invalidateDownstreams:on,copyTreeState:an,refreshRecoilValue:function(e,t){var n,r=e.getState().currentTree,i=zt(t.key);null===(n=i.clearCache)||void 0===n||n.call(i,e,r)}};var cn=function(e,t,n){for(var r=e.entries(),i=r.next();!i.done;){var a=i.value;if(t.call(n,a[1],a[0],e))return!0;i=r.next()}return!1},ln=Rt,fn=qe.deleteNodeConfigIfPossible,hn=qe.getNode,dn=dt.RetentionZone,vn=new Set;function pn(e,t){var n=e.getState(),r=n.currentTree;if(n.nextTree)De("releaseNodesNowOnCurrentTree should only be called at the end of a batch");else{var i,a=new Set,o=k(t);try{for(o.s();!(i=o.n()).done;){var u=i.value;if(u instanceof dn){var s,c=k(mn(n,u));try{for(c.s();!(s=c.n()).done;){var l=s.value;a.add(l)}}catch(v){c.e(v)}finally{c.f()}}else a.add(u)}}catch(v){o.e(v)}finally{o.f()}var f,h=function(e,t){var n=e.getState(),r=n.currentTree,i=e.getGraph(r.version),a=new Set,o=new Set;return u(t),a;function u(t){var s,c=new Set,l=function(e,t,n,r,i){var a=e.getGraph(t.version),o=[],u=new Set;for(;n.size>0;)s(z(n.values().next().value));return o;function s(e){if(r.has(e)||i.has(e))n.delete(e);else if(!u.has(e)){var t=a.nodeToNodeSubscriptions.get(e);if(t){var c,l=k(t);try{for(l.s();!(c=l.n()).done;){s(c.value)}}catch(v){l.e(v)}finally{l.f()}}u.add(e),n.delete(e),o.push(e)}}}(e,r,t,a,o),f=k(l);try{for(f.s();!(s=f.n()).done;){var h,d=s.value;if("recoilRoot"!==hn(d).retainedBy)if((null!==(h=n.retention.referenceCounts.get(d))&&void 0!==h?h:0)>0)o.add(d);else if(gn(d).some((function(e){return n.retention.referenceCounts.get(e)})))o.add(d);else{var p=i.nodeToNodeSubscriptions.get(d);p&&cn(p,(function(e){return o.has(e)}))?o.add(d):(a.add(d),c.add(d))}else o.add(d)}}catch(v){f.e(v)}finally{f.f()}var y,m=new Set,g=k(c);try{for(g.s();!(y=g.n()).done;){var b,w=y.value,E=k(null!==(x=i.nodeDeps.get(w))&&void 0!==x?x:vn);try{for(E.s();!(b=E.n()).done;){var x,S=b.value;a.has(S)||m.add(S)}}catch(v){E.e(v)}finally{E.f()}}}catch(v){g.e(v)}finally{g.f()}m.size&&u(m)}}(e,a),d=k(h);try{for(d.s();!(f=d.n()).done;){yn(e,r,f.value)}}catch(v){d.e(v)}finally{d.f()}}}function yn(e,t,n){if(ye("recoil_memory_managament_2020")){ln(e,n);var r=e.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);var i,a=k(gn(n));try{for(a.s();!(i=a.n()).done;){var o,u=i.value;null===(o=r.retention.nodesRetainedByZone.get(u))||void 0===o||o.delete(n)}}catch(v){a.e(v)}finally{a.f()}t.atomValues.delete(n),t.dirtyAtoms.delete(n),t.nonvalidatedAtoms.delete(n);var s=r.graphsByVersion.get(t.version);if(s){var c=s.nodeDeps.get(n);if(void 0!==c){s.nodeDeps.delete(n);var l,f=k(c);try{for(f.s();!(l=f.n()).done;){var h,d=l.value;null===(h=s.nodeToNodeSubscriptions.get(d))||void 0===h||h.delete(n)}}catch(v){f.e(v)}finally{f.f()}}s.nodeToNodeSubscriptions.delete(n)}fn(n)}}function mn(e,t){var n;return null!==(n=e.retention.nodesRetainedByZone.get(t))&&void 0!==n?n:vn}function gn(e){var t=hn(e).retainedBy;return void 0===t||"components"===t||"recoilRoot"===t?[]:t instanceof dn?[t]:t}function bn(e,t){ye("recoil_memory_managament_2020")&&(e.getState().retention.referenceCounts.delete(t),function(e,t){var n=e.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(t):pn(e,new Set([t]))}(e,t))}var kn=12e4,wn=function(e,t,n){var r;if(ye("recoil_memory_managament_2020")){var i=e.getState().retention.referenceCounts,a=(null!==(r=i.get(t))&&void 0!==r?r:0)+n;0===a?bn(e,t):i.set(t,a)}},En=function(e){if(ye("recoil_memory_managament_2020")){var t=e.getState();pn(e,t.retention.retainablesToCheckForRelease),t.retention.retainablesToCheckForRelease.clear()}},xn=function(e){return void 0===e?"recoilRoot":e},Sn=M.unstable_batchedUpdates,_n=sn.batchStart,Cn={unstable_batchedUpdates:{unstable_batchedUpdates:Sn}.unstable_batchedUpdates}.unstable_batchedUpdates,Tn=function(e){Cn((function(){var t=function(){};try{t=_n(),e()}finally{t()}}))};function In(e){var t,n,r,i,a,o;return D().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:t=k(e),u.prev=1,t.s();case 3:if((n=t.n()).done){u.next=24;break}r=n.value,i=k(r),u.prev=6,i.s();case 8:if((a=i.n()).done){u.next=14;break}return o=a.value,u.next=12,o;case 12:u.next=8;break;case 14:u.next=19;break;case 16:u.prev=16,u.t0=u.catch(6),i.e(u.t0);case 19:return u.prev=19,i.f(),u.finish(19);case 22:u.next=3;break;case 24:u.next=29;break;case 26:u.prev=26,u.t1=u.catch(1),t.e(u.t1);case 29:return u.prev=29,t.f(),u.finish(29);case 32:case"end":return u.stop()}}),U,null,[[1,26,29,32],[6,16,19,22]])}var Nn=In,An="undefined"===typeof Window||"undefined"===typeof window,Pn="undefined"!==typeof navigator&&"ReactNative"===navigator.product,Rn={isSSR:An,isReactNative:Pn,isWindow:function(e){return!An&&(e===window||e instanceof Window)}};var Dn=function(e,t){var n,r;return[function(){var i=t.apply(void 0,arguments);return n===i?r:(n=i,r=e.apply(void 0,arguments))},function(){n=null}]},Mn=Tn,On=Pt,Ln=Mt,Fn=Je,Vn=at,Un=qe.DEFAULT_VALUE,Bn=qe.recoilValues,jn=qe.recoilValuesForKeys,qn=sn.AbstractRecoilValue,zn=sn.getRecoilValueAsLoadable,Kn=sn.setRecoilValue,Hn=sn.setUnvalidatedRecoilValue,Wn=wn,Gn=Ft,Qn=ft.getNextTreeStateVersion,$n=ft.makeEmptyStoreState,Yn=Rn.isSSR,Zn=Dn,Xn=function(){function e(t){var n=this;N(this,e),K(this,"_store",void 0),K(this,"_refCount",1),K(this,"getLoadable",(function(e){return n.checkRefCount_INTERNAL(),zn(n._store,e)})),K(this,"getPromise",(function(e){return n.checkRefCount_INTERNAL(),n.getLoadable(e).toPromise()})),K(this,"getNodes_UNSTABLE",(function(e){if(n.checkRefCount_INTERNAL(),!0===(null===e||void 0===e?void 0:e.isModified)){if(!1===(null===e||void 0===e?void 0:e.isInitialized))return[];var t=n._store.getState().currentTree;return jn(t.dirtyAtoms)}var r=n._store.getState().knownAtoms,i=n._store.getState().knownSelectors;return null==(null===e||void 0===e?void 0:e.isInitialized)?Bn.values():!0===e.isInitialized?jn(Nn([r,i])):yt(Bn.values(),(function(e){var t=e.key;return!r.has(t)&&!i.has(t)}))})),K(this,"getInfo_UNSTABLE",(function(e){var t=e.key;return n.checkRefCount_INTERNAL(),Ln(n._store,n._store.getState().currentTree,t)})),K(this,"map",(function(e){n.checkRefCount_INTERNAL();var t=new ir(n,Mn);return e(t),t})),K(this,"asyncMap",function(){var e=f(D().mark((function e(t){var r;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.checkRefCount_INTERNAL(),(r=new ir(n,Mn)).retain(),e.next=5,t(r);case 5:return r.autoRelease_INTERNAL(),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this._store={storeID:Vn(),getState:function(){return t},replaceState:function(e){t.currentTree=e(t.currentTree)},getGraph:function(e){var n=t.graphsByVersion;if(n.has(e))return z(n.get(e));var r=Fn();return n.set(e,r),r},subscribeToTransactions:function(){return{release:function(){}}},addTransactionMetadata:function(){throw j("Cannot subscribe to Snapshots")}};var r,i=k(this._store.getState().knownAtoms);try{for(i.s();!(r=i.n()).done;){var a=r.value;On(this._store,a,"get"),Wn(this._store,a,1)}}catch(o){i.e(o)}finally{i.f()}this.autoRelease_INTERNAL()}return P(e,[{key:"retain",value:function(){var e=this;this._refCount<=0&&De("Attempt to retain() Snapshot that was already released."),this._refCount++;var t=!1;return function(){t||(t=!0,e._release())}}},{key:"autoRelease_INTERNAL",value:function(){var e=this;Yn||window.setTimeout((function(){return e._release()}),0)}},{key:"_release",value:function(){if(this._refCount--,0===this._refCount){if(this._store.getState().nodeCleanupFunctions.forEach((function(e){return e()})),this._store.getState().nodeCleanupFunctions.clear(),!ye("recoil_memory_managament_2020"))return}else this._refCount}},{key:"isRetained",value:function(){return this._refCount>0}},{key:"checkRefCount_INTERNAL",value:function(){ye("recoil_memory_managament_2020")&&this._refCount}},{key:"getStore_INTERNAL",value:function(){return this.checkRefCount_INTERNAL(),this._store}},{key:"getID",value:function(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}},{key:"getStoreID",value:function(){return this.checkRefCount_INTERNAL(),this._store.storeID}}]),e}();function Jn(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.getState(),i=n?Qn():t.version;return{currentTree:{version:n?i:t.version,stateID:n?i:t.stateID,transactionMetadata:x({},t.transactionMetadata),dirtyAtoms:new Set(t.dirtyAtoms),atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:(new Map).set(i,e.getGraph(t.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(Pe(r.nodeCleanupFunctions.entries(),(function(e){return[v(e,1)[0],function(){}]})))}}var er=Zn((function(e,t){var n,r=e.getState(),i="latest"===t?null!==(n=r.nextTree)&&void 0!==n?n:r.currentTree:z(r.previousTree);return new Xn(Jn(e,i))}),(function(e,t){var n,r;return String(t)+String(e.storeID)+String(null===(n=e.getState().nextTree)||void 0===n?void 0:n.version)+String(e.getState().currentTree.version)+String(null===(r=e.getState().previousTree)||void 0===r?void 0:r.version)})),tr=v(er,2),nr=tr[0],rr=tr[1];Gn(rr);var ir=function(e){_(n,e);var t=I(n);function n(e,r){var i;return N(this,n),K(S(i=t.call(this,Jn(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0))),"_batch",void 0),K(S(i),"set",(function(e,t){i.checkRefCount_INTERNAL();var n=i.getStore_INTERNAL();i._batch((function(){Wn(n,e.key,1),Kn(i.getStore_INTERNAL(),e,t)}))})),K(S(i),"reset",(function(e){i.checkRefCount_INTERNAL();var t=i.getStore_INTERNAL();i._batch((function(){Wn(t,e.key,1),Kn(i.getStore_INTERNAL(),e,Un)}))})),K(S(i),"setUnvalidatedAtomValues_DEPRECATED",(function(e){i.checkRefCount_INTERNAL();var t=i.getStore_INTERNAL();Mn((function(){var n,r=k(e.entries());try{for(r.s();!(n=r.n()).done;){var i=v(n.value,2),a=i[0],o=i[1];Wn(t,a,1),Hn(t,new qn(a),o)}}catch(u){r.e(u)}finally{r.f()}}))})),i._batch=r,i}return P(n)}(Xn),ar={Snapshot:Xn,MutableSnapshot:ir,freshSnapshot:function(e){var t=new Xn($n());return null!=e?t.map(e):t},cloneSnapshot:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"latest",n=nr(e,t);return n.isRetained()?n:(rr(),nr(e,t))}},or=ar.Snapshot,ur=ar.MutableSnapshot,sr=ar.freshSnapshot,cr=ar.cloneSnapshot,lr=Object.freeze({__proto__:null,Snapshot:or,MutableSnapshot:ur,freshSnapshot:sr,cloneSnapshot:cr});var fr=function(){for(var e=new Set,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o,u=a[i],s=k(u);try{for(s.s();!(o=s.n()).done;){var c=o.value;e.add(c)}}catch(l){s.e(l)}finally{s.f()}}return e},hr=t.useRef;var dr=function(e){var t=hr(e);return t.current===e&&"function"===typeof e&&(t.current=e()),t},vr=ft.getNextTreeStateVersion,pr=ft.makeEmptyStoreState,yr=Rt,mr=Ot,gr=Pt,br=At,kr=Dt,wr=Je,Er=Xe,xr=at,Sr=ke.createMutableSource,_r=ke.reactMode,Cr=sn.applyAtomValueWrites,Tr=En,Ir=lr.freshSnapshot,Nr=t.useCallback,Ar=t.useContext,Pr=t.useEffect,Rr=t.useMemo,Dr=t.useRef,Mr=t.useState;function Or(){throw j("This component must be used inside a <RecoilRoot> component.")}var Lr=Object.freeze({storeID:xr(),getState:Or,replaceState:Or,getGraph:Or,subscribeToTransactions:Or,addTransactionMetadata:Or}),Fr=!1;function Vr(e){if(Fr)throw j("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");var t=e.getState();if(null===t.nextTree){ye("recoil_memory_managament_2020")&&ye("recoil_release_on_cascading_update_killswitch_2021")&&t.commitDepth>0&&Tr(e);var n=t.currentTree.version,r=vr();t.nextTree=x(x({},t.currentTree),{},{version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}}),t.graphsByVersion.set(r,Er(z(t.graphsByVersion.get(n))))}}var Ur=t.createContext({current:Lr}),Br=function(){return Ar(Ur)},jr=t.createContext(null);function qr(e,t,n){var r,i=k(mr(e,n,n.dirtyAtoms));try{for(i.s();!(r=i.n()).done;){var a=r.value,o=t.nodeToComponentSubscriptions.get(a);if(o){var u,s=k(o);try{for(s.s();!(u=s.n()).done;){var c=v(u.value,2),l=(c[0],v(c[1],2));l[0];(0,l[1])(n)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}}function zr(e){var t=e.getState(),n=t.currentTree,r=n.dirtyAtoms;if(r.size){var i,a=k(t.nodeTransactionSubscriptions);try{for(a.s();!(i=a.n()).done;){var o=v(i.value,2),u=o[0],s=o[1];if(r.has(u)){var c,l=k(s);try{for(l.s();!(c=l.n()).done;){var f=v(c.value,2);f[0];(0,f[1])(e)}}catch(y){l.e(y)}finally{l.f()}}}}catch(y){a.e(y)}finally{a.f()}var h,d=k(t.transactionSubscriptions);try{for(d.s();!(h=d.n()).done;){var p=v(h.value,2);p[0];(0,p[1])(e)}}catch(y){d.e(y)}finally{d.f()}(!_r().early||t.suspendedComponentResolvers.size>0)&&(qr(e,t,n),t.suspendedComponentResolvers.forEach((function(e){return e()})),t.suspendedComponentResolvers.clear())}t.queuedComponentCallbacks_DEPRECATED.forEach((function(e){return e(n)})),t.queuedComponentCallbacks_DEPRECATED.splice(0,t.queuedComponentCallbacks_DEPRECATED.length)}function Kr(e){var t=e.setNotifyBatcherOfChange,n=Br(),r=v(Mr([]),2)[1];return t((function(){return r({})})),Pr((function(){return t((function(){return r({})})),function(){t((function(){}))}}),[t]),Pr((function(){ze.enqueueExecution("Batcher",(function(){!function(e){var t=e.getState();t.commitDepth++;try{var n=t.nextTree;if(null==n)return;t.previousTree=t.currentTree,t.currentTree=n,t.nextTree=null,zr(e),null!=t.previousTree?t.graphsByVersion.delete(t.previousTree.version):De("Ended batch with no previous state, which is unexpected","recoil"),t.previousTree=null,ye("recoil_memory_managament_2020")&&null==n&&Tr(e)}finally{t.commitDepth--}}(n.current)}))})),null}var Hr=0;function Wr(e){var n,r=e.initializeState_DEPRECATED,i=e.initializeState,a=e.store_INTERNAL,o=e.children,u=function(e){var t=n.current.graphsByVersion;if(t.has(e))return z(t.get(e));var r=wr();return t.set(e,r),r},s=function(e,t){if(null==t){var n=d.current.getState().transactionSubscriptions,r=Hr++;return n.set(r,e),{release:function(){n.delete(r)}}}var i=d.current.getState().nodeTransactionSubscriptions;i.has(t)||i.set(t,new Map);var a=Hr++;return z(i.get(t)).set(a,e),{release:function(){var e=i.get(t);e&&(e.delete(a),0===e.size&&i.delete(t))}}},c=function(e){Vr(d.current);for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];z(d.current.getState().nextTree).transactionMetadata[r]=e[r]}},l=function(e){Vr(d.current);var t,r=z(n.current.nextTree);try{Fr=!0,t=e(r)}finally{Fr=!1}t!==r&&(n.current.nextTree=t,_r().early&&qr(d.current,n.current,t),z(f.current)())},f=Dr(null),h=Nr((function(e){f.current=e}),[f]),d=dr((function(){return null!==a&&void 0!==a?a:{storeID:xr(),getState:function(){return n.current},replaceState:l,getGraph:u,subscribeToTransactions:s,addTransactionMetadata:c}}));null!=a&&(d.current=a),n=dr((function(){return null!=r?function(e,t){var n=pr();return t({set:function(t,r){var i,a=n.currentTree,o=br(e,a,t.key,r),u=new Set(o.keys()),s=a.nonvalidatedAtoms.clone(),c=k(u);try{for(c.s();!(i=c.n()).done;){var l=i.value;s.delete(l)}}catch(f){c.e(f)}finally{c.f()}n.currentTree=x(x({},a),{},{dirtyAtoms:fr(a.dirtyAtoms,u),atomValues:Cr(a.atomValues,o),nonvalidatedAtoms:s})},setUnvalidatedAtomValues:function(e){e.forEach((function(e,t){n.currentTree=kr(n.currentTree,t,e)}))}}),n}(d.current,r):null!=i?function(e){var t=Ir().map(e),n=t.getStore_INTERNAL().getState();return t.retain(),n.nodeCleanupFunctions.forEach((function(e){return e()})),n.nodeCleanupFunctions.clear(),n}(i):pr()}));var v=Rr((function(){return null===Sr||void 0===Sr?void 0:Sr(n,(function(){return n.current.currentTree.version}))}),[n]);return Pr((function(){var e,t=d.current,n=k(new Set(t.getState().knownAtoms));try{for(n.s();!(e=n.n()).done;){var r=e.value;gr(t,r,"get")}}catch(i){n.e(i)}finally{n.f()}return function(){var e,n=k(t.getState().knownAtoms);try{for(n.s();!(e=n.n()).done;){var r=e.value;yr(t,r)}}catch(i){n.e(i)}finally{n.f()}}}),[d]),t.createElement(Ur.Provider,{value:d},t.createElement(jr.Provider,{value:v},t.createElement(Kr,{setNotifyBatcherOfChange:h}),o))}var Gr=function(e){var n=e.override,r=c(e,L),i=Br();return!1===n&&i.current!==Lr?e.children:t.createElement(Wr,r)},Qr=Br,$r=function(){var e=Ar(jr);return null==e&&Ae("Attempted to use a Recoil hook outside of a <RecoilRoot>. <RecoilRoot> must be an ancestor of any component that uses Recoil hooks."),e},Yr=function(){return Br().current.storeID};var Zr=function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0},Xr=t.useEffect,Jr=t.useRef;var ei=function(e){var t=Jr();return Xr((function(){t.current=e})),t.current},ti=Qr,ni=kn,ri=wn,ii=dt.RetentionZone,ai=t.useEffect,oi=t.useRef,ui=Rn.isSSR;var si=function(e){if(ye("recoil_memory_managament_2020"))return function(e){var t=(Array.isArray(e)?e:[e]).map((function(e){return e instanceof ii?e:e.key})),n=ti();ai((function(){if(ye("recoil_memory_managament_2020")){var e=n.current;if(r.current&&!ui)window.clearTimeout(r.current),r.current=null;else{var i,a=k(t);try{for(a.s();!(i=a.n()).done;){var o=i.value;ri(e,o,1)}}catch(u){a.e(u)}finally{a.f()}}return function(){var n,r=k(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;ri(e,i,-1)}}catch(u){r.e(u)}finally{r.f()}}}}),[n].concat(s(t)));var r=oi(),i=ei(t);if(!ui&&(void 0===i||!Zr(i,t))){var a,o=n.current,u=k(t);try{for(u.s();!(a=u.n()).done;){var c=a.value;ri(o,c,1)}}catch(d){u.e(d)}finally{u.f()}if(i){var l,f=k(i);try{for(f.s();!(l=f.n()).done;){var h=l.value;ri(o,h,-1)}}catch(d){f.e(d)}finally{f.f()}}r.current&&window.clearTimeout(r.current),r.current=window.setTimeout((function(){r.current=null;var e,n=k(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;ri(o,i,-1)}}catch(d){n.e(d)}finally{n.f()}}),ni)}}(e)};var ci=function(){return"<component name not available>"},li=qe.DEFAULT_VALUE,fi=ke.reactMode,hi=ke.useMutableSource,di=ke.useSyncExternalStore,vi=$r,pi=Qr,yi=(Ne.isRecoilValue,sn.getRecoilValueAsLoadable),mi=sn.setRecoilValue,gi=sn.subscribeToRecoilValue,bi=t.useCallback,ki=t.useEffect,wi=t.useMemo,Ei=t.useRef,xi=t.useState;function Si(e,t,n){if("hasValue"===e.state)return e.contents;if("loading"===e.state)throw new Promise((function(e){n.current.getState().suspendedComponentResolvers.add(e)}));throw"hasError"===e.state?e.contents:j('Invalid value of loadable atom "'.concat(t.key,'"'))}function _i(e){var t=pi(),n=ci(),r=bi((function(){var n;var r=t.current,i=r.getState(),a=fi().early&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree;return{loadable:yi(r,e,a),key:e.key}}),[t,e]),i=bi((function(e){var t;return function(){var n,r,i=e();return null!==(n=t)&&void 0!==n&&n.loadable.is(i.loadable)&&(null===(r=t)||void 0===r?void 0:r.key)===i.key?t:(t=i,i)}}),[]),a=wi((function(){return i(r)}),[r,i]),o=bi((function(r){var i=t.current;return gi(i,e,r,n).release}),[t,e,n]);return di(o,a,a).loadable}function Ci(e){var t=pi(),n=bi((function(){var n,r=t.current,i=r.getState(),a=fi().early&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree;return yi(r,e,a)}),[t,e]),r=bi((function(){return n()}),[n]),i=ci(),a=bi((function(r,a){var o=t.current;return gi(o,e,(function(){if(!ye("recoil_suppress_rerender_in_callback"))return a();var e=n();s.current.is(e)||a(),s.current=e}),i).release}),[t,e,i,n]),o=vi();if(null==o)throw j("Recoil hooks must be used in components contained within a <RecoilRoot> component.");var u=hi(o,r,a),s=Ei(u);return ki((function(){s.current=u})),u}function Ti(e){var t=pi(),n=ci(),r=bi((function(){var n;var r=t.current,i=r.getState(),a=fi().early&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree;return yi(r,e,a)}),[t,e]),i=bi((function(){return{loadable:r(),key:e.key}}),[r,e.key]),a=bi((function(e){var t=i();return e.loadable.is(t.loadable)&&e.key===t.key?e:t}),[i]);ki((function(){var r=gi(t.current,e,(function(e){s(a)}),n);return s(a),r.release}),[n,e,t,a]);var o=v(xi(i),2),u=o[0],s=o[1];return u.key!==e.key?i().loadable:u.loadable}function Ii(e){var t=pi(),n=v(xi([]),2)[1],r=ci(),i=bi((function(){var n;var r=t.current,i=r.getState(),a=fi().early&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree;return yi(r,e,a)}),[t,e]),a=i(),o=Ei(a);return ki((function(){o.current=a})),ki((function(){var a=t.current,u=a.getState(),s=gi(a,e,(function(e){var t;if(!ye("recoil_suppress_rerender_in_callback"))return n([]);var r=i();null!==(t=o.current)&&void 0!==t&&t.is(r)||n(r),o.current=r}),r);if(u.nextTree)a.getState().queuedComponentCallbacks_DEPRECATED.push((function(){o.current=null,n([])}));else{var c;if(!ye("recoil_suppress_rerender_in_callback"))return n([]);var l=i();null!==(c=o.current)&&void 0!==c&&c.is(l)||n(l),o.current=l}return s.release}),[r,i,e,t]),a}function Ni(e){return ye("recoil_memory_managament_2020")&&si(e),{TRANSITION_SUPPORT:Ti,SYNC_EXTERNAL_STORE:_i,MUTABLE_SOURCE:Ci,LEGACY:Ii}[fi().mode](e)}function Ai(e){var t=pi();return Si(Ni(e),e,t)}function Pi(e){var t=pi();return bi((function(n){mi(t.current,e,n)}),[t,e])}function Ri(e){return ye("recoil_memory_managament_2020")&&si(e),Ti(e)}function Di(e){var t=pi();return Si(Ri(e),e,t)}var Mi=function(e){return[Ai(e),Pi(e)]},Oi=function(e){return[Ni(e),Pi(e)]},Li=Ai,Fi=Ni,Vi=function(e){var t=pi();return bi((function(){mi(t.current,e,li)}),[t,e])},Ui=Pi,Bi=Ri,ji=Di,qi=function(e){return[Di(e),Pi(e)]};var zi=Tn,Ki=qe.DEFAULT_VALUE,Hi=qe.getNode,Wi=Qr,Gi=sn.AbstractRecoilValue,Qi=sn.setRecoilValueLoadable,$i=kn,Yi=lr.cloneSnapshot,Zi=t.useCallback,Xi=t.useEffect,Ji=t.useRef,ea=t.useState,ta=Rn.isSSR;function na(e){var t=Wi();Xi((function(){return t.current.subscribeToTransactions(e).release}),[e,t])}function ra(e,t){var n,r=e.getState(),i=null!==(n=r.nextTree)&&void 0!==n?n:r.currentTree,a=t.getStore_INTERNAL().getState().currentTree;zi((function(){for(var n=new Set,r=0,o=[i.atomValues.keys(),a.atomValues.keys()];r<o.length;r++){var u,s=k(o[r]);try{for(s.s();!(u=s.n()).done;){var c,l,f=u.value;(null===(c=i.atomValues.get(f))||void 0===c?void 0:c.contents)!==(null===(l=a.atomValues.get(f))||void 0===l?void 0:l.contents)&&Hi(f).shouldRestoreFromSnapshots&&n.add(f)}}catch(h){s.e(h)}finally{s.f()}}n.forEach((function(t){Qi(e,new Gi(t),a.atomValues.has(t)?z(a.atomValues.get(t)):Ki)})),e.replaceState((function(e){return x(x({},e),{},{stateID:t.getID()})}))}))}var ia=function(){var e=Wi(),t=v(ea((function(){return Yi(e.current)})),2),n=t[0],r=t[1],i=ei(n),a=Ji(),o=Ji();if(na(Zi((function(e){return r(Yi(e))}),[])),Xi((function(){var e,t=n.retain();a.current&&!ta&&(window.clearTimeout(a.current),a.current=null,null===(e=o.current)||void 0===e||e.call(o),o.current=null);return t}),[n]),i!==n&&!ta){var u;if(a.current)window.clearTimeout(a.current),a.current=null,null===(u=o.current)||void 0===u||u.call(o),o.current=null;o.current=n.retain(),a.current=window.setTimeout((function(){var e;a.current=null,null===(e=o.current)||void 0===e||e.call(o),o.current=null}),$i)}return n},aa=ra,oa=function(){var e=Wi();return Zi((function(t){return ra(e.current,t)}),[e])},ua=function(e){na(Zi((function(t){var n=Yi(t,"latest"),r=Yi(t,"previous");e({snapshot:n,previousSnapshot:r})}),[e]))},sa=Mt,ca=Qr;var la=function(){var e=ca();return function(t){var n=t.key;return sa(e.current,e.current.getState().currentTree,n)}},fa=ke.reactMode,ha=Gr,da=Qr,va=t.useMemo;var pa=function(){"MUTABLE_SOURCE"===fa().mode&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");var e=da().current;return va((function(){return function(n){var r=n.children;return t.createElement(ha,{store_INTERNAL:e},r)}}),[e])},ya=le.loadableWithValue,ma=Pt,ga=qe.DEFAULT_VALUE,ba=qe.getNode,ka=sn.copyTreeState,wa=sn.getRecoilValueAsLoadable,Ea=sn.invalidateDownstreams,xa=sn.writeLoadableToTreeState;function Sa(e){return"atom"===ba(e.key).nodeType}var _a=function(){function e(t,n){var r=this;N(this,e),K(this,"_store",void 0),K(this,"_treeState",void 0),K(this,"_changes",void 0),K(this,"get",(function(e){if(r._changes.has(e.key))return r._changes.get(e.key);if(!Sa(e))throw j("Reading selectors within atomicUpdate is not supported");var t=wa(r._store,e,r._treeState);if("hasValue"===t.state)return t.contents;throw"hasError"===t.state?t.contents:j("Expected Recoil atom ".concat(e.key," to have a value, but it is in a loading state."))})),K(this,"set",(function(e,t){if(!Sa(e))throw j("Setting selectors within atomicUpdate is not supported");if("function"===typeof t){var n=r.get(e);r._changes.set(e.key,t(n))}else ma(r._store,e.key,"set"),r._changes.set(e.key,t)})),K(this,"reset",(function(e){r.set(e,ga)})),this._store=t,this._treeState=n,this._changes=new Map}return P(e,[{key:"newTreeState_INTERNAL",value:function(){if(0===this._changes.size)return this._treeState;var e,t=ka(this._treeState),n=k(this._changes);try{for(n.s();!(e=n.n()).done;){var r=v(e.value,2),i=r[0],a=r[1];xa(t,i,ya(a))}}catch(o){n.e(o)}finally{n.f()}return Ea(this._store,t),t}}]),e}();var Ca=function(e){return function(t){e.replaceState((function(n){var r=new _a(e,n);return t(r),r.newTreeState_INTERNAL()}))}},Ta=Ca,Ia=Object.freeze({__proto__:null,atomicUpdater:Ta});var Na=function(e,t){if(!e)throw new Error(t)},Aa=Na,Pa=Ia.atomicUpdater,Ra=Tn,Da=qe.DEFAULT_VALUE,Ma=Qr,Oa=sn.refreshRecoilValue,La=sn.setRecoilValue,Fa=lr.cloneSnapshot,Va=aa,Ua=t.useCallback,Ba=P((function e(){N(this,e)})),ja=new Ba;function qa(e,t,n,r){var i,a,o=ja;(Ra((function(){var a="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if("function"!==typeof t)throw j(a);var u=mt(x(x({},null!==r&&void 0!==r?r:{}),{},{set:function(t,n){return La(e,t,n)},reset:function(t){return La(e,t,Da)},refresh:function(t){return Oa(e,t)},gotoSnapshot:function(t){return Va(e,t)},transact_UNSTABLE:function(t){return Pa(e)(t)}}),{snapshot:function(){var t=Fa(e);return i=t.retain(),t}}),c=t(u);if("function"!==typeof c)throw j(a);o=c.apply(void 0,s(n))})),o instanceof Ba&&Aa(!1),q(o))?o.finally((function(){var e;null===(e=i)||void 0===e||e()})):null===(a=i)||void 0===a||a();return o}var za=qa,Ka=function(e,t){var n=Ma();return Ua((function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return qa(n.current,e,r)}),null!=t?[].concat(s(t),[n]):void 0)},Ha=Qr,Wa=sn.refreshRecoilValue,Ga=t.useCallback;var Qa=function(e){var t=Ha();return Ga((function(){var n=t.current;Wa(n,e)}),[e,t])},$a=Ia.atomicUpdater,Ya=Qr,Za=t.useMemo;var Xa=function(e,t){var n=Ya();return Za((function(){return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var a=$a(n.current);a((function(t){e(t).apply(void 0,r)}))}}),null!=t?[].concat(s(t),[n]):void 0)},Ja={WrappedValue:P((function e(t){N(this,e),K(this,"value",void 0),this.value=t}))}.WrappedValue,eo=Object.freeze({__proto__:null,WrappedValue:Ja}),to=ke.isFastRefreshEnabled,no=function(e){_(n,e);var t=I(n);function n(){return N(this,n),t.apply(this,arguments)}return P(n)}(b(Error)),ro=function(){function e(t){var n,r,i;N(this,e),K(this,"_name",void 0),K(this,"_numLeafs",void 0),K(this,"_root",void 0),K(this,"_onHit",void 0),K(this,"_onSet",void 0),K(this,"_mapNodeValue",void 0),this._name=null===t||void 0===t?void 0:t.name,this._numLeafs=0,this._root=null,this._onHit=null!==(n=null===t||void 0===t?void 0:t.onHit)&&void 0!==n?n:function(){},this._onSet=null!==(r=null===t||void 0===t?void 0:t.onSet)&&void 0!==r?r:function(){},this._mapNodeValue=null!==(i=null===t||void 0===t?void 0:t.mapNodeValue)&&void 0!==i?i:function(e){return e}}return P(e,[{key:"size",value:function(){return this._numLeafs}},{key:"root",value:function(){return this._root}},{key:"get",value:function(e,t){var n;return null===(n=this.getLeafNode(e,t))||void 0===n?void 0:n.value}},{key:"getLeafNode",value:function(e,t){if(null!=this._root)for(var n=this._root;n;){if(null===t||void 0===t||t.onNodeVisit(n),"leaf"===n.type)return this._onHit(n),n;var r=this._mapNodeValue(e(n.nodeKey));n=n.branches.get(r)}}},{key:"set",value:function(e,t,n){var r=this,i=function(){var i,a,o,u,s,c,l,f=k(e);try{for(f.s();!(l=f.n()).done;){var h,d,p,y=v(l.value,2),m=y[0],g=y[1],b=r._root;if("leaf"===(null===b||void 0===b?void 0:b.type))throw r.invalidCacheError();var w=s;if("branch"!==(s=null!==(h=s=w?w.branches.get(c):b)&&void 0!==h?h:{type:"branch",nodeKey:m,parent:w,branches:new Map,branchKey:c}).type||s.nodeKey!==m)throw r.invalidCacheError();null===w||void 0===w||w.branches.set(c,s),null===n||void 0===n||null===(d=n.onNodeVisit)||void 0===d||d.call(n,s),c=r._mapNodeValue(g),r._root=null!==(p=r._root)&&void 0!==p?p:s}}catch(S){f.e(S)}finally{f.f()}var E=s?null===(i=s)||void 0===i?void 0:i.branches.get(c):r._root;if(null!=E&&("leaf"!==E.type||E.branchKey!==c))throw r.invalidCacheError();var x={type:"leaf",value:t,parent:s,branchKey:c};null===(a=s)||void 0===a||a.branches.set(c,x),r._root=null!==(o=r._root)&&void 0!==o?o:x,r._numLeafs++,r._onSet(x),null===n||void 0===n||null===(u=n.onNodeVisit)||void 0===u||u.call(n,x)};try{i()}catch(a){if(!(a instanceof no))throw a;this.clear(),i()}}},{key:"delete",value:function(e){var t=this.root();if(!t)return!1;if(e===t)return this._root=null,this._numLeafs=0,!0;for(var n=e.parent,r=e.branchKey;n;){var i;if(n.branches.delete(r),n===t)return 0===n.branches.size?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(n.branches.size>0)break;r=null===(i=n)||void 0===i?void 0:i.branchKey,n=n.parent}for(;n!==t;n=n.parent)if(null==n)return!1;return this._numLeafs--,!0}},{key:"clear",value:function(){this._numLeafs=0,this._root=null}},{key:"invalidCacheError",value:function(){var e=to()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw De(e+(null!=this._name?" - ".concat(this._name):"")),new no}}]),e}(),io={TreeCache:ro}.TreeCache,ao=Object.freeze({__proto__:null,TreeCache:io}),oo=function(){function e(t){var n;N(this,e),K(this,"_maxSize",void 0),K(this,"_size",void 0),K(this,"_head",void 0),K(this,"_tail",void 0),K(this,"_map",void 0),K(this,"_keyMapper",void 0),this._maxSize=t.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=null!==(n=t.mapKey)&&void 0!==n?n:function(e){return e}}return P(e,[{key:"head",value:function(){return this._head}},{key:"tail",value:function(){return this._tail}},{key:"size",value:function(){return this._size}},{key:"maxSize",value:function(){return this._maxSize}},{key:"has",value:function(e){return this._map.has(this._keyMapper(e))}},{key:"get",value:function(e){var t=this._keyMapper(e),n=this._map.get(t);if(n)return this.set(e,n.value),n.value}},{key:"set",value:function(e,t){var n=this._keyMapper(e);this._map.get(n)&&this.delete(e);var r=this.head(),i={key:e,right:r,left:null,value:t};r?r.left=i:this._tail=i,this._map.set(n,i),this._head=i,this._size++,this._maybeDeleteLRU()}},{key:"_maybeDeleteLRU",value:function(){this.size()>this.maxSize()&&this.deleteLru()}},{key:"deleteLru",value:function(){var e=this.tail();e&&this.delete(e.key)}},{key:"delete",value:function(e){var t=this._keyMapper(e);if(this._size&&this._map.has(t)){var n=z(this._map.get(t)),r=n.right,i=n.left;r&&(r.left=n.left),i&&(i.right=n.right),n===this.head()&&(this._head=r),n===this.tail()&&(this._tail=i),this._map.delete(t),this._size--}}},{key:"clear",value:function(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}]),e}(),uo={LRUCache:oo}.LRUCache,so=Object.freeze({__proto__:null,LRUCache:uo}),co=so.LRUCache,lo=ao.TreeCache;var fo=function(e){var t=e.name,n=e.maxSize,r=e.mapNodeValue,i=void 0===r?function(e){return e}:r,a=new co({maxSize:n}),o=new lo({name:t,mapNodeValue:i,onHit:function(e){a.set(e,!0)},onSet:function(e){var t=a.tail();a.set(e,!0),t&&o.size()>n&&o.delete(t.key)}});return o};function ho(e,t,n){if("string"===typeof e&&!e.includes('"')&&!e.includes("\\"))return'"'.concat(e,'"');switch(typeof e){case"undefined":return"";case"boolean":return e?"true":"false";case"number":case"symbol":return String(e);case"string":return JSON.stringify(e);case"function":if(!0!==(null===t||void 0===t?void 0:t.allowFunctions))throw j("Attempt to serialize function in a Recoil cache key");return"__FUNCTION(".concat(e.name,")__")}if(null===e)return"null";var r;if("object"!==typeof e)return null!==(r=JSON.stringify(e))&&void 0!==r?r:"";if(q(e))return"__PROMISE__";if(Array.isArray(e))return"[".concat(e.map((function(e,n){return ho(e,t,n.toString())})),"]");if("function"===typeof e.toJSON)return ho(e.toJSON(n),t,n);if(e instanceof Map){var i,a={},o=k(e);try{for(o.s();!(i=o.n()).done;){var u=v(i.value,2),s=u[0],c=u[1];a["string"===typeof s?s:ho(s,t)]=c}}catch(l){o.e(l)}finally{o.f()}return ho(a,t,n)}return e instanceof Set?ho(Array.from(e).sort((function(e,n){return ho(e,t).localeCompare(ho(n,t))})),t,n):void 0!==Symbol&&null!=e[Symbol.iterator]&&"function"===typeof e[Symbol.iterator]?ho(Array.from(e),t,n):"{".concat(Object.keys(e).filter((function(t){return void 0!==e[t]})).sort().map((function(n){return"".concat(ho(n,t),":").concat(ho(e[n],t,n))})).join(","),"}")}var vo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{allowFunctions:!1};return ho(e,t)},po=ao.TreeCache,yo={equality:"reference",eviction:"keep-all",maxSize:1/0};function mo(e){switch(e){case"reference":return function(e){return e};case"value":return function(e){return vo(e)}}throw j("Unrecognized equality policy ".concat(e))}function go(e,t,n,r){switch(e){case"keep-all":return new po({name:r,mapNodeValue:n});case"lru":return fo({name:r,maxSize:z(t),mapNodeValue:n});case"most-recent":return fo({name:r,maxSize:1,mapNodeValue:n})}throw j("Unrecognized eviction policy ".concat(e))}var bo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yo,t=e.equality,n=void 0===t?yo.equality:t,r=e.eviction,i=void 0===r?yo.eviction:r,a=e.maxSize,o=void 0===a?yo.maxSize:a,u=arguments.length>1?arguments[1]:void 0,s=mo(n);return go(i,o,s,u)};var ko=function(e){return function(){return null}},wo=le.isLoadable,Eo=le.loadableWithError,xo=le.loadableWithPromise,So=le.loadableWithValue,_o=eo.WrappedValue,Co=It,To=Nt,Io=At,No=et,Ao=qe.DEFAULT_VALUE,Po=qe.RecoilValueNotReady,Ro=qe.getConfigDeletionHandler,Do=qe.getNode,Mo=qe.registerNode,Oo=Ne.isRecoilValue,Lo=sn.markRecoilValueModified,Fo=xn,Vo=za,Uo=ko,Bo=P((function e(){N(this,e)})),jo=new Bo,qo=[],zo=new Map,Ko=function(){var e=0;return function(){return e++}}();function Ho(e){var t=null,n=e.key,r=e.get,i=e.cachePolicy_UNSTABLE,a=null!=e.set?e.set:void 0;var o=new Set,u=bo(null!==i&&void 0!==i?i:{equality:"reference",eviction:"keep-all"},n),s=Fo(e.retainedBy_UNSTABLE),c=new Map,l=0;function f(){return!ye("recoil_memory_managament_2020")||l>0}function h(e){return e.getState().knownSelectors.add(n),l++,function(){l--}}function d(){return void 0!==Ro(n)&&!f()}function p(e,t,n,r,i){N(t,r,i),y(e,n)}function y(e,t){I(e,t)&&T(e),m(t,!0)}function m(e,n){var r=zo.get(e);if(null!=r){var i,a=k(r);try{for(a.s();!(i=a.n()).done;){var o=i.value;Lo(o,z(t))}}catch(u){a.e(u)}finally{a.f()}n&&zo.delete(e)}}function g(e,t){var n=zo.get(t);null==n&&zo.set(t,n=new Set),n.add(e)}function b(e,t,n,r,i,a){return t.then((function(r){if(!f())throw T(e),jo;null!=a.loadingDepKey&&a.loadingDepPromise===t?n.atomValues.set(a.loadingDepKey,So(r)):e.getState().knownSelectors.forEach((function(e){n.atomValues.delete(e)}));var o=x(e,n);if(o&&"loading"!==o.state){if((I(e,i)||null==C(e))&&y(e,i),"hasValue"===o.state)return o.contents;throw o.contents}if(!I(e,i)){var u=_(e,n);if(null!=u)return u.loadingLoadable.contents}var s=v(E(e,n,i),2),c=s[0],l=s[1];if("loading"!==c.state&&p(e,n,i,c,l),"hasError"===c.state)throw c.contents;return c.contents})).catch((function(t){if(t instanceof Bo)throw jo;if(!f())throw T(e),jo;var a=Eo(t);throw p(e,n,i,a,r),t}))}function w(e,t,r,i){var a,u,s,c,l,f,h;(I(e,i)||t.version===(null===(a=e.getState())||void 0===a||null===(u=a.currentTree)||void 0===u?void 0:u.version)||t.version===(null===(s=e.getState())||void 0===s||null===(c=s.nextTree)||void 0===c?void 0:c.version))&&No(n,r,e,null!==(l=null===(f=e.getState())||void 0===f||null===(h=f.nextTree)||void 0===h?void 0:h.version)&&void 0!==l?l:e.getState().currentTree.version);var d,v=k(r);try{for(v.s();!(d=v.n()).done;){var p=d.value;o.add(p)}}catch(y){v.e(y)}finally{v.f()}}function E(e,i,a){var o,u,s=Uo(n),c=!0,l=!0,h=function(){s(),l=!1},d=!1,v={loadingDepKey:null,loadingDepPromise:null},y=new Map;function g(t){var n=t.key,r=Co(e,i,n);switch(y.set(n,r),c||(w(e,i,new Set(y.keys()),a),function(e,t){I(e,t)&&(z(C(e)).stateVersions.clear(),m(t,!1))}(e,a)),r.state){case"hasValue":return r.contents;case"hasError":throw r.contents;case"loading":throw v.loadingDepKey=n,v.loadingDepPromise=r.contents,r.contents}throw j("Invalid Loadable state")}try{o=r({get:g,getCallback:function(n){return function(){if(l)throw j("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");null==t&&Aa(!1);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return Vo(e,n,i,{node:t})}}}),o=Oo(o)?g(o):o,wo(o)&&("hasError"===o.state&&(d=!0),o=o.contents),q(o)?o=function(e,t,n,r,i,a){return t.then((function(t){if(!f())throw T(e),jo;var a=So(t);return p(e,n,i,a,r),t})).catch((function(t){if(!f())throw T(e),jo;if(q(t))return b(e,t,n,r,i,a);var o=Eo(t);throw p(e,n,i,o,r),t}))}(e,o,i,y,a,v).finally(h):h(),o=o instanceof _o?o.value:o}catch(k){q(o=k)?o=b(e,o,i,y,a,v).finally(h):(d=!0,h())}return u=d?Eo(o):q(o)?xo(o):So(o),c=!1,function(e,t,n){if(I(e,t)){var r=C(e);null!=r&&(r.depValuesDiscoveredSoFarDuringAsyncWork=n)}}(e,a,y),w(e,i,new Set(y.keys()),a),[u,y]}function x(e,t){var r=t.atomValues.get(n);if(null!=r)return r;var i,a=new Set;try{r=u.get((function(n){return"string"!==typeof n&&Aa(!1),Co(e,t,n).contents}),{onNodeVisit:function(e){"branch"===e.type&&e.nodeKey!==n&&a.add(e.nodeKey)}})}catch(o){throw j('Problem with cache lookup for selector "'.concat(n,'": ').concat(o.message))}r&&(t.atomValues.set(n,r),w(e,t,a,null===(i=C(e))||void 0===i?void 0:i.executionID));return r}function S(e,t){var n=x(e,t);if(null!=n)return T(e),n;var r,i=_(e,t);if(null!=i)return"loading"===(null===(r=i.loadingLoadable)||void 0===r?void 0:r.state)&&g(e,i.executionID),i.loadingLoadable;var a=Ko(),o=v(E(e,t,a),2),u=o[0],s=o[1];return"loading"===u.state?(!function(e,t,n,r,i){c.set(e,{depValuesDiscoveredSoFarDuringAsyncWork:r,executionID:t,loadingLoadable:n,stateVersions:new Map([[i.version,!0]])})}(e,a,u,s,t),g(e,a)):(T(e),N(t,u,s)),u}function _(e,t){function n(n){var r,i=k(n);try{for(i.s();!(r=i.n()).done;){var a=v(r.value,2),o=a[0],u=a[1];if(!Co(e,t,o).is(u))return!0}}catch(s){i.e(s)}finally{i.f()}return!1}var r,i=k(Nn([c.has(e)?[z(c.get(e))]:[],Pe(yt(c,(function(t){return v(t,1)[0]!==e})),(function(e){return v(e,2)[1]}))]));try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.stateVersions.get(t.version)||!n(a.depValuesDiscoveredSoFarDuringAsyncWork))return a.stateVersions.set(t.version,!0),a;a.stateVersions.set(t.version,!1)}}catch(o){i.e(o)}finally{i.f()}}function C(e){return c.get(e)}function T(e){c.delete(e)}function I(e,t){var n;return t===(null===(n=C(e))||void 0===n?void 0:n.executionID)}function N(e,t,r){e.atomValues.set(n,t);try{u.set(function(e){return Array.from(e.entries()).map((function(e){var t=v(e,2);return[t[0],t[1].contents]}))}(r),t)}catch(i){throw j('Problem with setting cache for selector "'.concat(n,'": ').concat(i.message))}}function A(e,t){var r=t.atomValues.get(n);return null!=r?r:u.get((function(n){var r;return"string"!==typeof n&&Aa(!1),null===(r=To(e,t,n))||void 0===r?void 0:r.contents}))}function P(e,t){return function(e){if(qo.includes(n)){var t="Recoil selector has circular dependencies: ".concat(qo.slice(qo.indexOf(n)).join(" \u2192 "));return Eo(j(t))}qo.push(n);try{return e()}finally{qo.pop()}}((function(){return S(e,t)}))}function R(e){e.atomValues.delete(n)}function D(e,n){null==t&&Aa(!1);var r,i=k(o);try{for(i.s();!(r=i.n()).done;){var a,s=r.value,c=Do(s);null===(a=c.clearCache)||void 0===a||a.call(c,e,n)}}catch(l){i.e(l)}finally{i.f()}o.clear(),R(n),u.clear(),Lo(e,t)}if(null!=a){return t=Mo({key:n,nodeType:"selector",peek:A,get:P,set:function(e,t,n){var r=!1,i=new Map;function o(n){var i=n.key;if(r)throw j("Recoil: Async selector sets are not currently supported.");var a=Co(e,t,i);if("hasValue"===a.state)return a.contents;throw"loading"===a.state?new Po(i):a.contents}function u(n,a){if(r)throw j("Recoil: Async selector sets are not currently supported.");var u="function"===typeof a?a(o(n)):a;Io(e,t,n.key,u).forEach((function(e,t){return i.set(t,e)}))}var s=a({set:u,get:o,reset:function(e){u(e,Ao)}},n);if(void 0!==s)throw q(s)?j("Recoil: Async selector sets are not currently supported."):j("Recoil: selector set should be a void function.");return r=!0,i},init:h,invalidate:R,clearCache:D,shouldDeleteConfigOnRelease:d,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:s})}return t=Mo({key:n,nodeType:"selector",peek:A,get:P,init:h,invalidate:R,clearCache:D,shouldDeleteConfigOnRelease:d,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:s})}Ho.value=function(e){return new _o(e)};var Wo=Ho,Go=le.isLoadable,Qo=le.loadableWithError,$o=le.loadableWithPromise,Yo=le.loadableWithValue,Zo=eo.WrappedValue,Xo=Mt,Jo=qe.DEFAULT_VALUE,eu=qe.DefaultValue,tu=qe.getConfigDeletionHandler,nu=qe.registerNode,ru=qe.setConfigDeletionHandler,iu=Ne.isRecoilValue,au=sn.getRecoilValueAsLoadable,ou=sn.markRecoilValueModified,uu=sn.setRecoilValue,su=sn.setRecoilValueLoadable,cu=xn;function lu(e){var t=e.key,n=e.persistence_UNSTABLE,r=cu(e.retainedBy_UNSTABLE),i=0;function a(e){return $o(e.then((function(e){return o=Yo(e),e})).catch((function(e){throw o=Qo(e),e})))}var o=q(e.default)?a(e.default):Go(e.default)?"loading"===e.default.state?a(e.default.contents):e.default:Yo(e.default instanceof Zo?e.default.value:e.default);l(o.contents);var u=void 0,c=new Map;function l(e){return e}function f(e,n){var r,i;return null!==(r=null!==(i=n.atomValues.get(t))&&void 0!==i?i:u)&&void 0!==r?r:o}var h=nu({key:t,nodeType:"atom",peek:f,get:function(e,r){if(r.atomValues.has(t))return z(r.atomValues.get(t));if(r.nonvalidatedAtoms.has(t)){if(null!=u)return u;if(null==n)return Ae("Tried to restore a persisted value for atom ".concat(t," but it has no persistence settings.")),o;var i=r.nonvalidatedAtoms.get(t),a=n.validator(i,Jo),s=a instanceof eu?o:Yo(a);return u=s}return o},set:function(e,n,r){if(n.atomValues.has(t)){var i=z(n.atomValues.get(t));if("hasValue"===i.state&&r===i.contents)return new Map}else if(!n.nonvalidatedAtoms.has(t)&&r instanceof eu)return new Map;return u=void 0,(new Map).set(t,Yo(r))},init:function(n,r,a){var u;if(i++,n.getState().knownAtoms.add(t),"loading"===o.state){o.contents.finally((function(){var e;(null!==(e=n.getState().nextTree)&&void 0!==e?e:n.getState().currentTree).atomValues.has(t)||ou(n,h)}))}var l=null!==(u=e.effects)&&void 0!==u?u:e.effects_UNSTABLE;if(null!=l){var d,v=function(e){if(m&&e.key===t){var i=g;return i instanceof eu?f(n,r):q(i)?$o(i.then((function(e){return e instanceof eu?o.toPromise():e}))):Yo(i)}return au(n,e)},p=function(e){return v(e).toPromise()},y=function(e){var r,i=Xo(n,null!==(r=n.getState().nextTree)&&void 0!==r?r:n.getState().currentTree,e.key);return!m||e.key!==t||g instanceof eu?i:x(x({},i),{},{isSet:!0,loadable:v(e)})},m=!0,g=Jo,b=!1,w=null,E=function(e){return function(t){if(m){var r=v(h),i="hasValue"===r.state?r.contents:Jo;g="function"===typeof t?t(i):t,q(g)&&(g=g.then((function(t){return w={effect:e,value:t},t})))}else{if(q(t))throw j("Setting atoms to async values is not implemented.");"function"!==typeof t&&(w={effect:e,value:t}),uu(n,h,"function"===typeof t?function(n){var r=t(n);return w={effect:e,value:r},r}:t)}}},S=function(e){return function(){return E(e)(Jo)}},_=function(e){return function(r){var i,a=n.subscribeToTransactions((function(n){var i,a=n.getState(),u=a.currentTree,s=a.previousTree;s||(De("Transaction subscribers notified without a next tree being present -- this is a bug in Recoil"),s=u);var c=null!==(i=u.atomValues.get(t))&&void 0!==i?i:o;if("hasValue"===c.state){var l,f,h,d,v=c.contents,p=null!==(l=s.atomValues.get(t))&&void 0!==l?l:o,y="hasValue"===p.state?p.contents:Jo;(null===(f=w)||void 0===f?void 0:f.effect)!==e||(null===(h=w)||void 0===h?void 0:h.value)!==v?r(v,y,!u.atomValues.has(t)):(null===(d=w)||void 0===d?void 0:d.effect)===e&&(w=null)}}),t).release;c.set(n,[].concat(s(null!==(i=c.get(n))&&void 0!==i?i:[]),[a]))}},C=k(l);try{for(C.s();!(d=C.n()).done;){var T=d.value;try{var I,N=T({node:h,storeID:n.storeID,trigger:a,setSelf:E(T),resetSelf:S(T),onSet:_(T),getPromise:p,getLoadable:v,getInfo_UNSTABLE:y});if(null!=N)c.set(n,[].concat(s(null!==(I=c.get(n))&&void 0!==I?I:[]),[N]))}catch(D){g=D,b=!0}}}catch(M){C.e(M)}finally{C.f()}if(m=!1,!(g instanceof eu)){var A,P=g,R=b?Qo(g):q(P)?$o(function(e,n){var r=n.then((function(n){var i,a;return(null===(a=(null!==(i=e.getState().nextTree)&&void 0!==i?i:e.getState().currentTree).atomValues.get(t))||void 0===a?void 0:a.contents)===r&&uu(e,h,n),n})).catch((function(n){var i,a;throw(null===(a=(null!==(i=e.getState().nextTree)&&void 0!==i?i:e.getState().currentTree).atomValues.get(t))||void 0===a?void 0:a.contents)===r&&su(e,h,Qo(n)),n}));return r}(n,P)):Yo(P);r.atomValues.set(t,R),null===(A=n.getState().nextTree)||void 0===A||A.atomValues.set(t,R)}}return function(){var e;i--,null===(e=c.get(n))||void 0===e||e.forEach((function(e){return e()})),c.delete(n)}},invalidate:function(){u=void 0},shouldDeleteConfigOnRelease:function(){return void 0!==tu(t)&&i<=0},dangerouslyAllowMutability:e.dangerouslyAllowMutability,persistence_UNSTABLE:e.persistence_UNSTABLE?{type:e.persistence_UNSTABLE.type,backButton:e.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return h}function fu(e){var t=Object.assign({},e),n="default"in e?e.default:new Promise((function(){}));return iu(n)?function(e){var t=fu(x(x({},e),{},{default:Jo,persistence_UNSTABLE:void 0===e.persistence_UNSTABLE?void 0:x(x({},e.persistence_UNSTABLE),{},{validator:function(t){return t instanceof eu?t:z(e.persistence_UNSTABLE).validator(t,Jo)}}),effects:e.effects,effects_UNSTABLE:e.effects_UNSTABLE})),n=Wo({key:"".concat(e.key,"__withFallback"),get:function(n){var r=(0,n.get)(t);return r instanceof eu?e.default:r},set:function(e,n){return(0,e.set)(t,n)},dangerouslyAllowMutability:e.dangerouslyAllowMutability});return ru(n.key,tu(e.key)),n}(x(x({},t),{},{default:n})):lu(x(x({},t),{},{default:n}))}fu.value=function(e){return new Zo(e)};var hu=fu,du=function(){function e(t){var n;N(this,e),K(this,"_map",void 0),K(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=null!==(n=null===t||void 0===t?void 0:t.mapKey)&&void 0!==n?n:function(e){return e}}return P(e,[{key:"size",value:function(){return this._map.size}},{key:"has",value:function(e){return this._map.has(this._keyMapper(e))}},{key:"get",value:function(e){return this._map.get(this._keyMapper(e))}},{key:"set",value:function(e,t){this._map.set(this._keyMapper(e),t)}},{key:"delete",value:function(e){this._map.delete(this._keyMapper(e))}},{key:"clear",value:function(){this._map.clear()}}]),e}(),vu={MapCache:du}.MapCache,pu=Object.freeze({__proto__:null,MapCache:vu}),yu=so.LRUCache,mu=pu.MapCache,gu={equality:"reference",eviction:"none",maxSize:1/0};function bu(e){switch(e){case"reference":return function(e){return e};case"value":return function(e){return vo(e)}}throw j("Unrecognized equality policy ".concat(e))}function ku(e,t,n){switch(e){case"keep-all":return new mu({mapKey:n});case"lru":return new yu({mapKey:n,maxSize:z(t)});case"most-recent":return new yu({mapKey:n,maxSize:1})}throw j("Unrecognized eviction policy ".concat(e))}var wu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gu,t=e.equality,n=void 0===t?gu.equality:t,r=e.eviction,i=void 0===r?gu.eviction:r,a=e.maxSize,o=void 0===a?gu.maxSize:a,u=bu(n),s=ku(i,o,u);return s},Eu=qe.setConfigDeletionHandler;var xu=function(e){var t,n,r=wu({equality:null!==(t=null===(n=e.cachePolicyForParams_UNSTABLE)||void 0===n?void 0:n.equality)&&void 0!==t?t:"value",eviction:"keep-all"});return function(t){var n,i,a=r.get(t);if(null!=a)return a;e.cachePolicyForParams_UNSTABLE;var o=c(e,F),u="default"in e?e.default:new Promise((function(){})),s=hu(x(x({},o),{},{key:"".concat(e.key,"__").concat(null!==(n=vo(t))&&void 0!==n?n:"void"),default:"function"===typeof u?u(t):u,retainedBy_UNSTABLE:"function"===typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE,effects:"function"===typeof e.effects?e.effects(t):"function"===typeof e.effects_UNSTABLE?e.effects_UNSTABLE(t):null!==(i=e.effects)&&void 0!==i?i:e.effects_UNSTABLE}));return r.set(t,s),Eu(s.key,(function(){r.delete(t)})),s}},Su=qe.setConfigDeletionHandler,_u=0;var Cu=function(e){var t,n,r=wu({equality:null!==(t=null===(n=e.cachePolicyForParams_UNSTABLE)||void 0===n?void 0:n.equality)&&void 0!==t?t:"value",eviction:"keep-all"});return function(t){var n,i;try{i=r.get(t)}catch(f){throw j("Problem with cache lookup for selector ".concat(e.key,": ").concat(f.message))}if(null!=i)return i;var a,o="".concat(e.key,"__selectorFamily/").concat(null!==(n=vo(t,{allowFunctions:!0}))&&void 0!==n?n:"void","/").concat(_u++),u=function(n){return e.get(t)(n)},s=e.cachePolicy_UNSTABLE,c="function"===typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE;if(null!=e.set){var l=e.set;a=Wo({key:o,get:u,set:function(e,n){return l(t)(e,n)},cachePolicy_UNSTABLE:s,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:c})}else a=Wo({key:o,get:u,cachePolicy_UNSTABLE:s,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:c});return r.set(t,a),Su(a.key,(function(){r.delete(t)})),a}},Tu=Cu({key:"__constant",get:function(e){return function(){return e}},cachePolicyForParams_UNSTABLE:{equality:"reference"}});var Iu=function(e){return Tu(e)},Nu=Cu({key:"__error",get:function(e){return function(){throw j(e)}},cachePolicyForParams_UNSTABLE:{equality:"reference"}});var Au=function(e){return Nu(e)};var Pu=function(e){return e},Ru=le.loadableWithError,Du=le.loadableWithPromise,Mu=le.loadableWithValue;function Ou(e,t){var n,r=Array(t.length).fill(void 0),i=Array(t.length).fill(void 0),a=k(t.entries());try{for(a.s();!(n=a.n()).done;){var o=v(n.value,2),u=o[0],s=o[1];try{r[u]=e(s)}catch(c){i[u]=c}}}catch(l){a.e(l)}finally{a.f()}return[r,i]}function Lu(e){return null!=e&&!q(e)}function Fu(e){return Array.isArray(e)?e:Object.getOwnPropertyNames(e).map((function(t){return e[t]}))}function Vu(e,t){return Array.isArray(e)?t:Object.getOwnPropertyNames(e).reduce((function(e,n,r){return x(x({},e),{},w({},n,t[r]))}),{})}function Uu(e,t,n){return Vu(e,n.map((function(e,n){return null==e?Mu(t[n]):q(e)?Du(e):Ru(e)})))}var Bu=Cu({key:"__waitForNone",get:function(e){return function(t){var n=v(Ou(t.get,Fu(e)),2),r=n[0],i=n[1];return Uu(e,r,i)}},dangerouslyAllowMutability:!0}),ju=Cu({key:"__waitForAny",get:function(e){return function(t){var n=v(Ou(t.get,Fu(e)),2),r=n[0],i=n[1];return i.some((function(e){return!q(e)}))?Uu(e,r,i):new Promise((function(t){var n,a=k(i.entries());try{var o=function(){var a=v(n.value,2),o=a[0],u=a[1];q(u)&&u.then((function(n){r[o]=n,i[o]=void 0,t(Uu(e,r,i))})).catch((function(n){i[o]=n,t(Uu(e,r,i))}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}}))}},dangerouslyAllowMutability:!0}),qu=Cu({key:"__waitForAll",get:function(e){return function(t){var n=v(Ou(t.get,Fu(e)),2),r=n[0],i=n[1];if(i.every((function(e){return null==e})))return Vu(e,r);var a=i.find(Lu);if(null!=a)throw a;return Promise.all(i).then((function(t){return Vu(e,(n=r,t.map((function(e,t){return void 0===e?n[t]:e}))));var n}))}},dangerouslyAllowMutability:!0}),zu=Cu({key:"__waitForAllSettled",get:function(e){return function(t){var n=v(Ou(t.get,Fu(e)),2),r=n[0],i=n[1];return i.every((function(e){return!q(e)}))?Uu(e,r,i):Promise.all(i.map((function(e,t){return q(e)?e.then((function(e){r[t]=e,i[t]=void 0})).catch((function(e){r[t]=void 0,i[t]=e})):null}))).then((function(){return Uu(e,r,i)}))}},dangerouslyAllowMutability:!0}),Ku=Cu({key:"__noWait",get:function(e){return function(t){var n=t.get;try{return Wo.value(Mu(n(e)))}catch(r){return Wo.value(q(r)?Du(r):Ru(r))}}},dangerouslyAllowMutability:!0}),Hu={waitForNone:Bu,waitForAny:ju,waitForAll:qu,waitForAllSettled:zu,noWait:Ku},Wu=le.RecoilLoadable,Gu=qe.DefaultValue,Qu=Gr,$u=Yr,Yu=Ne.isRecoilValue,Zu=dt.retentionZone,Xu=lr.freshSnapshot,Ju={DefaultValue:Gu,isRecoilValue:Yu,RecoilLoadable:Wu,RecoilRoot:Qu,useRecoilStoreID:$u,useRecoilBridgeAcrossReactRoots_UNSTABLE:pa,atom:hu,selector:Wo,atomFamily:xu,selectorFamily:Cu,constSelector:Iu,errorSelector:Au,readOnlySelector:Pu,noWait:Hu.noWait,waitForNone:Hu.waitForNone,waitForAny:Hu.waitForAny,waitForAll:Hu.waitForAll,waitForAllSettled:Hu.waitForAllSettled,useRecoilValue:Li,useRecoilValueLoadable:Fi,useRecoilState:Mi,useRecoilStateLoadable:Oi,useSetRecoilState:Ui,useResetRecoilState:Vi,useGetRecoilValueInfo_UNSTABLE:la,useRecoilRefresher_UNSTABLE:Qa,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:Bi,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:ji,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:qi,useRecoilCallback:Ka,useRecoilTransaction_UNSTABLE:Xa,useGotoRecoilSnapshot:oa,useRecoilSnapshot:ia,useRecoilTransactionObserver_UNSTABLE:ua,snapshot_UNSTABLE:Xu,useRetain:si,retentionZone:Zu},es=Ju.RecoilRoot,ts=n(179),ns=n(933),rs=n(462),is=n(694),as=n.n(is),os={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},us={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},ss={lang:(0,rs.Z)({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},os),timePickerLocale:(0,rs.Z)({},us)},cs="${label} is not a valid ${type}",ls={locale:"en",Pagination:{items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},DatePicker:ss,TimePicker:us,Calendar:ss,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:cs,method:cs,array:cs,object:cs,number:cs,date:cs,boolean:cs,integer:cs,float:cs,regexp:cs,email:cs,url:cs,hex:cs},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"}},fs=ls,hs=(0,t.createContext)(void 0),ds=function(e){_(n,e);var t=I(n);function n(){return N(this,n),t.apply(this,arguments)}return P(n,[{key:"getLocale",value:function(){var e=this.props,t=e.componentName,n=e.defaultLocale||fs[null!==t&&void 0!==t?t:"global"],r=this.context,i=t&&r?r[t]:{};return(0,rs.Z)((0,rs.Z)({},n instanceof Function?n():n),i||{})}},{key:"getLocaleCode",value:function(){var e=this.context,t=e&&e.locale;return e&&e.exist&&!t?fs.locale:t}},{key:"render",value:function(){return this.props.children(this.getLocale(),this.getLocaleCode(),this.context)}}]),n}(t.Component);ds.defaultProps={componentName:"global"},ds.contextType=hs;var vs=function(){var e=(0,t.useContext(Es).getPrefixCls)("empty-img-default");return t.createElement("svg",{className:e,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},t.createElement("g",{fill:"none",fillRule:"evenodd"},t.createElement("g",{transform:"translate(24 31.67)"},t.createElement("ellipse",{className:"".concat(e,"-ellipse"),cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),t.createElement("path",{className:"".concat(e,"-path-1"),d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"}),t.createElement("path",{className:"".concat(e,"-path-2"),d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",transform:"translate(13.56)"}),t.createElement("path",{className:"".concat(e,"-path-3"),d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"}),t.createElement("path",{className:"".concat(e,"-path-4"),d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"})),t.createElement("path",{className:"".concat(e,"-path-5"),d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"}),t.createElement("g",{className:"".concat(e,"-g"),transform:"translate(149.65 15.383)"},t.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),t.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},ps=function(){var e=(0,t.useContext(Es).getPrefixCls)("empty-img-simple");return t.createElement("svg",{className:e,width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},t.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},t.createElement("ellipse",{className:"".concat(e,"-ellipse"),cx:"32",cy:"33",rx:"32",ry:"7"}),t.createElement("g",{className:"".concat(e,"-g"),fillRule:"nonzero"},t.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),t.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",className:"".concat(e,"-path")}))))},ys=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},ms=t.createElement(vs,null),gs=t.createElement(ps,null),bs=function(e){var n=e.className,r=e.prefixCls,i=e.image,a=void 0===i?ms:i,o=e.description,u=e.children,s=e.imageStyle,c=ys(e,["className","prefixCls","image","description","children","imageStyle"]),l=t.useContext(Es),f=l.getPrefixCls,h=l.direction;return t.createElement(ds,{componentName:"Empty"},(function(e){var i,l=f("empty",r),d="undefined"!==typeof o?o:e.description,v="string"===typeof d?d:"empty",p=null;return p="string"===typeof a?t.createElement("img",{alt:v,src:a}):a,t.createElement("div",(0,rs.Z)({className:as()(l,(i={},w(i,"".concat(l,"-normal"),a===gs),w(i,"".concat(l,"-rtl"),"rtl"===h),i),n)},c),t.createElement("div",{className:"".concat(l,"-image"),style:s},p),d&&t.createElement("div",{className:"".concat(l,"-description")},d),u&&t.createElement("div",{className:"".concat(l,"-footer")},u))}))};bs.PRESENTED_IMAGE_DEFAULT=ms,bs.PRESENTED_IMAGE_SIMPLE=gs;var ks=bs,ws=function(e){return t.createElement(xs,null,(function(n){var r=(0,n.getPrefixCls)("empty");switch(e){case"Table":case"List":return t.createElement(ks,{image:ks.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return t.createElement(ks,{image:ks.PRESENTED_IMAGE_SIMPLE,className:"".concat(r,"-small")});default:return t.createElement(ks,null)}}))},Es=t.createContext({getPrefixCls:function(e,t){return t||(e?"ant-".concat(e):"ant")},renderEmpty:ws}),xs=Es.Consumer;var Ss=(0,t.createContext)({}),_s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t},Cs=["xxl","xl","lg","md","sm","xs"],Ts={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},Is=new Map,Ns=-1,As={},Ps={matchHandlers:{},dispatch:function(e){return As=e,Is.forEach((function(e){return e(As)})),Is.size>=1},subscribe:function(e){return Is.size||this.register(),Ns+=1,Is.set(Ns,e),e(As),Ns},unsubscribe:function(e){Is.delete(e),Is.size||this.unregister()},unregister:function(){var e=this;Object.keys(Ts).forEach((function(t){var n=Ts[t],r=e.matchHandlers[n];null===r||void 0===r||r.mql.removeListener(null===r||void 0===r?void 0:r.listener)})),Is.clear()},register:function(){var e=this;Object.keys(Ts).forEach((function(t){var n=Ts[t],r=function(n){var r=n.matches;e.dispatch((0,rs.Z)((0,rs.Z)({},As),w({},t,r)))},i=window.matchMedia(n);i.addListener(r),e.matchHandlers[n]={mql:i,listener:r},r(i)}))}};function Rs(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}var Ds,Ms=function(){return Rs()&&window.document.documentElement},Os=function(){var e=v(t.useState(!1),2),n=e[0],r=e[1];return t.useEffect((function(){r(function(){if(!Ms())return!1;if(void 0!==Ds)return Ds;var e=document.createElement("div");return e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e),Ds=1===e.scrollHeight,document.body.removeChild(e),Ds}())}),[]),n},Ls=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Fs=(_s("top","middle","bottom","stretch"),_s("start","end","center","space-around","space-between","space-evenly"),t.forwardRef((function(e,n){var r,i=e.prefixCls,a=e.justify,o=e.align,u=e.className,s=e.style,c=e.children,l=e.gutter,f=void 0===l?0:l,h=e.wrap,d=Ls(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),p=t.useContext(Es),y=p.getPrefixCls,m=p.direction,g=v(t.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),2),b=g[0],k=g[1],E=Os(),x=t.useRef(f);t.useEffect((function(){var e=Ps.subscribe((function(e){var t=x.current||0;(!Array.isArray(t)&&"object"===C(t)||Array.isArray(t)&&("object"===C(t[0])||"object"===C(t[1])))&&k(e)}));return function(){return Ps.unsubscribe(e)}}),[]);var S=y("row",i),_=function(){var e=[0,0];return(Array.isArray(f)?f:[f,0]).forEach((function(t,n){if("object"===C(t))for(var r=0;r<Cs.length;r++){var i=Cs[r];if(b[i]&&void 0!==t[i]){e[n]=t[i];break}}else e[n]=t||0})),e}(),T=as()(S,(w(r={},"".concat(S,"-no-wrap"),!1===h),w(r,"".concat(S,"-").concat(a),a),w(r,"".concat(S,"-").concat(o),o),w(r,"".concat(S,"-rtl"),"rtl"===m),r),u),I={},N=_[0]>0?_[0]/-2:void 0,A=_[1]>0?_[1]/-2:void 0;if(N&&(I.marginLeft=N,I.marginRight=N),E){var P=v(_,2);I.rowGap=P[1]}else A&&(I.marginTop=A,I.marginBottom=A);var R=v(_,2),D=R[0],M=R[1],O=t.useMemo((function(){return{gutter:[D,M],wrap:h,supportFlexGap:E}}),[D,M,h,E]);return t.createElement(Ss.Provider,{value:O},t.createElement("div",(0,rs.Z)({},d,{className:T,style:(0,rs.Z)((0,rs.Z)({},I),s),ref:n}),c))})));Fs.displayName="Row";var Vs=Fs,Us=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var Bs=["xs","sm","md","lg","xl","xxl"],js=t.forwardRef((function(e,n){var r,i=t.useContext(Es),a=i.getPrefixCls,o=i.direction,u=t.useContext(Ss),s=u.gutter,c=u.wrap,l=u.supportFlexGap,f=e.prefixCls,h=e.span,d=e.order,v=e.offset,p=e.push,y=e.pull,m=e.className,g=e.children,b=e.flex,k=e.style,E=Us(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),x=a("col",f),S={};Bs.forEach((function(t){var n,r={},i=e[t];"number"===typeof i?r.span=i:"object"===C(i)&&(r=i||{}),delete E[t],S=(0,rs.Z)((0,rs.Z)({},S),(w(n={},"".concat(x,"-").concat(t,"-").concat(r.span),void 0!==r.span),w(n,"".concat(x,"-").concat(t,"-order-").concat(r.order),r.order||0===r.order),w(n,"".concat(x,"-").concat(t,"-offset-").concat(r.offset),r.offset||0===r.offset),w(n,"".concat(x,"-").concat(t,"-push-").concat(r.push),r.push||0===r.push),w(n,"".concat(x,"-").concat(t,"-pull-").concat(r.pull),r.pull||0===r.pull),w(n,"".concat(x,"-rtl"),"rtl"===o),n))}));var _=as()(x,(w(r={},"".concat(x,"-").concat(h),void 0!==h),w(r,"".concat(x,"-order-").concat(d),d),w(r,"".concat(x,"-offset-").concat(v),v),w(r,"".concat(x,"-push-").concat(p),p),w(r,"".concat(x,"-pull-").concat(y),y),r),m,S),T={};if(s&&s[0]>0){var I=s[0]/2;T.paddingLeft=I,T.paddingRight=I}if(s&&s[1]>0&&!l){var N=s[1]/2;T.paddingTop=N,T.paddingBottom=N}return b&&(T.flex=function(e){return"number"===typeof e?"".concat(e," ").concat(e," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?"0 0 ".concat(e):e}(b),!1!==c||T.minWidth||(T.minWidth=0)),t.createElement("div",(0,rs.Z)({},E,{style:(0,rs.Z)((0,rs.Z)({},T),k),className:_,ref:n}),g)}));js.displayName="Col";var qs=js;var zs={};function Ks(e,t){0}function Hs(e,t,n){t||zs[n]||(e(!1,n),zs[n]=!0)}var Ws=function(e,t){Hs(Ks,e,t)},Gs=function(e,t,n){Ws(e,"[antd: ".concat(t,"] ").concat(n))},Qs=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},$s=t.createContext(void 0),Ys=function(e){var n,r=t.useContext(Es),i=r.getPrefixCls,a=r.direction,o=e.prefixCls,u=e.size,s=e.className,c=Qs(e,["prefixCls","size","className"]),l=i("btn-group",o),f="";switch(u){case"large":f="lg";break;case"small":f="sm";break;case"middle":case void 0:break;default:Gs(!u,"Button.Group","Invalid prop `size`.")}var h=as()(l,(w(n={},"".concat(l,"-").concat(f),f),w(n,"".concat(l,"-rtl"),"rtl"===a),n),s);return t.createElement($s.Provider,{value:u},t.createElement("div",(0,rs.Z)({},c,{className:h})))},Zs="rc-util-key";function Xs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mark;return t?t.startsWith("data-")?t:"data-".concat(t):Zs}function Js(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function ec(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Rs())return null;var r,i=document.createElement("style");(null===(t=n.csp)||void 0===t?void 0:t.nonce)&&(i.nonce=null===(r=n.csp)||void 0===r?void 0:r.nonce);i.innerHTML=e;var a=Js(n),o=a.firstChild;return n.prepend&&a.prepend?a.prepend(i):n.prepend&&o?a.insertBefore(i,o):a.appendChild(i),i}var tc=new Map;function nc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Js(t);return Array.from(tc.get(n).children).find((function(n){return"STYLE"===n.tagName&&n.getAttribute(Xs(t))===e}))}function rc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Js(n);if(!tc.has(r)){var i=ec("",n),a=i.parentNode;tc.set(r,a),a.removeChild(i)}var o=nc(t,n);if(o){var u,s,c;if((null===(u=n.csp)||void 0===u?void 0:u.nonce)&&o.nonce!==(null===(s=n.csp)||void 0===s?void 0:s.nonce))o.nonce=null===(c=n.csp)||void 0===c?void 0:c.nonce;return o.innerHTML!==e&&(o.innerHTML=e),o}var l=ec(e,n);return l.setAttribute(Xs(n),t),l}var ic=n(441);function ac(e,t){"function"===typeof e?e(t):"object"===C(e)&&e&&"current"in e&&(e.current=t)}function oc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter((function(e){return e}));return r.length<=1?r[0]:function(e){t.forEach((function(t){ac(t,e)}))}}function uc(e){var t,n,r=(0,ic.isMemo)(e)?e.type.type:e.type;return!("function"===typeof r&&!(null===(t=r.prototype)||void 0===t?void 0:t.render))&&!("function"===typeof e&&!(null===(n=e.prototype)||void 0===n?void 0:n.render))}var sc=function(e){return+setTimeout(e,16)},cc=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(sc=function(e){return window.requestAnimationFrame(e)},cc=function(e){return window.cancelAnimationFrame(e)});var lc=0,fc=new Map;function hc(e){fc.delete(e)}function dc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=lc+=1;function r(t){if(0===t)hc(n),e();else{var i=sc((function(){r(t-1)}));fc.set(n,i)}}return r(t),n}dc.cancel=function(e){var t=fc.get(e);return hc(t),cc(t)};var vc=0,pc={};function yc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=vc++,r=t;function i(){(r-=1)<=0?(e(),delete pc[n]):pc[n]=dc(i)}return pc[n]=dc(i),n}yc.cancel=function(e){void 0!==e&&(dc.cancel(pc[e]),delete pc[e])},yc.ids=pc;var mc,gc=t.isValidElement;function bc(e,n){return function(e,n,r){return gc(e)?t.cloneElement(e,"function"===typeof r?r(e.props||{}):r):n}(e,e,n)}function kc(e){return!e||null===e.offsetParent||e.hidden}function wc(e){var t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return!(t&&t[1]&&t[2]&&t[3])||!(t[1]===t[2]&&t[2]===t[3])}var Ec=function(e){_(r,e);var n=I(r);function r(){var e;return N(this,r),(e=n.apply(this,arguments)).containerRef=t.createRef(),e.animationStart=!1,e.destroyed=!1,e.onClick=function(t,n){var r,i,a=e.props,o=a.insertExtraNode;if(!(a.disabled||!t||kc(t)||t.className.indexOf("-leave")>=0)){e.extraNode=document.createElement("div");var u=S(e).extraNode,s=e.context.getPrefixCls;u.className="".concat(s(""),"-click-animating-node");var c=e.getAttributeName();if(t.setAttribute(c,"true"),n&&"#ffffff"!==n&&"rgb(255, 255, 255)"!==n&&wc(n)&&!/rgba\((?:\d*, ){3}0\)/.test(n)&&"transparent"!==n){u.style.borderColor=n;var l=(null===(r=t.getRootNode)||void 0===r?void 0:r.call(t))||t.ownerDocument,f=l instanceof Document?l.body:null!==(i=l.firstChild)&&void 0!==i?i:l;mc=rc("\n      [".concat(s(""),"-click-animating-without-extra-node='true']::after, .").concat(s(""),"-click-animating-node {\n        --antd-wave-shadow-color: ").concat(n,";\n      }"),"antd-wave",{csp:e.csp,attachTo:f})}o&&t.appendChild(u),["transition","animation"].forEach((function(n){t.addEventListener("".concat(n,"start"),e.onTransitionStart),t.addEventListener("".concat(n,"end"),e.onTransitionEnd)}))}},e.onTransitionStart=function(t){if(!e.destroyed){var n=e.containerRef.current;t&&t.target===n&&!e.animationStart&&e.resetEffect(n)}},e.onTransitionEnd=function(t){t&&"fadeEffect"===t.animationName&&e.resetEffect(t.target)},e.bindAnimationEvent=function(t){if(t&&t.getAttribute&&!t.getAttribute("disabled")&&!(t.className.indexOf("disabled")>=0)){var n=function(n){if("INPUT"!==n.target.tagName&&!kc(n.target)){e.resetEffect(t);var r=getComputedStyle(t).getPropertyValue("border-top-color")||getComputedStyle(t).getPropertyValue("border-color")||getComputedStyle(t).getPropertyValue("background-color");e.clickWaveTimeoutId=window.setTimeout((function(){return e.onClick(t,r)}),0),yc.cancel(e.animationStartId),e.animationStart=!0,e.animationStartId=yc((function(){e.animationStart=!1}),10)}};return t.addEventListener("click",n,!0),{cancel:function(){t.removeEventListener("click",n,!0)}}}},e.renderWave=function(n){var r=n.csp,i=e.props.children;if(e.csp=r,!t.isValidElement(i))return i;var a=e.containerRef;return uc(i)&&(a=oc(i.ref,e.containerRef)),bc(i,{ref:a})},e}return P(r,[{key:"componentDidMount",value:function(){var e=this.containerRef.current;e&&1===e.nodeType&&(this.instance=this.bindAnimationEvent(e))}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.cancel(),this.clickWaveTimeoutId&&clearTimeout(this.clickWaveTimeoutId),this.destroyed=!0}},{key:"getAttributeName",value:function(){var e=this.context.getPrefixCls,t=this.props.insertExtraNode;return"".concat(e(""),t?"-click-animating":"-click-animating-without-extra-node")}},{key:"resetEffect",value:function(e){var t=this;if(e&&e!==this.extraNode&&e instanceof Element){var n=this.props.insertExtraNode,r=this.getAttributeName();e.setAttribute(r,"false"),mc&&(mc.innerHTML=""),n&&this.extraNode&&e.contains(this.extraNode)&&e.removeChild(this.extraNode),["transition","animation"].forEach((function(n){e.removeEventListener("".concat(n,"start"),t.onTransitionStart),e.removeEventListener("".concat(n,"end"),t.onTransitionEnd)}))}}},{key:"render",value:function(){return t.createElement(xs,null,this.renderWave)}}]),r}(t.Component);Ec.contextType=Es;var xc=t.createContext(void 0),Sc=function(e){var n=e.children,r=e.size;return t.createElement(xc.Consumer,null,(function(e){return t.createElement(xc.Provider,{value:r||e},n)}))},_c=xc;function Cc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var Tc=function(e,t){var n={animationend:Cc("Animation","AnimationEnd"),transitionend:Cc("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}(Rs(),"undefined"!==typeof window?window:{}),Ic={};if(Rs()){var Nc=document.createElement("div");Ic=Nc.style}var Ac={};function Pc(e){if(Ac[e])return Ac[e];var t=Tc[e];if(t)for(var n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var a=n[i];if(Object.prototype.hasOwnProperty.call(t,a)&&a in Ic)return Ac[e]=t[a],Ac[e]}return""}var Rc=Pc("animationend"),Dc=Pc("transitionend"),Mc=!(!Rc||!Dc),Oc=Rc||"animationend",Lc=Dc||"transitionend";function Fc(e,t){if(!e)return null;if("object"===C(e)){var n=t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}));return e[n]}return"".concat(e,"-").concat(t)}var Vc="none",Uc="appear",Bc="enter",jc="leave",qc="none",zc="prepare",Kc="start",Hc="active",Wc="end";function Gc(e){var n=t.useRef(!1),r=v(t.useState(e),2),i=r[0],a=r[1];return t.useEffect((function(){return n.current=!1,function(){n.current=!0}}),[]),[i,function(e,t){t&&n.current||a(e)}]}var Qc=Rs()?t.useLayoutEffect:t.useEffect,$c=[zc,Kc,Hc,Wc];function Yc(e){return e===Hc||e===Wc}var Zc=function(e,n){var r=v(Gc(qc),2),i=r[0],a=r[1],o=function(){var e=t.useRef(null);function n(){dc.cancel(e.current)}return t.useEffect((function(){return function(){n()}}),[]),[function t(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;n();var a=dc((function(){i<=1?r({isCanceled:function(){return a!==e.current}}):t(r,i-1)}));e.current=a},n]}(),u=v(o,2),s=u[0],c=u[1];return Qc((function(){if(i!==qc&&i!==Wc){var e=$c.indexOf(i),t=$c[e+1],r=n(i);false===r?a(t,!0):s((function(e){function n(){e.isCanceled()||a(t,!0)}!0===r?n():Promise.resolve(r).then(n)}))}}),[e,i]),t.useEffect((function(){return function(){c()}}),[]),[function(){a(zc,!0)},i]};function Xc(e,n,r,i){var a=i.motionEnter,o=void 0===a||a,u=i.motionAppear,s=void 0===u||u,c=i.motionLeave,l=void 0===c||c,f=i.motionDeadline,h=i.motionLeaveImmediately,d=i.onAppearPrepare,p=i.onEnterPrepare,y=i.onLeavePrepare,m=i.onAppearStart,g=i.onEnterStart,b=i.onLeaveStart,k=i.onAppearActive,E=i.onEnterActive,S=i.onLeaveActive,_=i.onAppearEnd,C=i.onEnterEnd,T=i.onLeaveEnd,I=i.onVisibleChanged,N=v(Gc(),2),A=N[0],P=N[1],R=v(Gc(Vc),2),D=R[0],M=R[1],O=v(Gc(null),2),L=O[0],F=O[1],V=(0,t.useRef)(!1),U=(0,t.useRef)(null);function B(){return r()}var j=(0,t.useRef)(!1);function q(e){var t=B();if(!e||e.deadline||e.target===t){var n,r=j.current;D===Uc&&r?n=null===_||void 0===_?void 0:_(t,e):D===Bc&&r?n=null===C||void 0===C?void 0:C(t,e):D===jc&&r&&(n=null===T||void 0===T?void 0:T(t,e)),D!==Vc&&r&&!1!==n&&(M(Vc,!0),F(null,!0))}}var z=function(e){var n=(0,t.useRef)(),r=(0,t.useRef)(e);r.current=e;var i=t.useCallback((function(e){r.current(e)}),[]);function a(e){e&&(e.removeEventListener(Lc,i),e.removeEventListener(Oc,i))}return t.useEffect((function(){return function(){a(n.current)}}),[]),[function(e){n.current&&n.current!==e&&a(n.current),e&&e!==n.current&&(e.addEventListener(Lc,i),e.addEventListener(Oc,i),n.current=e)},a]}(q),K=v(z,1)[0],H=t.useMemo((function(){var e,t,n;switch(D){case Uc:return w(e={},zc,d),w(e,Kc,m),w(e,Hc,k),e;case Bc:return w(t={},zc,p),w(t,Kc,g),w(t,Hc,E),t;case jc:return w(n={},zc,y),w(n,Kc,b),w(n,Hc,S),n;default:return{}}}),[D]),W=v(Zc(D,(function(e){if(e===zc){var t=H.prepare;return!!t&&t(B())}var n;Q in H&&F((null===(n=H[Q])||void 0===n?void 0:n.call(H,B(),null))||null);return Q===Hc&&(K(B()),f>0&&(clearTimeout(U.current),U.current=setTimeout((function(){q({deadline:!0})}),f))),true})),2),G=W[0],Q=W[1],$=Yc(Q);j.current=$,Qc((function(){P(n);var t,r=V.current;(V.current=!0,e)&&(!r&&n&&s&&(t=Uc),r&&n&&o&&(t=Bc),(r&&!n&&l||!r&&h&&!n&&l)&&(t=jc),t&&(M(t),G()))}),[n]),(0,t.useEffect)((function(){(D===Uc&&!s||D===Bc&&!o||D===jc&&!l)&&M(Vc)}),[s,o,l]),(0,t.useEffect)((function(){return function(){V.current=!1,clearTimeout(U.current)}}),[]),(0,t.useEffect)((function(){void 0!==A&&D===Vc&&(null===I||void 0===I||I(A))}),[A,D]);var Y=L;return H.prepare&&Q===Kc&&(Y=x({transition:"none"},Y)),[D,Q,Y,null!==A&&void 0!==A?A:n]}var Jc=function(e){_(n,e);var t=I(n);function n(){return N(this,n),t.apply(this,arguments)}return P(n,[{key:"render",value:function(){return this.props.children}}]),n}(t.Component),el=Jc;var tl=function(e){var n=e;function r(e){return!(!e.motionName||!n)}"object"===C(e)&&(n=e.transitionSupport);var i=t.forwardRef((function(e,n){var i=e.visible,a=void 0===i||i,o=e.removeOnLeave,u=void 0===o||o,s=e.forceRender,c=e.children,l=e.motionName,f=e.leavedClassName,h=e.eventProps,d=r(e),p=(0,t.useRef)(),y=(0,t.useRef)();var m=v(Xc(d,a,(function(){try{return p.current instanceof HTMLElement?p.current:(e=y.current)instanceof HTMLElement?e:M.findDOMNode(e)}catch(t){return null}var e}),e),4),g=m[0],b=m[1],k=m[2],E=m[3],S=t.useRef(E);E&&(S.current=!0);var _,C=t.useCallback((function(e){p.current=e,ac(n,e)}),[n]),T=x(x({},h),{},{visible:a});if(c)if(g!==Vc&&r(e)){var I,N;b===zc?N="prepare":Yc(b)?N="active":b===Kc&&(N="start"),_=c(x(x({},T),{},{className:as()(Fc(l,g),(I={},w(I,Fc(l,"".concat(g,"-").concat(N)),N),w(I,l,"string"===typeof l),I)),style:k}),C)}else _=E?c(x({},T),C):!u&&S.current?c(x(x({},T),{},{className:f}),C):s?c(x(x({},T),{},{style:{display:"none"}}),C):null;else _=null;t.isValidElement(_)&&uc(_)&&(_.ref||(_=t.cloneElement(_,{ref:C})));return t.createElement(el,{ref:y},_)}));return i.displayName="CSSMotion",i}(Mc),nl="add",rl="keep",il="remove",al="removed";function ol(e){var t;return x(x({},t=e&&"object"===C(e)&&"key"in e?e:{key:e}),{},{key:String(t.key)})}function ul(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(ol)}function sl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,i=t.length,a=ul(e),o=ul(t);a.forEach((function(e){for(var t=!1,a=r;a<i;a+=1){var u=o[a];if(u.key===e.key){r<a&&(n=n.concat(o.slice(r,a).map((function(e){return x(x({},e),{},{status:nl})}))),r=a),n.push(x(x({},u),{},{status:rl})),r+=1,t=!0;break}}t||n.push(x(x({},e),{},{status:il}))})),r<i&&(n=n.concat(o.slice(r).map((function(e){return x(x({},e),{},{status:nl})}))));var u={};n.forEach((function(e){var t=e.key;u[t]=(u[t]||0)+1}));var s=Object.keys(u).filter((function(e){return u[e]>1}));return s.forEach((function(e){n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==il})),n.forEach((function(t){t.key===e&&(t.status=rl)}))})),n}var cl=["component","children","onVisibleChanged","onAllRemoved"],ll=["status"],fl=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];var hl=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tl,r=function(e){_(i,e);var r=I(i);function i(){var e;N(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return(e=r.call.apply(r,[this].concat(n))).state={keyEntities:[]},e.removeKey=function(t){var n=e.state.keyEntities.map((function(e){return e.key!==t?e:x(x({},e),{},{status:al})}));return e.setState({keyEntities:n}),n.filter((function(e){return e.status!==al})).length},e}return P(i,[{key:"render",value:function(){var e=this,r=this.state.keyEntities,i=this.props,a=i.component,o=i.children,u=i.onVisibleChanged,s=i.onAllRemoved,l=c(i,cl),f=a||t.Fragment,h={};return fl.forEach((function(e){h[e]=l[e],delete l[e]})),delete l.keys,t.createElement(f,l,r.map((function(r){var i=r.status,a=c(r,ll),l=i===nl||i===rl;return t.createElement(n,(0,rs.Z)({},h,{key:a.key,visible:l,eventProps:a,onVisibleChanged:function(t){(null===u||void 0===u||u(t,{key:a.key}),t)||0===e.removeKey(a.key)&&s&&s()}}),o)})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,i=ul(n);return{keyEntities:sl(r,i).filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==al||e.status!==il}))}}}]),i}(t.Component);return r.defaultProps={component:"div"},r}(Mc),dl=tl,vl={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},pl=(0,t.createContext)({});function yl(e,t){(function(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function ml(e){return Math.min(1,Math.max(0,e))}function gl(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function bl(e){return e<=1?"".concat(100*Number(e),"%"):e}function kl(e){return 1===e.length?"0"+e:String(e)}function wl(e,t,n){e=yl(e,255),t=yl(t,255),n=yl(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),a=0,o=0,u=(r+i)/2;if(r===i)o=0,a=0;else{var s=r-i;switch(o=u>.5?s/(2-r-i):s/(r+i),r){case e:a=(t-n)/s+(t<n?6:0);break;case t:a=(n-e)/s+2;break;case n:a=(e-t)/s+4}a/=6}return{h:a,s:o,l:u}}function El(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function xl(e,t,n){e=yl(e,255),t=yl(t,255),n=yl(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),a=0,o=r,u=r-i,s=0===r?0:u/r;if(r===i)a=0;else{switch(r){case e:a=(t-n)/u+(t<n?6:0);break;case t:a=(n-e)/u+2;break;case n:a=(e-t)/u+4}a/=6}return{h:a,s:s,v:o}}function Sl(e,t,n,r){var i=[kl(Math.round(e).toString(16)),kl(Math.round(t).toString(16)),kl(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function _l(e){return Math.round(255*parseFloat(e)).toString(16)}function Cl(e){return Tl(e)/255}function Tl(e){return parseInt(e,16)}var Il={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Nl(e){var t,n,r,i={r:0,g:0,b:0},a=1,o=null,u=null,s=null,c=!1,l=!1;return"string"===typeof e&&(e=function(e){if(0===(e=e.trim().toLowerCase()).length)return!1;var t=!1;if(Il[e])e=Il[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=Dl.rgb.exec(e);if(n)return{r:n[1],g:n[2],b:n[3]};if(n=Dl.rgba.exec(e))return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=Dl.hsl.exec(e))return{h:n[1],s:n[2],l:n[3]};if(n=Dl.hsla.exec(e))return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=Dl.hsv.exec(e))return{h:n[1],s:n[2],v:n[3]};if(n=Dl.hsva.exec(e))return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=Dl.hex8.exec(e))return{r:Tl(n[1]),g:Tl(n[2]),b:Tl(n[3]),a:Cl(n[4]),format:t?"name":"hex8"};if(n=Dl.hex6.exec(e))return{r:Tl(n[1]),g:Tl(n[2]),b:Tl(n[3]),format:t?"name":"hex"};if(n=Dl.hex4.exec(e))return{r:Tl(n[1]+n[1]),g:Tl(n[2]+n[2]),b:Tl(n[3]+n[3]),a:Cl(n[4]+n[4]),format:t?"name":"hex8"};if(n=Dl.hex3.exec(e))return{r:Tl(n[1]+n[1]),g:Tl(n[2]+n[2]),b:Tl(n[3]+n[3]),format:t?"name":"hex"};return!1}(e)),"object"===typeof e&&(Ml(e.r)&&Ml(e.g)&&Ml(e.b)?(t=e.r,n=e.g,r=e.b,i={r:255*yl(t,255),g:255*yl(n,255),b:255*yl(r,255)},c=!0,l="%"===String(e.r).substr(-1)?"prgb":"rgb"):Ml(e.h)&&Ml(e.s)&&Ml(e.v)?(o=bl(e.s),u=bl(e.v),i=function(e,t,n){e=6*yl(e,360),t=yl(t,100),n=yl(n,100);var r=Math.floor(e),i=e-r,a=n*(1-t),o=n*(1-i*t),u=n*(1-(1-i)*t),s=r%6;return{r:255*[n,o,a,a,u,n][s],g:255*[u,n,n,o,a,a][s],b:255*[a,a,u,n,n,o][s]}}(e.h,o,u),c=!0,l="hsv"):Ml(e.h)&&Ml(e.s)&&Ml(e.l)&&(o=bl(e.s),s=bl(e.l),i=function(e,t,n){var r,i,a;if(e=yl(e,360),t=yl(t,100),n=yl(n,100),0===t)i=n,a=n,r=n;else{var o=n<.5?n*(1+t):n+t-n*t,u=2*n-o;r=El(u,o,e+1/3),i=El(u,o,e),a=El(u,o,e-1/3)}return{r:255*r,g:255*i,b:255*a}}(e.h,o,s),c=!0,l="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(a=e.a)),a=gl(a),{ok:c,format:e.format||l,r:Math.min(255,Math.max(i.r,0)),g:Math.min(255,Math.max(i.g,0)),b:Math.min(255,Math.max(i.b,0)),a:a}}var Al="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),Pl="[\\s|\\(]+(".concat(Al,")[,|\\s]+(").concat(Al,")[,|\\s]+(").concat(Al,")\\s*\\)?"),Rl="[\\s|\\(]+(".concat(Al,")[,|\\s]+(").concat(Al,")[,|\\s]+(").concat(Al,")[,|\\s]+(").concat(Al,")\\s*\\)?"),Dl={CSS_UNIT:new RegExp(Al),rgb:new RegExp("rgb"+Pl),rgba:new RegExp("rgba"+Rl),hsl:new RegExp("hsl"+Pl),hsla:new RegExp("hsla"+Rl),hsv:new RegExp("hsv"+Pl),hsva:new RegExp("hsva"+Rl),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Ml(e){return Boolean(Dl.CSS_UNIT.exec(String(e)))}var Ol=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Ll(e){var t=xl(e.r,e.g,e.b);return{h:360*t.h,s:t.s,v:t.v}}function Fl(e){var t=e.r,n=e.g,r=e.b;return"#".concat(Sl(t,n,r,!1))}function Vl(e,t,n){var r=n/100;return{r:(t.r-e.r)*r+e.r,g:(t.g-e.g)*r+e.g,b:(t.b-e.b)*r+e.b}}function Ul(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?r+=360:r>=360&&(r-=360),r}function Bl(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(r=1),n&&5===t&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function jl(e,t,n){var r;return(r=n?e.v+.05*t:e.v-.15*t)>1&&(r=1),Number(r.toFixed(2))}function ql(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=Nl(e),i=5;i>0;i-=1){var a=Ll(r),o=Fl(Nl({h:Ul(a,i,!0),s:Bl(a,i,!0),v:jl(a,i,!0)}));n.push(o)}n.push(Fl(r));for(var u=1;u<=4;u+=1){var s=Ll(r),c=Fl(Nl({h:Ul(s,u),s:Bl(s,u),v:jl(s,u)}));n.push(c)}return"dark"===t.theme?Ol.map((function(e){var r=e.index,i=e.opacity;return Fl(Vl(Nl(t.backgroundColor||"#141414"),Nl(n[r]),100*i))})):n}var zl={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Kl={},Hl={};Object.keys(zl).forEach((function(e){Kl[e]=ql(zl[e]),Kl[e].primary=Kl[e][5],Hl[e]=ql(zl[e],{theme:"dark",backgroundColor:"#141414"}),Hl[e].primary=Hl[e][5]}));Kl.red,Kl.volcano,Kl.gold,Kl.orange,Kl.yellow,Kl.lime,Kl.green,Kl.cyan,Kl.blue,Kl.geekblue,Kl.purple,Kl.magenta,Kl.grey;function Wl(e){return"object"===C(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===C(e.icon)||"function"===typeof e.icon)}function Gl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var r=e[n];if("class"===n)t.className=r,delete t.class;else t[n]=r;return t}),{})}function Ql(e,n,r){return r?t.createElement(e.tag,x(x({key:n},Gl(e.attrs)),r),(e.children||[]).map((function(t,r){return Ql(t,"".concat(n,"-").concat(e.tag,"-").concat(r))}))):t.createElement(e.tag,x({key:n},Gl(e.attrs)),(e.children||[]).map((function(t,r){return Ql(t,"".concat(n,"-").concat(e.tag,"-").concat(r))})))}function $l(e){return ql(e)[0]}function Yl(e){return e?Array.isArray(e)?e:[e]:[]}var Zl="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",Xl=["icon","className","onClick","style","primaryColor","secondaryColor"],Jl={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var ef=function(e){var n=e.icon,r=e.className,i=e.onClick,a=e.style,o=e.primaryColor,u=e.secondaryColor,s=c(e,Xl),l=Jl;if(o&&(l={primaryColor:o,secondaryColor:u||$l(o)}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zl,n=(0,t.useContext)(pl).csp;(0,t.useEffect)((function(){rc(e,"@ant-design-icons",{prepend:!0,csp:n})}),[])}(),function(e,t){Ws(e,"[@ant-design/icons] ".concat(t))}(Wl(n),"icon should be icon definiton, but got ".concat(n)),!Wl(n))return null;var f=n;return f&&"function"===typeof f.icon&&(f=x(x({},f),{},{icon:f.icon(l.primaryColor,l.secondaryColor)})),Ql(f.icon,"svg-".concat(f.name),x({className:r,onClick:i,style:a,"data-icon":f.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},s))};ef.displayName="IconReact",ef.getTwoToneColors=function(){return x({},Jl)},ef.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;Jl.primaryColor=t,Jl.secondaryColor=n||$l(t),Jl.calculated=!!n};var tf=ef;function nf(e){var t=v(Yl(e),2),n=t[0],r=t[1];return tf.setTwoToneColors({primaryColor:n,secondaryColor:r})}var rf=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];nf("#1890ff");var af=t.forwardRef((function(e,n){var r,i=e.className,a=e.icon,o=e.spin,u=e.rotate,s=e.tabIndex,l=e.onClick,f=e.twoToneColor,h=c(e,rf),d=t.useContext(pl).prefixCls,p=void 0===d?"anticon":d,y=as()(p,(w(r={},"".concat(p,"-").concat(a.name),!!a.name),w(r,"".concat(p,"-spin"),!!o||"loading"===a.name),r),i),m=s;void 0===m&&l&&(m=-1);var g=u?{msTransform:"rotate(".concat(u,"deg)"),transform:"rotate(".concat(u,"deg)")}:void 0,b=v(Yl(f),2),k=b[0],E=b[1];return t.createElement("span",x(x({role:"img","aria-label":a.name},h),{},{ref:n,tabIndex:m,onClick:l,className:y}),t.createElement(tf,{icon:a,primaryColor:k,secondaryColor:E,style:g}))}));af.displayName="AntdIcon",af.getTwoToneColor=function(){var e=tf.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},af.setTwoToneColor=nf;var of=af,uf=function(e,n){return t.createElement(of,x(x({},e),{},{ref:n,icon:vl}))};uf.displayName="LoadingOutlined";var sf=t.forwardRef(uf),cf=function(){return{width:0,opacity:0,transform:"scale(0)"}},lf=function(e){return{width:e.scrollWidth,opacity:1,transform:"scale(1)"}},ff=function(e){var n=e.prefixCls,r=!!e.loading;return e.existIcon?t.createElement("span",{className:"".concat(n,"-loading-icon")},t.createElement(sf,null)):t.createElement(dl,{visible:r,motionName:"".concat(n,"-loading-icon-motion"),removeOnLeave:!0,onAppearStart:cf,onAppearActive:lf,onEnterStart:cf,onEnterActive:lf,onLeaveStart:lf,onLeaveActive:cf},(function(e,r){var i=e.className,a=e.style;return t.createElement("span",{className:"".concat(n,"-loading-icon"),style:a,ref:r},t.createElement(sf,{className:i}))}))},hf=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},df=/^[\u4e00-\u9fa5]{2}$/,vf=df.test.bind(df);function pf(e){return"text"===e||"link"===e}function yf(e,n){if(null!=e){var r,i=n?" ":"";return"string"!==typeof e&&"number"!==typeof e&&"string"===typeof e.type&&vf(e.props.children)?bc(e,{children:e.props.children.split("").join(i)}):"string"===typeof e?vf(e)?t.createElement("span",null,e.split("").join(i)):t.createElement("span",null,e):(r=e,t.isValidElement(r)&&r.type===t.Fragment?t.createElement("span",null,e):e)}}_s("default","primary","ghost","dashed","link","text"),_s("default","circle","round"),_s("submit","button","reset");function mf(e){return"danger"===e?{danger:!0}:{type:e}}var gf=function(e,n){var r,i=e.loading,a=void 0!==i&&i,o=e.prefixCls,u=e.type,s=void 0===u?"default":u,c=e.danger,l=e.shape,f=void 0===l?"default":l,h=e.size,d=e.className,p=e.children,y=e.icon,m=e.ghost,g=void 0!==m&&m,b=e.block,k=void 0!==b&&b,E=e.htmlType,S=void 0===E?"button":E,_=hf(e,["loading","prefixCls","type","danger","shape","size","className","children","icon","ghost","block","htmlType"]),T=t.useContext(_c),I=t.useContext($s),N=v(t.useState(!!a),2),A=N[0],P=N[1],R=v(t.useState(!1),2),D=R[0],M=R[1],O=t.useContext(Es),L=O.getPrefixCls,F=O.autoInsertSpaceInButton,V=O.direction,U=n||t.createRef(),B=function(){return 1===t.Children.count(p)&&!y&&!pf(s)},j="object"===C(a)&&a.delay?a.delay||!0:!!a;t.useEffect((function(){var e=null;return"number"===typeof j?e=window.setTimeout((function(){e=null,P(j)}),j):P(j),function(){e&&(window.clearTimeout(e),e=null)}}),[j]),t.useEffect((function(){if(U&&U.current&&!1!==F){var e=U.current.textContent;B()&&vf(e)?D||M(!0):D&&M(!1)}}),[U]);var q=function(t){var n=e.onClick,r=e.disabled;A||r?t.preventDefault():null===n||void 0===n||n(t)};Gs(!("string"===typeof y&&y.length>2),"Button","`icon` is using ReactNode instead of string naming in v4. Please check `".concat(y,"` at https://ant.design/components/icon")),Gs(!(g&&pf(s)),"Button","`link` or `text` button can't be a `ghost` button.");var z=L("btn",o),K=!1!==F,H=I||h||T,W=H&&{large:"lg",small:"sm",middle:void 0}[H]||"",G=A?"loading":y,Q=as()(z,(w(r={},"".concat(z,"-").concat(f),"default"!==f&&f),w(r,"".concat(z,"-").concat(s),s),w(r,"".concat(z,"-").concat(W),W),w(r,"".concat(z,"-icon-only"),!p&&0!==p&&!!G),w(r,"".concat(z,"-background-ghost"),g&&!pf(s)),w(r,"".concat(z,"-loading"),A),w(r,"".concat(z,"-two-chinese-chars"),D&&K),w(r,"".concat(z,"-block"),k),w(r,"".concat(z,"-dangerous"),!!c),w(r,"".concat(z,"-rtl"),"rtl"===V),r),d),$=y&&!A?y:t.createElement(ff,{existIcon:!!y,prefixCls:z,loading:!!A}),Y=p||0===p?function(e,n){var r=!1,i=[];return t.Children.forEach(e,(function(e){var t=C(e),n="string"===t||"number"===t;if(r&&n){var a=i.length-1,o=i[a];i[a]="".concat(o).concat(e)}else i.push(e);r=n})),t.Children.map(i,(function(e){return yf(e,n)}))}(p,B()&&K):null,Z=function(e,t){var n=x({},e);return Array.isArray(t)&&t.forEach((function(e){delete n[e]})),n}(_,["navigate"]);if(void 0!==Z.href)return t.createElement("a",(0,rs.Z)({},Z,{className:Q,onClick:q,ref:U}),$,Y);var X=t.createElement("button",(0,rs.Z)({},_,{type:S,className:Q,onClick:q,ref:U}),$,Y);return pf(s)?X:t.createElement(Ec,{disabled:!!A},X)},bf=t.forwardRef(gf);bf.displayName="Button",bf.Group=Ys,bf.__ANT_BUTTON=!0;var kf=bf,wf=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ef={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(wf(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},xf=function(e){return function(e){var t=wf(e);return Ef.encodeByteArray(t,!0)}(e).replace(/\./g,"")};function Sf(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&_f(n)&&(e[n]=Sf(e[n],t[n]));return e}function _f(e){return"__proto__"!==e}var Cf=function(){function e(){var t=this;N(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return P(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Tf(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[xf(JSON.stringify({alg:"none",type:"JWT"})),xf(JSON.stringify(a)),""].join(".")}function If(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Nf(){return!function(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Af(){return"object"===typeof indexedDB}var Pf=function(e){_(n,e);var t=I(n);function n(e,r,i){var a;return N(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(S(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(S(a),Rf.prototype.create),a}return P(n)}(b(Error)),Rf=function(){function e(t,n,r){N(this,e),this.service=t,this.serviceName=n,this.errors=r}return P(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Df(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Pf(n,a,t);return o}}]),e}();function Df(e,t){return e.replace(Mf,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Mf=/\{\$([^}]+)}/g;function Of(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Lf(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Ff(u)&&Ff(s)){if(!Lf(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Ff(e){return null!==e&&"object"===typeof e}function Vf(e,t){var n=new Uf(e,t);return n.subscribe.bind(n)}var Uf=function(){function e(t,n){var r=this;N(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return P(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=k(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Bf),void 0===r.error&&(r.error=Bf),void 0===r.complete&&(r.complete=Bf);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Bf(){}function jf(e){return e&&e._delegate?e._delegate:e}function qf(e,t){return new Promise((function(n,r){e.onsuccess=function(e){n(e.target.result)},e.onerror=function(e){var n;r("".concat(t,": ").concat(null===(n=e.target.error)||void 0===n?void 0:n.message))}}))}var zf=function(){function e(t){N(this,e),this._db=t,this.objectStoreNames=this._db.objectStoreNames}return P(e,[{key:"transaction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"readonly";return new Kf(this._db.transaction.call(this._db,e,t))}},{key:"createObjectStore",value:function(e,t){return new Hf(this._db.createObjectStore(e,t))}},{key:"close",value:function(){this._db.close()}}]),e}(),Kf=function(){function e(t){var n=this;N(this,e),this._transaction=t,this.complete=new Promise((function(e,t){n._transaction.oncomplete=function(){e()},n._transaction.onerror=function(){t(n._transaction.error)},n._transaction.onabort=function(){t(n._transaction.error)}}))}return P(e,[{key:"objectStore",value:function(e){return new Hf(this._transaction.objectStore(e))}}]),e}(),Hf=function(){function e(t){N(this,e),this._store=t}return P(e,[{key:"index",value:function(e){return new Wf(this._store.index(e))}},{key:"createIndex",value:function(e,t,n){return new Wf(this._store.createIndex(e,t,n))}},{key:"get",value:function(e){return qf(this._store.get(e),"Error reading from IndexedDB")}},{key:"put",value:function(e,t){return qf(this._store.put(e,t),"Error writing to IndexedDB")}},{key:"delete",value:function(e){return qf(this._store.delete(e),"Error deleting from IndexedDB")}},{key:"clear",value:function(){return qf(this._store.clear(),"Error clearing IndexedDB object store")}}]),e}(),Wf=function(){function e(t){N(this,e),this._index=t}return P(e,[{key:"get",value:function(e){return qf(this._index.get(e),"Error reading from IndexedDB")}}]),e}();var Gf=function(){function e(t,n,r){N(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return P(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Qf="[DEFAULT]",$f=function(){function e(t,n){N(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return P(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Cf;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Qf})}catch(s){}var t,n=k(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=v(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qf;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=f(R.mark((function e(){var t;return R.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(s(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),s(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qf;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qf;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=k(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=v(i.value,2),s=u[0],c=u[1],l=this.normalizeInstanceIdentifier(s);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=k(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(mC){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Qf?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(mC){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qf;return this.component?this.component.multipleInstances?e:Qf:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Yf,Zf,Xf=function(){function e(t){N(this,e),this.name=t,this.providers=new Map}return P(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new $f(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Jf=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Zf||(Zf={}));var eh,th,nh={debug:Zf.DEBUG,verbose:Zf.VERBOSE,info:Zf.INFO,warn:Zf.WARN,error:Zf.ERROR,silent:Zf.SILENT},rh=Zf.INFO,ih=(w(Yf={},Zf.DEBUG,"log"),w(Yf,Zf.VERBOSE,"log"),w(Yf,Zf.INFO,"info"),w(Yf,Zf.WARN,"warn"),w(Yf,Zf.ERROR,"error"),Yf),ah=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=ih[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},oh=function(){function e(t){N(this,e),this.name=t,this._logLevel=rh,this._logHandler=ah,this._userLogHandler=null,Jf.push(this)}return P(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Zf))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?nh[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Zf.DEBUG].concat(t)),this._logHandler.apply(this,[this,Zf.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Zf.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Zf.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Zf.INFO].concat(t)),this._logHandler.apply(this,[this,Zf.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Zf.WARN].concat(t)),this._logHandler.apply(this,[this,Zf.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Zf.ERROR].concat(t)),this._logHandler.apply(this,[this,Zf.ERROR].concat(t))}}]),e}();var uh=function(){function e(t){N(this,e),this.container=t}return P(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var sh="@firebase/app",ch="0.7.22",lh=new oh("@firebase/app"),fh="[DEFAULT]",hh=(w(eh={},sh,"fire-core"),w(eh,"@firebase/app-compat","fire-core-compat"),w(eh,"@firebase/analytics","fire-analytics"),w(eh,"@firebase/analytics-compat","fire-analytics-compat"),w(eh,"@firebase/app-check","fire-app-check"),w(eh,"@firebase/app-check-compat","fire-app-check-compat"),w(eh,"@firebase/auth","fire-auth"),w(eh,"@firebase/auth-compat","fire-auth-compat"),w(eh,"@firebase/database","fire-rtdb"),w(eh,"@firebase/database-compat","fire-rtdb-compat"),w(eh,"@firebase/functions","fire-fn"),w(eh,"@firebase/functions-compat","fire-fn-compat"),w(eh,"@firebase/installations","fire-iid"),w(eh,"@firebase/installations-compat","fire-iid-compat"),w(eh,"@firebase/messaging","fire-fcm"),w(eh,"@firebase/messaging-compat","fire-fcm-compat"),w(eh,"@firebase/performance","fire-perf"),w(eh,"@firebase/performance-compat","fire-perf-compat"),w(eh,"@firebase/remote-config","fire-rc"),w(eh,"@firebase/remote-config-compat","fire-rc-compat"),w(eh,"@firebase/storage","fire-gcs"),w(eh,"@firebase/storage-compat","fire-gcs-compat"),w(eh,"@firebase/firestore","fire-fst"),w(eh,"@firebase/firestore-compat","fire-fst-compat"),w(eh,"fire-js","fire-js"),w(eh,"firebase","fire-js-all"),eh),dh=new Map,vh=new Map;function ph(e,t){try{e.container.addComponent(t)}catch(n){lh.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function yh(e,t){e.container.addOrOverwriteComponent(t)}function mh(e){var t=e.name;if(vh.has(t))return lh.debug("There were multiple attempts to register component ".concat(t,".")),!1;vh.set(t,e);var n,r=k(dh.values());try{for(r.s();!(n=r.n()).done;){ph(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function gh(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function bh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fh;gh(e,t).clearInstance(n)}function kh(){vh.clear()}var wh=(w(th={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),w(th,"bad-app-name","Illegal App name: '{$appName}"),w(th,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),w(th,"app-deleted","Firebase App named '{$appName}' already deleted"),w(th,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),w(th,"invalid-log-argument","First argument to `onLog` must be null or a function."),w(th,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),w(th,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),w(th,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),w(th,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),th),Eh=new Rf("app","Firebase",wh),xh=function(){function e(t,n,r){var i=this;N(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gf("app",(function(){return i}),"PUBLIC"))}return P(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Eh.create("app-deleted",{appName:this._name})}}]),e}(),Sh="9.7.0";function _h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:fh,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Eh.create("bad-app-name",{appName:String(i)});var a=dh.get(i);if(a){if(Lf(e,a.options)&&Lf(r,a.config))return a;throw Eh.create("duplicate-app",{appName:i})}var o,u=new Xf(i),s=k(vh.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new xh(e,r,u);return dh.set(i,l),l}function Ch(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fh,t=dh.get(e);if(!t)throw Eh.create("no-app",{appName:e});return t}function Th(){return Array.from(dh.values())}function Ih(e){return Nh.apply(this,arguments)}function Nh(){return(Nh=f(R.mark((function e(t){var n;return R.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!dh.has(n)){e.next=6;break}return dh.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ah(e,t,n){var r,i=null!==(r=hh[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void lh.warn(u.join(" "))}mh(new Gf("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Ph(e,t){if(null!==e&&"function"!==typeof e)throw Eh.create("invalid-log-argument");!function(e,t){var n,r=k(Jf);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=nh[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Zf[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Rh(e){var t;t=e,Jf.forEach((function(e){e.setLogLevel(t)}))}var Dh="firebase-heartbeat-store",Mh=null;function Oh(){var e,t,n;return Mh||(Mh=(e="firebase-heartbeat-database",t=1,n=function(e,t){0===t&&e.createObjectStore(Dh)},new Promise((function(r,i){try{var a=indexedDB.open(e,t);a.onsuccess=function(e){r(new zf(e.target.result))},a.onerror=function(e){var t;i("Error opening indexedDB: ".concat(null===(t=e.target.error)||void 0===t?void 0:t.message))},a.onupgradeneeded=function(e){n(new zf(a.result),e.oldVersion,e.newVersion,new Kf(a.transaction))}}catch(o){i("Error opening indexedDB: ".concat(o.message))}}))).catch((function(e){throw Eh.create("storage-open",{originalErrorMessage:e.message})}))),Mh}function Lh(e){return Fh.apply(this,arguments)}function Fh(){return Fh=f(R.mark((function e(t){var n;return R.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Oh();case 3:return n=e.sent,e.abrupt("return",n.transaction(Dh).objectStore(Dh).get(Bh(t)));case 7:throw e.prev=7,e.t0=e.catch(0),Eh.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Fh.apply(this,arguments)}function Vh(e,t){return Uh.apply(this,arguments)}function Uh(){return Uh=f(R.mark((function e(t,n){var r,i,a;return R.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Oh();case 3:return r=e.sent,i=r.transaction(Dh,"readwrite"),a=i.objectStore(Dh),e.next=8,a.put(n,Bh(t));case 8:return e.abrupt("return",i.complete);case 11:throw e.prev=11,e.t0=e.catch(0),Eh.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Uh.apply(this,arguments)}function Bh(e){return"".concat(e.name,"!").concat(e.options.appId)}var jh=function(){function e(t){var n=this;N(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Wh(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return P(e,[{key:"triggerHeartbeat",value:function(){var e=f(R.mark((function e(){var t,n,r;return R.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=qh(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=f(R.mark((function e(){var t,n,r,i,a;return R.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=qh(),n=zh(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=xf(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function qh(){return(new Date).toISOString().substring(0,10)}function zh(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=k(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Gh(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Gh(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Kh,Hh,Wh=function(){function e(t){N(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return P(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=f(R.mark((function e(){return R.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Af()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=f(R.mark((function e(){var t;return R.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Lh(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=f(R.mark((function e(t){var n,r;return R.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Vh(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=f(R.mark((function e(t){var n,r;return R.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Vh(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(s(r.heartbeats),s(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Gh(e){return xf(JSON.stringify({version:2,heartbeats:e})).length}Kh="",mh(new Gf("platform-logger",(function(e){return new uh(e)}),"PRIVATE")),mh(new Gf("heartbeat",(function(e){return new jh(e)}),"PRIVATE")),Ah(sh,ch,Kh),Ah(sh,ch,"esm2017"),Ah("fire-js","");var Qh=function(){function e(t,n){var r=this;N(this,e),this._delegate=t,this.firebase=n,ph(t,new Gf("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return P(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Ih(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fh;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fh;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){ph(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){yh(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),$h=(w(Hh={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),w(Hh,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Hh),Yh=new Rf("app-compat","Firebase",$h);var Zh=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=_h(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Of(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Ah,setLogLevel:Rh,onLog:Ph,apps:null,SDK_VERSION:Sh,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(mh(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Yh.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Sf(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Of(n,e=e||fh))throw Yh.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Qh);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Sf(n,e)},createSubscribe:Vf,ErrorFactory:Rf,deepExtend:Sf}),n}(),Xh=new oh("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Xh.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Jh=self.firebase.SDK_VERSION;Jh&&Jh.indexOf("LITE")>=0&&Xh.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var ed=Zh;!function(e){Ah("@firebase/app-compat","0.1.23",e)}();function td(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}function nd(){return nd="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=td(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},nd.apply(this,arguments)}ed.registerVersion("firebase","9.7.0","app-compat");var rd,id="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},ad={},od=od||{},ud=id||self;function sd(){}function cd(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function ld(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var fd="closure_uid_"+(1e9*Math.random()>>>0),hd=0;function dd(e,t,n){return e.call.apply(e.bind,arguments)}function vd(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function pd(e,t,n){return(pd=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?dd:vd).apply(null,arguments)}function yd(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function md(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function gd(){this.s=this.s,this.o=this.o}var bd={};gd.prototype.s=!1,gd.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,fd)&&e[fd]||(e[fd]=++hd)}(this);delete bd[e]}},gd.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var kd=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},wd=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Ed(e){return Array.prototype.concat.apply([],arguments)}function xd(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Sd(e){return/^[\s\xa0]*$/.test(e)}var _d,Cd=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Td(e,t){return-1!=e.indexOf(t)}function Id(e,t){return e<t?-1:e>t?1:0}e:{var Nd=ud.navigator;if(Nd){var Ad=Nd.userAgent;if(Ad){_d=Ad;break e}}_d=""}function Pd(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Rd(e){var t={};for(var n in e)t[n]=e[n];return t}var Dd="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Md(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Dd.length;a++)n=Dd[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Od(e){return Od[" "](e),e}Od[" "]=sd;var Ld,Fd=Td(_d,"Opera"),Vd=Td(_d,"Trident")||Td(_d,"MSIE"),Ud=Td(_d,"Edge"),Bd=Ud||Vd,jd=Td(_d,"Gecko")&&!(Td(_d.toLowerCase(),"webkit")&&!Td(_d,"Edge"))&&!(Td(_d,"Trident")||Td(_d,"MSIE"))&&!Td(_d,"Edge"),qd=Td(_d.toLowerCase(),"webkit")&&!Td(_d,"Edge");function zd(){var e=ud.document;return e?e.documentMode:void 0}e:{var Kd="",Hd=function(){var e=_d;return jd?/rv:([^\);]+)(\)|;)/.exec(e):Ud?/Edge\/([\d\.]+)/.exec(e):Vd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):qd?/WebKit\/(\S+)/.exec(e):Fd?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Hd&&(Kd=Hd?Hd[1]:""),Vd){var Wd=zd();if(null!=Wd&&Wd>parseFloat(Kd)){Ld=String(Wd);break e}}Ld=Kd}var Gd,Qd={};function $d(){return function(e){var t=Qd;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Cd(String(Ld)).split("."),n=Cd("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Id(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Id(0==a[2].length,0==o[2].length)||Id(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(ud.document&&Vd){var Yd=zd();Gd=Yd||(parseInt(Ld,10)||void 0)}else Gd=void 0;var Zd=Gd,Xd=function(){if(!ud.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ud.addEventListener("test",sd,t),ud.removeEventListener("test",sd,t)}catch(n){}return e}();function Jd(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function ev(e,t){if(Jd.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(jd){e:{try{Od(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:tv[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ev.Z.h.call(this)}}Jd.prototype.h=function(){this.defaultPrevented=!0},md(ev,Jd);var tv={2:"touch",3:"pen",4:"mouse"};ev.prototype.h=function(){ev.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var nv="closure_listenable_"+(1e6*Math.random()|0),rv=0;function iv(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++rv,this.ca=this.fa=!1}function av(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function ov(e){this.src=e,this.g={},this.h=0}function uv(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=kd(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(av(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function sv(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}ov.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=sv(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new iv(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var cv="closure_lm_"+(1e6*Math.random()|0),lv={};function fv(e,t,n,r,i){if(r&&r.once)return dv(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)fv(e,t[a],n,r,i);return null}return n=kv(n),e&&e[nv]?e.N(t,n,ld(r)?!!r.capture:!!r,i):hv(e,t,n,!1,r,i)}function hv(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=ld(i)?!!i.capture:!!i,u=gv(e);if(u||(e[cv]=u=new ov(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=mv;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Xd||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(yv(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function dv(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)dv(e,t[a],n,r,i);return null}return n=kv(n),e&&e[nv]?e.O(t,n,ld(r)?!!r.capture:!!r,i):hv(e,t,n,!0,r,i)}function vv(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)vv(e,t[a],n,r,i);else r=ld(r)?!!r.capture:!!r,n=kv(n),e&&e[nv]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=sv(a=e.g[t],n,r,i))&&(av(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=gv(e))&&(t=e.g[t.toString()],e=-1,t&&(e=sv(t,n,r,i)),(n=-1<e?t[e]:null)&&pv(n))}function pv(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[nv])uv(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(yv(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=gv(t))?(uv(n,e),0==n.h&&(n.src=null,t[cv]=null)):av(e)}}}function yv(e){return e in lv?lv[e]:lv[e]="on"+e}function mv(e,t){if(e.ca)e=!0;else{t=new ev(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&pv(e),e=n.call(r,t)}return e}function gv(e){return(e=e[cv])instanceof ov?e:null}var bv="__closure_events_fn_"+(1e9*Math.random()>>>0);function kv(e){return"function"===typeof e?e:(e[bv]||(e[bv]=function(t){return e.handleEvent(t)}),e[bv])}function wv(){gd.call(this),this.i=new ov(this),this.P=this,this.I=null}function Ev(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Jd(t,e);else if(t instanceof Jd)t.target=t.target||e;else{var i=t;Md(t=new Jd(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=xv(o,r,!0,t)&&i}if(i=xv(o=t.g=e,r,!0,t)&&i,i=xv(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=xv(o=t.g=n[a],r,!1,t)&&i}function xv(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&uv(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}md(wv,gd),wv.prototype[nv]=!0,wv.prototype.removeEventListener=function(e,t,n,r){vv(this,e,t,n,r)},wv.prototype.M=function(){if(wv.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)av(n[r]);delete t.g[e],t.h--}}this.I=null},wv.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},wv.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Sv=ud.JSON.stringify;function _v(){var e=Dv,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Cv,Tv=function(){function e(){N(this,e),this.h=this.g=null}return P(e,[{key:"add",value:function(e,t){var n=Iv.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Iv=new(function(){function e(t,n){N(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return P(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Nv}),(function(e){return e.reset()})),Nv=function(){function e(){N(this,e),this.next=this.g=this.h=null}return P(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Av(e){ud.setTimeout((function(){throw e}),0)}function Pv(e,t){Cv||function(){var e=ud.Promise.resolve(void 0);Cv=function(){e.then(Mv)}}(),Rv||(Cv(),Rv=!0),Dv.add(e,t)}var Rv=!1,Dv=new Tv;function Mv(){for(var e;e=_v();){try{e.h.call(e.g)}catch(n){Av(n)}var t=Iv;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Rv=!1}function Ov(e,t){wv.call(this),this.h=e||1,this.g=t||ud,this.j=pd(this.kb,this),this.l=Date.now()}function Lv(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Fv(e,t,n){if("function"===typeof e)n&&(e=pd(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=pd(e.handleEvent,e)}return 2147483647<Number(t)?-1:ud.setTimeout(e,t||0)}function Vv(e){e.g=Fv((function(){e.g=null,e.i&&(e.i=!1,Vv(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}md(Ov,wv),(rd=Ov.prototype).da=!1,rd.S=null,rd.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ev(this,"tick"),this.da&&(Lv(this),this.start()))}},rd.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},rd.M=function(){Ov.Z.M.call(this),Lv(this),delete this.g};var Uv=function(e){_(n,e);var t=I(n);function n(e,r){var i;return N(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return P(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Vv(this)}},{key:"M",value:function(){nd(p(n.prototype),"M",this).call(this),this.g&&(ud.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(gd);function Bv(e){gd.call(this),this.h=e,this.g={}}md(Bv,gd);var jv=[];function qv(e,t,n,r){Array.isArray(n)||(n&&(jv[0]=n.toString()),n=jv);for(var i=0;i<n.length;i++){var a=fv(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function zv(e){Pd(e.g,(function(e,t){this.g.hasOwnProperty(t)&&pv(e)}),e),e.g={}}function Kv(){this.g=!0}function Hv(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Sv(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Bv.prototype.M=function(){Bv.Z.M.call(this),zv(this)},Bv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Kv.prototype.Aa=function(){this.g=!1},Kv.prototype.info=function(){};var Wv={},Gv=null;function Qv(){return Gv=Gv||new wv}function $v(e){Jd.call(this,Wv.Ma,e)}function Yv(e){var t=Qv();Ev(t,new $v(t,e))}function Zv(e,t){Jd.call(this,Wv.STAT_EVENT,e),this.stat=t}function Xv(e){var t=Qv();Ev(t,new Zv(t,e))}function Jv(e,t){Jd.call(this,Wv.Na,e),this.size=t}function ep(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return ud.setTimeout((function(){e()}),t)}Wv.Ma="serverreachability",md($v,Jd),Wv.STAT_EVENT="statevent",md(Zv,Jd),Wv.Na="timingevent",md(Jv,Jd);var tp={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},np={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function rp(){}function ip(e){return e.h||(e.h=e.i())}function ap(){}rp.prototype.h=null;var op,up={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function sp(){Jd.call(this,"d")}function cp(){Jd.call(this,"c")}function lp(){}function fp(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Bv(this),this.P=dp,e=Bd?125:void 0,this.W=new Ov(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new hp}function hp(){this.i=null,this.g="",this.h=!1}md(sp,Jd),md(cp,Jd),md(lp,rp),lp.prototype.g=function(){return new XMLHttpRequest},lp.prototype.i=function(){return{}},op=new lp;var dp=45e3,vp={},pp={};function yp(e,t,n){e.K=1,e.v=Up(Dp(t)),e.s=n,e.U=!0,mp(e,null)}function mp(e,t){e.F=Date.now(),wp(e),e.A=Dp(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Xp(n.h,"t",r),e.C=0,n=e.l.H,e.h=new hp,e.g=em(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Uv(pd(e.Ia,e,e.g),e.O)),qv(e.V,e.g,"readystatechange",e.gb),t=e.H?Rd(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Yv(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function gp(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function bp(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=kp(e,n))==pp){4==t&&(e.o=4,Xv(14),i=!1),Hv(e.j,e.m,null,"[Incomplete Response]");break}if(r==vp){e.o=4,Xv(15),Hv(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Hv(e.j,e.m,r,null),Cp(e,r)}gp(e)&&r!=pp&&r!=vp&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Xv(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Wy(t),t.L=!0,Xv(11))):(Hv(e.j,e.m,n,"[Invalid Chunked Response]"),_p(e),Sp(e))}function kp(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?pp:(n=Number(t.substring(n,r)),isNaN(n)?vp:(r+=1)+n>t.length?pp:(t=t.substr(r,n),e.C=r+n,t))}function wp(e){e.Y=Date.now()+e.P,Ep(e,e.P)}function Ep(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ep(pd(e.eb,e),t)}function xp(e){e.B&&(ud.clearTimeout(e.B),e.B=null)}function Sp(e){0==e.l.G||e.I||$y(e.l,e)}function _p(e){xp(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Lv(e.W),zv(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Cp(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||oy(n.i,e)))if(n.I=e.N,!e.J&&oy(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Qy(n),Fy(n)}Hy(n),Xv(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=ep(pd(n.ab,n),6e3));if(1>=ay(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Zy(n,11)}else if((e.J||n.g==e)&&Qy(n),!Sd(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Td(l,"spdy")||Td(l,"quic")||Td(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(uy(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Vp(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Jy(r,r.H?r.la:null,r.W),d.J){sy(r.i,d);var v=d,p=r.K;p&&v.setTimeout(p),v.B&&(xp(v),wp(v)),r.g=d}else Ky(r);0<n.l.length&&By(n)}else"stop"!=a[0]&&"close"!=a[0]||Zy(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Zy(n,7):Ly(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Yv(4)}catch(a){}}function Tp(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(cd(e)||"string"===typeof e)wd(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(cd(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(cd(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Ip(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Ip)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Np(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Ap(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Ap(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Ap(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(rd=fp.prototype).setTimeout=function(e){this.P=e},rd.gb=function(e){e=e.target;var t=this.L;t&&3==Py(e)?t.l():this.Ia(e)},rd.Ia=function(e){try{if(e==this.g)e:{var t=Py(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Bd||this.g&&(this.h.h||this.g.ga()||Ry(this.g)))){this.I||4!=t||7==n||Yv(8==n||0>=r?3:2),xp(this);var i=this.g.ba();this.N=i;t:if(gp(this)){var a=Ry(this.g);e="";var o=a.length,u=4==Py(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){_p(this),Sp(this);var s="";break t}this.h.i=new ud.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Sd(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Xv(12),_p(this),Sp(this);break e}Hv(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Cp(this,i)}this.U?(bp(this,t,s),Bd&&this.i&&3==t&&(qv(this.V,this.W,"tick",this.fb),this.W.start())):(Hv(this.j,this.m,s,null),Cp(this,s)),4==t&&_p(this),this.i&&!this.I&&(4==t?$y(this.l,this):(this.i=!1,wp(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,Xv(12)):(this.o=0,Xv(13)),_p(this),Sp(this)}}}catch(t){}},rd.fb=function(){if(this.g){var e=Py(this.g),t=this.g.ga();this.C<t.length&&(xp(this),bp(this,e,t),this.i&&4!=e&&wp(this))}},rd.cancel=function(){this.I=!0,_p(this)},rd.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Yv(3),Xv(17)),_p(this),this.o=2,Sp(this)):Ep(this,this.Y-e)},(rd=Ip.prototype).R=function(){Np(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},rd.T=function(){return Np(this),this.g.concat()},rd.get=function(e,t){return Ap(this.h,e)?this.h[e]:t},rd.set=function(e,t){Ap(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},rd.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Pp=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Rp(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Rp){this.g=void 0!==t?t:e.g,Mp(this,e.j),this.s=e.s,Op(this,e.i),Lp(this,e.m),this.l=e.l,t=e.h;var n=new Qp;n.i=t.i,t.g&&(n.g=new Ip(t.g),n.h=t.h),Fp(this,n),this.o=e.o}else e&&(n=String(e).match(Pp))?(this.g=!!t,Mp(this,n[1]||"",!0),this.s=Bp(n[2]||""),Op(this,n[3]||"",!0),Lp(this,n[4]),this.l=Bp(n[5]||"",!0),Fp(this,n[6]||"",!0),this.o=Bp(n[7]||"")):(this.g=!!t,this.h=new Qp(null,this.g))}function Dp(e){return new Rp(e)}function Mp(e,t,n){e.j=n?Bp(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Op(e,t,n){e.i=n?Bp(t,!0):t}function Lp(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Fp(e,t,n){t instanceof Qp?(e.h=t,function(e,t){t&&!e.j&&($p(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Yp(this,t),Xp(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=jp(t,Wp)),e.h=new Qp(t,e.g))}function Vp(e,t,n){e.h.set(t,n)}function Up(e){return Vp(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Bp(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function jp(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,qp),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function qp(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Rp.prototype.toString=function(){var e=[],t=this.j;t&&e.push(jp(t,zp,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(jp(t,zp,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(jp(n,"/"==n.charAt(0)?Hp:Kp,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",jp(n,Gp)),e.join("")};var zp=/[#\/\?@]/g,Kp=/[#\?:]/g,Hp=/[#\?]/g,Wp=/[#\?@]/g,Gp=/#/g;function Qp(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function $p(e){e.g||(e.g=new Ip,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Yp(e,t){$p(e),t=Jp(e,t),Ap(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Ap((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Np(e)))}function Zp(e,t){return $p(e),t=Jp(e,t),Ap(e.g.h,t)}function Xp(e,t,n){Yp(e,t),0<n.length&&(e.i=null,e.g.set(Jp(e,t),xd(n)),e.h+=n.length)}function Jp(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(rd=Qp.prototype).add=function(e,t){$p(this),this.i=null,e=Jp(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},rd.forEach=function(e,t){$p(this),this.g.forEach((function(n,r){wd(n,(function(n){e.call(t,n,r,this)}),this)}),this)},rd.T=function(){$p(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},rd.R=function(e){$p(this);var t=[];if("string"===typeof e)Zp(this,e)&&(t=Ed(t,this.g.get(Jp(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Ed(t,e[n])}return t},rd.set=function(e,t){return $p(this),this.i=null,Zp(this,e=Jp(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},rd.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},rd.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var ey=P((function e(t,n){N(this,e),this.h=t,this.g=n}));function ty(e){this.l=e||ry,ud.PerformanceNavigationTiming?e=0<(e=ud.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(ud.g&&ud.g.Ea&&ud.g.Ea()&&ud.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ny,ry=10;function iy(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ay(e){return e.h?1:e.g?e.g.size:0}function oy(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function uy(e,t){e.g?e.g.add(t):e.h=t}function sy(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function cy(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=k(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return xd(e.i)}function ly(){}function fy(){this.g=new ly}function hy(e,t,n){var r=n||"";try{Tp(e,(function(e,n){var i=e;ld(e)&&(i=Sv(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function dy(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function vy(e){this.l=e.$b||null,this.j=e.ib||!1}function py(e,t){wv.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=yy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ty.prototype.cancel=function(){if(this.i=cy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=k(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},ly.prototype.stringify=function(e){return ud.JSON.stringify(e,void 0)},ly.prototype.parse=function(e){return ud.JSON.parse(e,void 0)},md(vy,rp),vy.prototype.g=function(){return new py(this.l,this.j)},vy.prototype.i=(ny={},function(){return ny}),md(py,wv);var yy=0;function my(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function gy(e){e.readyState=4,e.l=null,e.j=null,e.A=null,by(e)}function by(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(rd=py.prototype).open=function(e,t){if(this.readyState!=yy)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,by(this)},rd.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||ud).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},rd.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,gy(this)),this.readyState=yy},rd.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,by(this)),this.g&&(this.readyState=3,by(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof ud.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;my(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},rd.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?gy(this):by(this),3==this.readyState&&my(this)}},rd.Ua=function(e){this.g&&(this.response=this.responseText=e,gy(this))},rd.Ta=function(e){this.g&&(this.response=e,gy(this))},rd.ha=function(){this.g&&gy(this)},rd.setRequestHeader=function(e,t){this.v.append(e,t)},rd.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},rd.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(py.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ky=ud.JSON.parse;function wy(e){wv.call(this),this.headers=new Ip,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ey,this.K=this.L=!1}md(wy,wv);var Ey="",xy=/^https?$/i,Sy=["POST","PUT"];function _y(e){return"content-type"==e.toLowerCase()}function Cy(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ty(e),Ny(e)}function Ty(e){e.D||(e.D=!0,Ev(e,"complete"),Ev(e,"error"))}function Iy(e){if(e.h&&"undefined"!=typeof od&&(!e.C[1]||4!=Py(e)||2!=e.ba()))if(e.v&&4==Py(e))Fv(e.Fa,0,e);else if(Ev(e,"readystatechange"),4==Py(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Pp)[1]||null;if(!a&&ud.self&&ud.self.location){var o=ud.self.location.protocol;a=o.substr(0,o.length-1)}i=!xy.test(a?a.toLowerCase():"")}t=i}if(t)Ev(e,"complete"),Ev(e,"success");else{e.m=6;try{var u=2<Py(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Ty(e)}}finally{Ny(e)}}}function Ny(e,t){if(e.g){Ay(e);var n=e.g,r=e.C[0]?sd:null;e.g=null,e.C=null,t||Ev(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Ay(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(ud.clearTimeout(e.A),e.A=null)}function Py(e){return e.g?e.g.readyState:0}function Ry(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Ey:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Dy(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Pd(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Vp(e,t,n))}function My(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Oy(e){this.za=0,this.l=[],this.h=new Kv,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=My("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=My("baseRetryDelayMs",5e3,e),this.$a=My("retryDelaySeedMs",1e4,e),this.Ya=My("forwardChannelMaxRetries",2,e),this.ra=My("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new ty(e&&e.concurrentRequestLimit),this.Ca=new fy,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Ly(e){if(Vy(e),3==e.G){var t=e.V++,n=Dp(e.F);Vp(n,"SID",e.J),Vp(n,"RID",t),Vp(n,"TYPE","terminate"),qy(e,n),(t=new fp(e,e.h,t,void 0)).K=2,t.v=Up(Dp(n)),n=!1,ud.navigator&&ud.navigator.sendBeacon&&(n=ud.navigator.sendBeacon(t.v.toString(),"")),!n&&ud.Image&&((new Image).src=t.v,n=!0),n||(t.g=em(t.l,null),t.g.ea(t.v)),t.F=Date.now(),wp(t)}Xy(e)}function Fy(e){e.g&&(Wy(e),e.g.cancel(),e.g=null)}function Vy(e){Fy(e),e.u&&(ud.clearTimeout(e.u),e.u=null),Qy(e),e.i.cancel(),e.m&&("number"===typeof e.m&&ud.clearTimeout(e.m),e.m=null)}function Uy(e,t){e.l.push(new ey(e.Za++,t)),3==e.G&&By(e)}function By(e){iy(e.i)||e.m||(e.m=!0,Pv(e.Ha,e),e.C=0)}function jy(e,t){var n;n=t?t.m:e.V++;var r=Dp(e.F);Vp(r,"SID",e.J),Vp(r,"RID",n),Vp(r,"AID",e.U),qy(e,r),e.o&&e.s&&Dy(r,e.o,e.s),n=new fp(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=zy(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),uy(e.i,n),yp(n,r,t)}function qy(e,t){e.j&&Tp({},(function(e,n){Vp(t,n,e)}))}function zy(e,t,n){n=Math.min(e.l.length,n);var r=e.j?pd(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{hy(l,o,"req"+c+"_")}catch(Im){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Ky(e){e.g||e.u||(e.Y=1,Pv(e.Ga,e),e.A=0)}function Hy(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=ep(pd(e.Ga,e),Yy(e,e.A)),e.A++,!0)}function Wy(e){null!=e.B&&(ud.clearTimeout(e.B),e.B=null)}function Gy(e){e.g=new fp(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Dp(e.oa);Vp(t,"RID","rpc"),Vp(t,"SID",e.J),Vp(t,"CI",e.N?"0":"1"),Vp(t,"AID",e.U),qy(e,t),Vp(t,"TYPE","xmlhttp"),e.o&&e.s&&Dy(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Up(Dp(t)),n.s=null,n.U=!0,mp(n,e)}function Qy(e){null!=e.v&&(ud.clearTimeout(e.v),e.v=null)}function $y(e,t){var n=null;if(e.g==t){Qy(e),Wy(e),e.g=null;var r=2}else{if(!oy(e.i,t))return;n=t.D,sy(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Ev(r=Qv(),new Jv(r,n,t,i)),By(e)}else Ky(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(ay(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=ep(pd(e.Ha,e,t),Yy(e,e.C)),e.C++,!0))}(e,t)||2==r&&Hy(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Zy(e,5);break;case 4:Zy(e,10);break;case 3:Zy(e,6);break;default:Zy(e,2)}}function Yy(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Zy(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=pd(e.jb,e);n||(n=new Rp("//www.google.com/images/cleardot.gif"),ud.location&&"http"==ud.location.protocol||Mp(n,"https"),Up(n)),function(e,t){var n=new Kv;if(ud.Image){var r=new Image;r.onload=yd(dy,n,r,"TestLoadImage: loaded",!0,t),r.onerror=yd(dy,n,r,"TestLoadImage: error",!1,t),r.onabort=yd(dy,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=yd(dy,n,r,"TestLoadImage: timeout",!1,t),ud.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Xv(2);e.G=0,e.j&&e.j.va(t),Xy(e),Vy(e)}function Xy(e){e.G=0,e.I=-1,e.j&&(0==cy(e.i).length&&0==e.l.length||(e.i.i.length=0,xd(e.l),e.l.length=0),e.j.ua())}function Jy(e,t,n){var r=function(e){return e instanceof Rp?Dp(e):new Rp(e,void 0)}(n);if(""!=r.i)t&&Op(r,t+"."+r.i),Lp(r,r.m);else{var i=ud.location;r=function(e,t,n,r){var i=new Rp(null,void 0);return e&&Mp(i,e),t&&Op(i,t),n&&Lp(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Pd(e.aa,(function(e,t){Vp(r,t,e)})),t=e.D,n=e.sa,t&&n&&Vp(r,t,n),Vp(r,"VER",e.ma),qy(e,r),r}function em(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new wy(new vy({ib:!0})):new wy(e.qa)).L=e.H,t}function tm(){}function nm(){if(Vd&&!(10<=Number(Zd)))throw Error("Environmental error: no available transport.")}function rm(e,t){wv.call(this),this.g=new Oy(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Sd(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Sd(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new om(this)}function im(e){sp.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function am(){cp.call(this),this.status=1}function om(e){this.g=e}(rd=wy.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():op.g(),this.C=this.u?ip(this.u):ip(op),this.g.onreadystatechange=pd(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Cy(this,a)}e=n||"";var i=new Ip(this.headers);r&&Tp(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=_y,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=ud.FormData&&e instanceof ud.FormData,!(0<=kd(Sy,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ay(this),0<this.B&&((this.K=function(e){return Vd&&$d()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pd(this.pa,this)):this.A=Fv(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Cy(this,a)}},rd.pa=function(){"undefined"!=typeof od&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ev(this,"timeout"),this.abort(8))},rd.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ev(this,"complete"),Ev(this,"abort"),Ny(this))},rd.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ny(this,!0)),wy.Z.M.call(this)},rd.Fa=function(){this.s||(this.F||this.v||this.l?Iy(this):this.cb())},rd.cb=function(){Iy(this)},rd.ba=function(){try{return 2<Py(this)?this.g.status:-1}catch(ny){return-1}},rd.ga=function(){try{return this.g?this.g.responseText:""}catch(ny){return""}},rd.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ky(t)}},rd.Da=function(){return this.m},rd.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(rd=Oy.prototype).ma=8,rd.G=1,rd.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},rd.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new fp(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Md(n=Rd(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=zy(this,t,r),Vp(i=Dp(this.F),"RID",e),Vp(i,"CVER",22),this.D&&Vp(i,"X-HTTP-Session-Id",this.D),qy(this,i),this.o&&n&&Dy(i,this.o,n),uy(this.i,t),this.Ra&&Vp(i,"TYPE","init"),this.ja?(Vp(i,"$req",r),Vp(i,"SID","null"),t.$=!0,yp(t,i,null)):yp(t,i,r),this.G=2}}else 3==this.G&&(e?jy(this,e):0==this.l.length||iy(this.i)||jy(this))},rd.Ga=function(){if(this.u=null,Gy(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=ep(pd(this.bb,this),e)}},rd.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Xv(10),Fy(this),Gy(this))},rd.ab=function(){null!=this.v&&(this.v=null,Fy(this),Hy(this),Xv(19))},rd.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Xv(2)):(this.h.info("Failed to ping google.com"),Xv(1))},(rd=tm.prototype).xa=function(){},rd.wa=function(){},rd.va=function(){},rd.ua=function(){},rd.Oa=function(){},nm.prototype.g=function(e,t){return new rm(e,t)},md(rm,wv),rm.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Pv(pd(e.hb,e,t))),Xv(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Jy(e,null,e.W),By(e)},rm.prototype.close=function(){Ly(this.g)},rm.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Uy(this.g,t)}else this.v?((t={}).__data__=Sv(e),Uy(this.g,t)):Uy(this.g,e)},rm.prototype.M=function(){this.g.j=null,delete this.j,Ly(this.g),delete this.g,rm.Z.M.call(this)},md(im,sp),md(am,cp),md(om,tm),om.prototype.xa=function(){Ev(this.g,"a")},om.prototype.wa=function(e){Ev(this.g,new im(e))},om.prototype.va=function(e){Ev(this.g,new am(e))},om.prototype.ua=function(){Ev(this.g,"b")},nm.prototype.createWebChannel=nm.prototype.g,rm.prototype.send=rm.prototype.u,rm.prototype.open=rm.prototype.m,rm.prototype.close=rm.prototype.close,tp.NO_ERROR=0,tp.TIMEOUT=8,tp.HTTP_ERROR=6,np.COMPLETE="complete",ap.EventType=up,up.OPEN="a",up.CLOSE="b",up.ERROR="c",up.MESSAGE="d",wv.prototype.listen=wv.prototype.N,wy.prototype.listenOnce=wy.prototype.O,wy.prototype.getLastError=wy.prototype.La,wy.prototype.getLastErrorCode=wy.prototype.Da,wy.prototype.getStatus=wy.prototype.ba,wy.prototype.getResponseJson=wy.prototype.Qa,wy.prototype.getResponseText=wy.prototype.ga,wy.prototype.send=wy.prototype.ea;var um=ad.createWebChannelTransport=function(){return new nm},sm=ad.getStatEventTarget=function(){return Qv()},cm=ad.ErrorCode=tp,lm=ad.EventType=np,fm=ad.Event=Wv,hm=ad.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},dm=ad.FetchXmlHttpFactory=vy,vm=ad.WebChannel=ap,pm=ad.XhrIo=wy,ym="@firebase/firestore",mm=function(){function e(t){N(this,e),this.uid=t}return P(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();mm.UNAUTHENTICATED=new mm(null),mm.GOOGLE_CREDENTIALS=new mm("google-credentials-uid"),mm.FIRST_PARTY=new mm("first-party-uid"),mm.MOCK_USER=new mm("mock-user");var gm="9.6.11",bm=new oh("@firebase/firestore");function km(){return bm.logLevel}function wm(e){if(bm.logLevel<=Zf.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Sm);bm.debug.apply(bm,["Firestore (".concat(gm,"): ").concat(e)].concat(s(i)))}}function Em(e){if(bm.logLevel<=Zf.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Sm);bm.error.apply(bm,["Firestore (".concat(gm,"): ").concat(e)].concat(s(i)))}}function xm(e){if(bm.logLevel<=Zf.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Sm);bm.warn.apply(bm,["Firestore (".concat(gm,"): ").concat(e)].concat(s(i)))}}function Sm(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function _m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(gm,") INTERNAL ASSERTION FAILED: ")+e;throw Em(t),new Error(t)}function Cm(e,t){e||_m()}function Tm(e,t){return e}var Im={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Nm=function(e){_(n,e);var t=I(n);function n(e,r){var i;return N(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return P(n)}(Pf),Am=P((function e(){var t=this;N(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Pm=P((function e(t,n){N(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Rm=function(){function e(){N(this,e)}return P(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(mm.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Dm=function(){function e(t){N(this,e),this.token=t,this.changeListener=null}return P(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Mm=function(){function e(t){N(this,e),this.t=t,this.currentUser=mm.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return P(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Am;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Am,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(f(D().mark((function e(){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){wm("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(wm("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Am)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(wm("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Cm("string"==typeof n.accessToken),new Pm(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Cm(null===e||"string"==typeof e),new mm(e)}}]),e}(),Om=P((function e(t,n,r){N(this,e),this.type="FirstParty",this.user=mm.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Lm=function(){function e(t,n,r){N(this,e),this.h=t,this.l=n,this.m=r}return P(e,[{key:"getToken",value:function(){return Promise.resolve(new Om(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(mm.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Fm=P((function e(t){N(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Vm=function(){function e(t){N(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return P(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&wm("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,wm("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){wm("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):wm("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Cm("string"==typeof t.token),e.p=t.token,new Fm(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Um=function(){function e(t,n){var r=this;N(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return P(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Bm(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Um.A=-1;var jm=function(){function e(){N(this,e)}return P(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Bm(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function qm(e,t){return e<t?-1:e>t?1:0}function zm(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Km(e){return e+"\0"}var Hm=function(){function e(t,n){if(N(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Nm(Im.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Nm(Im.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Nm(Im.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Nm(Im.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return P(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?qm(this.nanoseconds,e.nanoseconds):qm(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Wm=function(){function e(t){N(this,e),this.timestamp=t}return P(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Hm(0,0))}},{key:"max",value:function(){return new e(new Hm(253402300799,999999999))}}]),e}();function Gm(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Qm(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function $m(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Ym=function(){function e(t,n,r){N(this,e),void 0===n?n=0:n>t.length&&_m(),void 0===r?r=t.length-n:r>t.length-n&&_m(),this.segments=t,this.offset=n,this.len=r}return P(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Zm=function(e){_(n,e);var t=I(n);function n(){return N(this,n),t.apply(this,arguments)}return P(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Nm(Im.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,s(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Ym),Xm=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Jm=function(e){_(n,e);var t=I(n);function n(){return N(this,n),t.apply(this,arguments)}return P(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Xm.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Nm(Im.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Nm(Im.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Nm(Im.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Nm(Im.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Ym),eg=function(){function e(t){N(this,e),this.fields=t,t.sort(Jm.comparator)}return P(e,[{key:"covers",value:function(e){var t,n=k(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return zm(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var tg=function(e){function t(e){N(this,t),this.binaryString=e}return P(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return qm(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();tg.EMPTY_BYTE_STRING=new tg("");var ng=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rg(e){if(Cm(!!e),"string"==typeof e){var t=0,n=ng.exec(e);if(Cm(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ig(e.seconds),nanos:ig(e.nanos)}}function ig(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ag(e){return"string"==typeof e?tg.fromBase64String(e):tg.fromUint8Array(e)}function og(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ug(e){var t=e.mapValue.fields.__previous_value__;return og(t)?ug(t):t}function sg(e){var t=rg(e.mapValue.fields.__local_write_time__.timestampValue);return new Hm(t.seconds,t.nanos)}var cg=P((function e(t,n,r,i,a,o,u,s){N(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),lg=function(){function e(t,n){N(this,e),this.projectId=t,this.database=n||"(default)"}return P(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function fg(e){return null==e}function hg(e){return 0===e&&1/e==-1/0}function dg(e){return"number"==typeof e&&Number.isInteger(e)&&!hg(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var vg=function(){function e(t){N(this,e),this.path=t}return P(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Zm.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Zm.fromString(t))}},{key:"fromName",value:function(t){return new e(Zm.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Zm.emptyPath())}},{key:"comparator",value:function(e,t){return Zm.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Zm(t.slice()))}}]),e}(),pg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},yg={nullValue:"NULL_VALUE"};function mg(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?og(e)?4:Pg(e)?9:10:_m()}function gg(e,t){if(e===t)return!0;var n=mg(e);if(n!==mg(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return sg(e).isEqual(sg(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=rg(e.timestampValue),r=rg(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ag(e.bytesValue).isEqual(ag(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ig(e.geoPointValue.latitude)===ig(t.geoPointValue.latitude)&&ig(e.geoPointValue.longitude)===ig(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ig(e.integerValue)===ig(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=ig(e.doubleValue),r=ig(t.doubleValue);return n===r?hg(n)===hg(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return zm(e.arrayValue.values||[],t.arrayValue.values||[],gg);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Gm(n)!==Gm(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!gg(n[i],r[i])))return!1;return!0}(e,t);default:return _m()}}function bg(e,t){return void 0!==(e.values||[]).find((function(e){return gg(e,t)}))}function kg(e,t){if(e===t)return 0;var n=mg(e),r=mg(t);if(n!==r)return qm(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return qm(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=ig(e.integerValue||e.doubleValue),r=ig(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return wg(e.timestampValue,t.timestampValue);case 4:return wg(sg(e),sg(t));case 5:return qm(e.stringValue,t.stringValue);case 6:return function(e,t){var n=ag(e),r=ag(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=qm(n[i],r[i]);if(0!==a)return a}return qm(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=qm(ig(e.latitude),ig(t.latitude));return 0!==n?n:qm(ig(e.longitude),ig(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=kg(n[i],r[i]);if(a)return a}return qm(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=qm(r[o],a[o]);if(0!==u)return u;var s=kg(n[r[o]],i[a[o]]);if(0!==s)return s}return qm(r.length,a.length)}(e.mapValue,t.mapValue);default:throw _m()}}function wg(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return qm(e,t);var n=rg(e),r=rg(t),i=qm(n.seconds,r.seconds);return 0!==i?i:qm(n.nanos,r.nanos)}function Eg(e){return xg(e)}function xg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=rg(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ag(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,vg.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=k(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=xg(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=k(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(xg(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):_m();var t,n}function Sg(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function _g(e){return!!e&&"integerValue"in e}function Cg(e){return!!e&&"arrayValue"in e}function Tg(e){return!!e&&"nullValue"in e}function Ig(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ng(e){return!!e&&"mapValue"in e}function Ag(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Qm(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Ag(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ag(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Pg(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Rg(e){return"nullValue"in e?yg:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Sg(lg.empty(),vg.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:_m()}function Dg(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Sg(lg.empty(),vg.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?pg:_m()}function Mg(e,t){return void 0===e?t:void 0===t||kg(e,t)>0?e:t}function Og(e,t){return void 0===e?t:void 0===t||kg(e,t)<0?e:t}var Lg=function(){function e(t){N(this,e),this.value=t}return P(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Ng(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ag(t)}},{key:"setAll",value:function(e){var t=this,n=Jm.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Ag(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Ng(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return gg(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Ng(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Qm(t,(function(t,n){return e[t]=n}));var r,i=k(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Ag(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Fg(e){var t=[];return Qm(e.fields,(function(e,n){var r=new Jm([e]);if(Ng(n)){var i=Fg(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=k(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new eg(t)}var Vg=function(){function e(t,n,r,i,a,o){N(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return P(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Lg.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Lg.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Wm.min(),Wm.min(),Lg.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Wm.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Wm.min(),Lg.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Wm.min(),Lg.empty(),2)}}]),e}(),Ug=P((function e(t,n,r,i){N(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Bg(e){return e.fields.find((function(e){return 2===e.kind}))}function jg(e){return e.fields.filter((function(e){return 2!==e.kind}))}Ug.UNKNOWN_ID=-1;var qg=P((function e(t,n){N(this,e),this.fieldPath=t,this.kind=n})),zg=function(){function e(t,n){N(this,e),this.sequenceNumber=t,this.offset=n}return P(e,null,[{key:"empty",value:function(){return new e(0,Wg.min())}}]),e}();function Kg(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Wm.fromTimestamp(1e9===r?new Hm(n+1,0):new Hm(n,r));return new Wg(i,vg.empty(),t)}function Hg(e){return new Wg(e.readTime,e.key,-1)}var Wg=function(){function e(t,n,r){N(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return P(e,null,[{key:"min",value:function(){return new e(Wm.min(),vg.empty(),-1)}},{key:"max",value:function(){return new e(Wm.max(),vg.empty(),-1)}}]),e}();function Gg(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=vg.comparator(e.documentKey,t.documentKey))?n:qm(e.largestBatchId,t.largestBatchId)}var Qg=P((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;N(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null}));function $g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Qg(e,t,n,r,i,a,o)}function Yg(e){var t=Tm(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Eg(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),fg(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Eg(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Eg(e)})).join(",")),t.P=n}return t.P}function Zg(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!db(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!gg(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!pb(e.startAt,t.startAt)&&pb(e.endAt,t.endAt)}function Xg(e){return vg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Jg(e,t){return e.filters.filter((function(e){return e instanceof nb&&e.field.isEqual(t)}))}function eb(e,t,n){var r,i,a=!0,o=k(Jg(e,t));try{for(o.s();!(i=o.n()).done;){var u=i.value,s=void 0,c=!0;switch(u.op){case"<":case"<=":s=Rg(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=yg}Mg(r,s)===s&&(r=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Mg(r,f)===f&&(r=f,a=n.inclusive);break}return{value:r,inclusive:a}}function tb(e,t,n){var r,i,a=!0,o=k(Jg(e,t));try{for(o.s();!(i=o.n()).done;){var u=i.value,s=void 0,c=!0;switch(u.op){case">=":case">":s=Dg(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=pg}Og(r,s)===s&&(r=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Og(r,f)===f&&(r=f,a=n.inclusive);break}return{value:r,inclusive:a}}var nb=function(e){_(n,e);var t=I(n);function n(e,r,i){var a;return N(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return P(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(kg(t,this.value)):null!==t&&mg(this.value)===mg(t)&&this.v(kg(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return _m()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new rb(e,t,r):"array-contains"===t?new ub(e,r):"in"===t?new sb(e,r):"not-in"===t?new cb(e,r):"array-contains-any"===t?new lb(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new ib(e,n):new ab(e,n)}}]),n}(function(){return P((function e(){N(this,e)}))}()),rb=function(e){_(n,e);var t=I(n);function n(e,r,i){var a;return N(this,n),(a=t.call(this,e,r,i)).key=vg.fromName(i.referenceValue),a}return P(n,[{key:"matches",value:function(e){var t=vg.comparator(e.key,this.key);return this.v(t)}}]),n}(nb),ib=function(e){_(n,e);var t=I(n);function n(e,r){var i;return N(this,n),(i=t.call(this,e,"in",r)).keys=ob("in",r),i}return P(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(nb),ab=function(e){_(n,e);var t=I(n);function n(e,r){var i;return N(this,n),(i=t.call(this,e,"not-in",r)).keys=ob("not-in",r),i}return P(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(nb);function ob(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return vg.fromName(e.referenceValue)}))}var ub=function(e){_(n,e);var t=I(n);function n(e,r){return N(this,n),t.call(this,e,"array-contains",r)}return P(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Cg(t)&&bg(t.arrayValue,this.value)}}]),n}(nb),sb=function(e){_(n,e);var t=I(n);function n(e,r){return N(this,n),t.call(this,e,"in",r)}return P(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&bg(this.value.arrayValue,t)}}]),n}(nb),cb=function(e){_(n,e);var t=I(n);function n(e,r){return N(this,n),t.call(this,e,"not-in",r)}return P(n,[{key:"matches",value:function(e){if(bg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!bg(this.value.arrayValue,t)}}]),n}(nb),lb=function(e){_(n,e);var t=I(n);function n(e,r){return N(this,n),t.call(this,e,"array-contains-any",r)}return P(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Cg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return bg(t.value.arrayValue,e)}))}}]),n}(nb),fb=P((function e(t,n){N(this,e),this.position=t,this.inclusive=n})),hb=P((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";N(this,e),this.field=t,this.dir=n}));function db(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function vb(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?vg.comparator(vg.fromName(o.referenceValue),n.key):kg(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function pb(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!gg(e.position[n],t.position[n]))return!1;return!0}var yb=P((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;N(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt}));function mb(e,t,n,r,i,a,o,u){return new yb(e,t,n,r,i,a,o,u)}function gb(e){return new yb(e)}function bb(e){return!fg(e.limit)&&"F"===e.limitType}function kb(e){return!fg(e.limit)&&"L"===e.limitType}function wb(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Eb(e){var t,n=k(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function xb(e){return null!==e.collectionGroup}function Sb(e){var t=Tm(e);if(null===t.D){t.D=[];var n=Eb(t),r=wb(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new hb(n)),t.D.push(new hb(Jm.keyField(),"asc"));else{var i,a=!1,o=k(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new hb(Jm.keyField(),s))}}}return t.D}function _b(e){var t=Tm(e);if(!t.C)if("F"===t.limitType)t.C=$g(t.path,t.collectionGroup,Sb(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=k(Sb(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new hb(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new fb(t.endAt.position,!t.endAt.inclusive):null,s=t.startAt?new fb(t.startAt.position,!t.startAt.inclusive):null;t.C=$g(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function Cb(e,t,n){return new yb(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Tb(e,t){return Zg(_b(e),_b(t))&&e.limitType===t.limitType}function Ib(e){return"".concat(Yg(_b(e)),"|lt:").concat(e.limitType)}function Nb(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Eg(t.value));var t})).join(", "),"]")),fg(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Eg(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Eg(e)})).join(",")),"Target(".concat(t,")")}(_b(e)),"; limitType=").concat(e.limitType,")")}function Ab(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):vg.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=k(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=k(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=vb(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Sb(e),t))&&!(e.endAt&&!function(e,t,n){var r=vb(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Sb(e),t))}(e,t)}function Pb(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Rb(e){return function(t,n){var r,i=!1,a=k(Sb(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Db(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Db(e,t,n){var r=e.field.isKeyField()?vg.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?kg(r,i):_m()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return _m()}}function Mb(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hg(t)?"-0":t}}function Ob(e){return{integerValue:""+e}}function Lb(e,t){return dg(t)?Ob(t):Mb(e,t)}var Fb=P((function e(){N(this,e),this._=void 0}));function Vb(e,t,n){return e instanceof jb?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof qb?zb(e,t):e instanceof Kb?Hb(e,t):function(e,t){var n=Bb(e,t),r=Gb(n)+Gb(e.k);return _g(n)&&_g(e.k)?Ob(r):Mb(e.M,r)}(e,t)}function Ub(e,t,n){return e instanceof qb?zb(e,t):e instanceof Kb?Hb(e,t):n}function Bb(e,t){return e instanceof Wb?_g(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var jb=function(e){_(n,e);var t=I(n);function n(){return N(this,n),t.apply(this,arguments)}return P(n)}(Fb),qb=function(e){_(n,e);var t=I(n);function n(e){var r;return N(this,n),(r=t.call(this)).elements=e,r}return P(n)}(Fb);function zb(e,t){var n,r=Qb(t),i=k(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return gg(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Kb=function(e){_(n,e);var t=I(n);function n(e){var r;return N(this,n),(r=t.call(this)).elements=e,r}return P(n)}(Fb);function Hb(e,t){var n,r=Qb(t),i=k(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!gg(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Wb=function(e){_(n,e);var t=I(n);function n(e,r){var i;return N(this,n),(i=t.call(this)).M=e,i.k=r,i}return P(n)}(Fb);function Gb(e){return ig(e.integerValue||e.doubleValue)}function Qb(e){return Cg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var $b=P((function e(t,n){N(this,e),this.field=t,this.transform=n}));var Yb=P((function e(t,n){N(this,e),this.version=t,this.transformResults=n})),Zb=function(){function e(t,n){N(this,e),this.updateTime=t,this.exists=n}return P(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Xb(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Jb=P((function e(){N(this,e)}));function ek(e,t,n){e instanceof ak?function(e,t,n){var r=e.value.clone(),i=sk(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof ok?function(e,t,n){if(Xb(e.precondition,t)){var r=sk(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(uk(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function tk(e,t,n){e instanceof ak?function(e,t,n){if(Xb(e.precondition,t)){var r=e.value.clone(),i=ck(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(ik(t),r).setHasLocalMutations()}}(e,t,n):e instanceof ok?function(e,t,n){if(Xb(e.precondition,t)){var r=ck(e.fieldTransforms,n,t),i=t.data;i.setAll(uk(e)),i.setAll(r),t.convertToFoundDocument(ik(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Xb(e.precondition,t)&&t.convertToNoDocument(Wm.min())}(e,t)}function nk(e,t){var n,r=null,i=k(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Bb(a.transform,o||null);null!=u&&(null==r&&(r=Lg.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function rk(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&zm(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof qb&&t instanceof qb||e instanceof Kb&&t instanceof Kb?zm(e.elements,t.elements,gg):e instanceof Wb&&t instanceof Wb?gg(e.k,t.k):e instanceof jb&&t instanceof jb}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function ik(e){return e.isFoundDocument()?e.version:Wm.min()}var ak=function(e){_(n,e);var t=I(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return N(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return P(n)}(Jb),ok=function(e){_(n,e);var t=I(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return N(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return P(n)}(Jb);function uk(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function sk(e,t,n){var r=new Map;Cm(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Ub(o,u,n[i]))}return r}function ck(e,t,n){var r,i=new Map,a=k(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Vb(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var lk,fk,hk=function(e){_(n,e);var t=I(n);function n(e,r){var i;return N(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return P(n)}(Jb),dk=function(e){_(n,e);var t=I(n);function n(e,r){var i;return N(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return P(n)}(Jb),vk=P((function e(t){N(this,e),this.count=t}));function pk(e){switch(e){default:return _m();case Im.CANCELLED:case Im.UNKNOWN:case Im.DEADLINE_EXCEEDED:case Im.RESOURCE_EXHAUSTED:case Im.INTERNAL:case Im.UNAVAILABLE:case Im.UNAUTHENTICATED:return!1;case Im.INVALID_ARGUMENT:case Im.NOT_FOUND:case Im.ALREADY_EXISTS:case Im.PERMISSION_DENIED:case Im.FAILED_PRECONDITION:case Im.ABORTED:case Im.OUT_OF_RANGE:case Im.UNIMPLEMENTED:case Im.DATA_LOSS:return!0}}function yk(e){if(void 0===e)return Em("GRPC error has no .code"),Im.UNKNOWN;switch(e){case lk.OK:return Im.OK;case lk.CANCELLED:return Im.CANCELLED;case lk.UNKNOWN:return Im.UNKNOWN;case lk.DEADLINE_EXCEEDED:return Im.DEADLINE_EXCEEDED;case lk.RESOURCE_EXHAUSTED:return Im.RESOURCE_EXHAUSTED;case lk.INTERNAL:return Im.INTERNAL;case lk.UNAVAILABLE:return Im.UNAVAILABLE;case lk.UNAUTHENTICATED:return Im.UNAUTHENTICATED;case lk.INVALID_ARGUMENT:return Im.INVALID_ARGUMENT;case lk.NOT_FOUND:return Im.NOT_FOUND;case lk.ALREADY_EXISTS:return Im.ALREADY_EXISTS;case lk.PERMISSION_DENIED:return Im.PERMISSION_DENIED;case lk.FAILED_PRECONDITION:return Im.FAILED_PRECONDITION;case lk.ABORTED:return Im.ABORTED;case lk.OUT_OF_RANGE:return Im.OUT_OF_RANGE;case lk.UNIMPLEMENTED:return Im.UNIMPLEMENTED;case lk.DATA_LOSS:return Im.DATA_LOSS;default:return _m()}}(fk=lk||(lk={}))[fk.OK=0]="OK",fk[fk.CANCELLED=1]="CANCELLED",fk[fk.UNKNOWN=2]="UNKNOWN",fk[fk.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fk[fk.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fk[fk.NOT_FOUND=5]="NOT_FOUND",fk[fk.ALREADY_EXISTS=6]="ALREADY_EXISTS",fk[fk.PERMISSION_DENIED=7]="PERMISSION_DENIED",fk[fk.UNAUTHENTICATED=16]="UNAUTHENTICATED",fk[fk.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fk[fk.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fk[fk.ABORTED=10]="ABORTED",fk[fk.OUT_OF_RANGE=11]="OUT_OF_RANGE",fk[fk.UNIMPLEMENTED=12]="UNIMPLEMENTED",fk[fk.INTERNAL=13]="INTERNAL",fk[fk.UNAVAILABLE=14]="UNAVAILABLE",fk[fk.DATA_LOSS=15]="DATA_LOSS";var mk=function(){function e(t,n){N(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return P(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=k(n);try{for(i.s();!(r=i.n()).done;){var a=v(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Qm(this.inner,(function(t,n){var r,i=k(n);try{for(i.s();!(r=i.n()).done;){var a=v(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return $m(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),gk=function(){function e(t,n){N(this,e),this.comparator=t,this.root=n||kk.EMPTY}return P(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,kk.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,kk.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new bk(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new bk(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new bk(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new bk(this.root,e,this.comparator,!0)}}]),e}(),bk=function(){function e(t,n,r,i){N(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return P(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),kk=function(){function e(t,n,r,i,a){N(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return P(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw _m();if(this.right.isRed())throw _m();var e=this.left.check();if(e!==this.right.check())throw _m();return e+(this.isRed()?0:1)}}]),e}();kk.EMPTY=null,kk.RED=!0,kk.BLACK=!1,kk.EMPTY=new(function(){function e(){N(this,e),this.size=0}return P(e,[{key:"key",get:function(){throw _m()}},{key:"value",get:function(){throw _m()}},{key:"color",get:function(){throw _m()}},{key:"left",get:function(){throw _m()}},{key:"right",get:function(){throw _m()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new kk(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var wk=function(){function e(t){N(this,e),this.comparator=t,this.data=new gk(this.comparator)}return P(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Ek(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Ek(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Ek=function(){function e(t){N(this,e),this.iter=t}return P(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function xk(e){return e.hasNext()?e.getNext():void 0}var Sk=new gk(vg.comparator);function _k(){return Sk}var Ck=new gk(vg.comparator);function Tk(){return Ck}function Ik(){return new mk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Nk=new gk(vg.comparator),Ak=new wk(vg.comparator);function Pk(){for(var e=Ak,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Rk=new wk(qm);function Dk(){return Rk}var Mk=function(){function e(t,n,r,i,a){N(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return P(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Ok.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Wm.min(),r,Dk(),_k(),Pk())}}]),e}(),Ok=function(){function e(t,n,r,i,a){N(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return P(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(tg.EMPTY_BYTE_STRING,n,Pk(),Pk(),Pk())}}]),e}(),Lk=P((function e(t,n,r,i){N(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.F=i})),Fk=P((function e(t,n){N(this,e),this.targetId=t,this.$=n})),Vk=P((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tg.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;N(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Uk=function(){function e(){N(this,e),this.B=0,this.L=qk(),this.U=tg.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return P(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=Pk(),t=Pk(),n=Pk();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:_m()}})),new Ok(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=qk()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),Bk=function(){function e(t){N(this,e),this.nt=t,this.st=new Map,this.it=_k(),this.rt=jk(),this.ot=new wk(qm)}return P(e,[{key:"ut",value:function(e){var t,n=k(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(u){n.e(u)}finally{n.f()}var i,a=k(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:_m()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(Xg(i))if(0===n){var a=new vg(i.path);this.ct(t,a,Vg.newNoDocument(a,Wm.min()))}else Cm(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&Xg(a.target)){var o=new vg(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,Vg.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=Pk();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new Mk(e,n,this.ot,this.it,r);return this.it=_k(),this.rt=jk(),this.ot=new wk(qm),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new Uk,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new wk(qm),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||wm("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new Uk),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function jk(){return new gk(vg.comparator)}function qk(){return new gk(vg.comparator)}var zk={asc:"ASCENDING",desc:"DESCENDING"},Kk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hk=P((function e(t,n){N(this,e),this.databaseId=t,this.N=n}));function Wk(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Gk(e,t){return e.N?t.toBase64():t.toUint8Array()}function Qk(e,t){return Wk(e,t.toTimestamp())}function $k(e){return Cm(!!e),Wm.fromTimestamp(function(e){var t=rg(e);return new Hm(t.seconds,t.nanos)}(e))}function Yk(e,t){return function(e){return new Zm(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Zk(e){var t=Zm.fromString(e);return Cm(kw(t)),t}function Xk(e,t){return Yk(e.databaseId,t.path)}function Jk(e,t){var n=Zk(t);if(n.get(1)!==e.databaseId.projectId)throw new Nm(Im.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Nm(Im.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new vg(rw(n))}function ew(e,t){return Yk(e.databaseId,t)}function tw(e){var t=Zk(e);return 4===t.length?Zm.emptyPath():rw(t)}function nw(e){return new Zm(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function rw(e){return Cm(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function iw(e,t,n){return{name:Xk(e,t),fields:n.value.mapValue.fields}}function aw(e,t,n){var r=Jk(e,t.name),i=$k(t.updateTime),a=new Lg({mapValue:{fields:t.fields}}),o=Vg.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function ow(e,t){return"found"in t?function(e,t){Cm(!!t.found),t.found.name,t.found.updateTime;var n=Jk(e,t.found.name),r=$k(t.found.updateTime),i=new Lg({mapValue:{fields:t.found.fields}});return Vg.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Cm(!!t.missing),Cm(!!t.readTime);var n=Jk(e,t.missing),r=$k(t.readTime);return Vg.newNoDocument(n,r)}(e,t):_m()}function uw(e,t){var n;if(t instanceof ak)n={update:iw(e,t.key,t.value)};else if(t instanceof hk)n={delete:Xk(e,t.key)};else if(t instanceof ok)n={update:iw(e,t.key,t.data),updateMask:bw(t.fieldMask)};else{if(!(t instanceof dk))return _m();n={verify:Xk(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof jb)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof qb)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Kb)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Wb)return{fieldPath:t.field.canonicalString(),increment:n.k};throw _m()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Qk(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:_m()}(e,t.precondition)),n}function sw(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Zb.updateTime($k(e.updateTime)):void 0!==e.exists?Zb.exists(e.exists):Zb.none()}(t.currentDocument):Zb.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Cm("REQUEST_TIME"===t.setToServerValue),n=new jb;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new qb(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Kb(i)}else"increment"in t?n=new Wb(e,t.increment):_m();var a=Jm.fromServerFormat(t.fieldPath);return new $b(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Jk(e,t.update.name),a=new Lg({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new eg(t.map((function(e){return Jm.fromServerFormat(e)})))}(t.updateMask);return new ok(i,a,o,n,r)}return new ak(i,a,n,r)}if(t.delete){var u=Jk(e,t.delete);return new hk(u,n)}if(t.verify){var s=Jk(e,t.verify);return new dk(s,n)}return _m()}function cw(e,t){return{documents:[ew(e,t.path)]}}function lw(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ew(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ew(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Ig(e.value))return{unaryFilter:{field:pw(e.field),op:"IS_NAN"}};if(Tg(e.value))return{unaryFilter:{field:pw(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ig(e.value))return{unaryFilter:{field:pw(e.field),op:"IS_NOT_NAN"}};if(Tg(e.value))return{unaryFilter:{field:pw(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pw(e.field),op:vw(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:pw(e.field),direction:dw(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||fg(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function fw(e){var t=tw(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Cm(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=hw(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new hb(yw(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return fg(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new fb(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new fb(n,t)}(n.endAt)),mb(t,i,u,o,s,"F",c,l)}function hw(e){return e?void 0!==e.unaryFilter?[gw(e)]:void 0!==e.fieldFilter?[mw(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return hw(e)})).reduce((function(e,t){return e.concat(t)})):_m():[]}function dw(e){return zk[e]}function vw(e){return Kk[e]}function pw(e){return{fieldPath:e.canonicalString()}}function yw(e){return Jm.fromServerFormat(e.fieldPath)}function mw(e){return nb.create(yw(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _m()}}(e.fieldFilter.op),e.fieldFilter.value)}function gw(e){switch(e.unaryFilter.op){case"IS_NAN":var t=yw(e.unaryFilter.field);return nb.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=yw(e.unaryFilter.field);return nb.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=yw(e.unaryFilter.field);return nb.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=yw(e.unaryFilter.field);return nb.create(i,"!=",{nullValue:"NULL_VALUE"});default:return _m()}}function bw(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function kw(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function ww(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=xw(t)),t=Ew(e.get(n),t);return xw(t)}function Ew(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function xw(e){return e+"\x01\x01"}function Sw(e){var t=e.length;if(Cm(t>=2),2===t)return Cm("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Zm.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&_m(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:_m()}a=o+2}return new Zm(r)}var _w=["userId","batchId"];function Cw(e,t){return[e,ww(t)]}function Tw(e,t,n){return[e,ww(t),n]}var Iw={},Nw=["prefixPath","collectionGroup","readTime","documentId"],Aw=["prefixPath","collectionGroup","documentId"],Pw=["collectionGroup","readTime","prefixPath","documentId"],Rw=["canonicalId","targetId"],Dw=["targetId","path"],Mw=["path","targetId"],Ow=["collectionId","parent"],Lw=["indexId","uid"],Fw=["uid","sequenceNumber"],Vw=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Uw=["indexId","uid","orderedDocumentKey"],Bw=["userId","collectionPath","documentId"],jw=["userId","collectionPath","largestBatchId"],qw=["userId","collectionGroup","largestBatchId"],zw=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Kw=[].concat(s(zw),["documentOverlays"]),Hw=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ww=[].concat(Hw,["indexConfiguration","indexState","indexEntries"]),Gw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Qw=function(){function e(){N(this,e),this.onCommittedListeners=[]}return P(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),$w=function(){function e(t){var n=this;N(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return P(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&_m(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=k(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),Yw=function(){function e(t,n){var r=this;N(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new Am,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new Jw(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=iE(e.target.error);r.At.reject(new Jw(t,n))}}return P(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(wm("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"Pt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new tE(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Jw(n,t)}}}]),e}(),Zw=function(){function e(t,n,r){N(this,e),this.name=t,this.version=n,this.bt=r,12.2===e.Vt(If())&&Em("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return P(e,[{key:"Nt",value:function(){var e=f(D().mark((function e(t){var n=this;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return wm("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Jw(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Nm(Im.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Nm(Im.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Jw(t,n))},i.onupgradeneeded=function(e){wm("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.bt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){wm("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=f(D().mark((function e(t,n,r,i){var a,o,u,s,c=this;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(D().mark((function e(){var n,o;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Nt(t);case 2:return c.db=e.sent,n=Yw.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.Pt(),e})).catch((function(e){return n.abort(e),$w.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,wm("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return wm("SimpleDb","Removing database:",e),nE(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!Af())return!1;if(e.St())return!0;var t=If(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/coffee-select",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyBPm-EHJHxp0ZtcpER3GbUWJEsb7pric98",REACT_APP_AUTH_DOMAIN:"coffee-6d9cd.firebaseapp.com",REACT_APP_DATABASE_URL:"coffee-6d9cd",REACT_APP_PROJECT_ID:"coffee-6d9cd",REACT_APP_STORAGE_BUCKET:"coffee-6d9cd.appspot.com",REACT_APP_MESSAGIN_ID:"532372895168",REACT_APP_ID:"1:532372895168:web:2fe23e65d7440671edc425",REACT_APP_MEASUREMENT_ID:"G-9MXMLDGKYD",REACT_APP_COLLECTION:"coffee-select",REACT_APP_DOC:"lPycKHkwzNcWRwqKTD5j"})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Xw=function(){function e(t){N(this,e),this.Ft=t,this.$t=!1,this.Bt=null}return P(e,[{key:"isDone",get:function(){return this.$t}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.Ft=e}},{key:"done",value:function(){this.$t=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return nE(this.Ft.delete())}}]),e}(),Jw=function(e){_(n,e);var t=I(n);function n(e,r){var i;return N(this,n),(i=t.call(this,Im.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return P(n)}(Nm);function eE(e){return"IndexedDbTransactionError"===e.name}var tE=function(){function e(t){N(this,e),this.store=t}return P(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(wm("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(wm("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),nE(n)}},{key:"add",value:function(e){return wm("SimpleDb","ADD",this.store.name,e,e),nE(this.store.add(e))}},{key:"get",value:function(e){var t=this;return nE(this.store.get(e)).next((function(n){return void 0===n&&(n=null),wm("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return wm("SimpleDb","DELETE",this.store.name,e),nE(this.store.delete(e))}},{key:"count",value:function(){return wm("SimpleDb","COUNT",this.store.name),nE(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Kt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new $w((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Gt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new $w((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){wm("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Kt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Kt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new $w((function(n,r){t.onerror=function(e){var t=iE(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Kt",value:function(e,t){var n=[];return new $w((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Xw(i),o=t(i.primaryKey,i.value,a);if(o instanceof $w){var u=o.catch((function(e){return a.done(),$w.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return $w.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function nE(e){return new $w((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=iE(e.target.error);n(t)}}))}var rE=!1;function iE(e){var t=Zw.Vt(If());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Nm("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return rE||(rE=!0,setTimeout((function(){throw r}),0)),r}}return e}var aE=function(e){_(n,e);var t=I(n);function n(e,r){var i;return N(this,n),(i=t.call(this)).Ht=e,i.currentSequenceNumber=r,i}return P(n)}(Qw);function oE(e,t){var n=Tm(e);return Zw.xt(n.Ht,t)}var uE=function(){function e(t,n,r,i){N(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return P(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&ek(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=k(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&tk(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=k(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&tk(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Wm.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Pk())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&zm(this.mutations,e.mutations,(function(e,t){return rk(e,t)}))&&zm(this.baseMutations,e.baseMutations,(function(e,t){return rk(e,t)}))}}]),e}(),sE=function(){function e(t,n,r,i){N(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return P(e,null,[{key:"from",value:function(t,n,r){Cm(t.mutations.length===r.length);for(var i=Nk,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),cE=function(){function e(t,n){N(this,e),this.largestBatchId=t,this.mutation=n}return P(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),lE=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Wm.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Wm.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:tg.EMPTY_BYTE_STRING;N(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return P(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),fE=P((function e(t){N(this,e),this.Jt=t}));function hE(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:dE(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Xk(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Wk(e,t.version.toTimestamp())}}(e.Jt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:vE(t.version)};else{if(!t.isUnknownDocument())return _m();r.unknownDocument={path:n.path.toArray(),version:vE(t.version)}}return r}function dE(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function vE(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function pE(e){var t=new Hm(e.seconds,e.nanoseconds);return Wm.fromTimestamp(t)}function yE(e,t){for(var n=(t.baseMutations||[]).map((function(t){return sw(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return sw(e.Jt,t)})),u=Hm.fromMillis(t.localWriteTimeMs);return new uE(t.batchId,u,n,o)}function mE(e){var t,n,r=pE(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?pE(e.lastLimboFreeSnapshotVersion):Wm.min();return void 0!==e.query.documents?(Cm(1===(n=e.query).documents.length),t=_b(gb(tw(n.documents[0])))):t=function(e){return _b(fw(e))}(e.query),new lE(t,e.targetId,0,e.lastListenSequenceNumber,r,i,tg.fromBase64String(e.resumeToken))}function gE(e,t){var n,r=vE(t.snapshotVersion),i=vE(t.lastLimboFreeSnapshotVersion);n=Xg(t.target)?cw(e.Jt,t.target):lw(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Yg(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function bE(e){var t=fw({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Cb(t,t.limit,"L"):t}function kE(e,t){return new cE(t.largestBatchId,sw(e.Jt,t.overlayMutation))}function wE(e,t){var n=t.path.lastSegment();return[e,ww(t.path.popLast()),n]}var EE=function(){function e(){N(this,e)}return P(e,[{key:"getBundleMetadata",value:function(e,t){return xE(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:pE(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return xE(e).put({bundleId:(n=t).id,createTime:vE($k(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return SE(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:bE(t.bundledQuery),readTime:pE(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return SE(e).put(function(e){return{name:e.name,readTime:vE($k(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function xE(e){return oE(e,"bundles")}function SE(e){return oE(e,"namedQueries")}var _E=function(){function e(t,n){N(this,e),this.M=t,this.userId=n}return P(e,[{key:"getOverlay",value:function(e,t){var n=this;return CE(e).get(wE(this.userId,t)).next((function(e){return e?kE(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new cE(t,a);i.push(r.Xt(e,o))})),$w.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(ww(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(CE(e).Qt("collectionPathOverlayIndex",i))})),$w.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Ik(),a=ww(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return CE(e).qt("collectionPathOverlayIndex",o).next((function(e){var t,n=k(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=kE(r.M,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Ik(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return CE(e).Wt({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=kE(a.M,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return CE(e).put(function(e,t,n){var r=v(wE(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:uw(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function CE(e){return oE(e,"documentOverlays")}var TE=function(){function e(){N(this,e)}return P(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(ig(e.integerValue));else if("doubleValue"in e){var n=ig(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),hg(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(ag(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?Pg(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):_m()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=k(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),vg.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function IE(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function NE(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=IE(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}TE.fe=new TE;var AE=function(){function e(){N(this,e),this.buffer=new Uint8Array(1024),this.position=0}return P(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=k(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=k(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=NE(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=NE(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Pe",value:function(){this.be(255),this.be(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.be(0),this.be(255)):255===t?(this.be(255),this.be(0)):this.be(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.be(0),this.be(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"be",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),PE=function(){function e(t){N(this,e),this.De=t}return P(e,[{key:"ue",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.Pe()}}]),e}(),RE=function(){function e(t){N(this,e),this.De=t}return P(e,[{key:"ue",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),DE=function(){function e(){N(this,e),this.De=new AE,this.Ce=new PE(this.De),this.xe=new RE(this.De)}return P(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),ME=function(){function e(t,n,r,i){N(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return P(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function OE(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=LE(e.arrayValue,t.arrayValue))?n:0!==(n=LE(e.directionalValue,t.directionalValue))?n:vg.comparator(e.documentKey,t.documentKey)}function LE(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var FE=function(){function e(t){N(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,r=k(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.S()?this.Fe=i:this.Oe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return P(e,[{key:"$e",value:function(e){var t=Bg(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=jg(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Fe){var a=n[r];if(!this.Le(this.Fe,a)||!this.Ue(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.Ue(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=k(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ue",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),VE=function(){function e(){N(this,e),this.qe=new UE}return P(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),$w.resolve()}},{key:"getCollectionParents",value:function(e,t){return $w.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return $w.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return $w.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return $w.resolve(null)}},{key:"getFieldIndex",value:function(e,t){return $w.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return $w.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return $w.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return $w.resolve()}},{key:"updateIndexEntries",value:function(e,t){return $w.resolve()}}]),e}(),UE=function(){function e(){N(this,e),this.index={}}return P(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new wk(Zm.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new wk(Zm.comparator)).toArray()}}]),e}(),BE=new Uint8Array(0),jE=function(){function e(t,n){N(this,e),this.user=t,this.databaseId=n,this.Ke=new UE,this.Ge=new mk((function(e){return Yg(e)}),(function(e,t){return Zg(e,t)})),this.uid=t.uid||""}return P(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ke.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ke.add(t)}));var a={collectionId:r,parent:ww(i)};return qE(e).put(a)}return $w.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Km(t),""],!1,!0);return qE(e).qt(r).next((function(e){var r,i=k(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Sw(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=KE(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=KE(e),r=HE(e),i=zE(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=zE(e),i=!0,a=new Map;return $w.forEach(this.Qe(t),(function(t){return n.getFieldIndex(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Pk(),o=[];return $w.forEach(a,(function(i,a){var u;wm("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Yg(t)));var s=function(e,t){var n=Bg(t);if(void 0===n)return null;var r,i=k(Jg(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=k(jg(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=k(Jg(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=k(jg(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?eb(e,o.fieldPath,e.startAt):tb(e,o.fieldPath,e.startAt);if(!u.value)return null;r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new fb(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=k(jg(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?tb(e,o.fieldPath,e.endAt):eb(e,o.fieldPath,e.endAt);if(!u.value)return null;r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new fb(r,i)}(a,i),h=n.je(i,a,l),d=n.je(i,a,f),v=n.We(i,a,c),p=n.ze(i.indexId,s,h,!!l&&l.inclusive,d,!!f&&f.inclusive,v);return $w.forEach(p,(function(n){return r.Gt(n,t.limit).next((function(t){t.forEach((function(t){var n=vg.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return $w.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}},{key:"ze",value:function(e,t,n,r,i,a,o){for(var u=this,c=(null!=t?t.length:1)*Math.max(null!=n?n.length:1,null!=i?i.length:1),l=c/(null!=t?t.length:1),f=[],h=function(c){var h=t?u.He(t[c/l]):BE,d=n?u.Je(e,h,n[c%l],r):u.Ye(e),v=i?u.Xe(e,h,i[c%l],a):u.Ye(e+1);f.push.apply(f,s(u.createRange(d,v,o.map((function(t){return u.Je(e,h,t,!0)})))))},d=0;d<c;++d)h(d);return f}},{key:"Je",value:function(e,t,n,r){var i=new ME(e,vg.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new ME(e,vg.empty(),t,n);return r?i.ke():i}},{key:"Ye",value:function(e){return new ME(e,vg.empty(),BE,BE)}},{key:"getFieldIndex",value:function(e,t){var n=new FE(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t=e.filter((function(e){return n.$e(e)}));return t.sort((function(e,t){return t.fields.length-e.fields.length})),t.length>0?t[0]:null}))}},{key:"Ze",value:function(e,t){var n,r=new DE,i=k(jg(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ne(a.kind);TE.fe.Zt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Se()}},{key:"He",value:function(e){var t=new DE;return TE.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"tn",value:function(e,t){var n=new DE;return TE.fe.Zt(Sg(this.databaseId,t),n.Ne(function(e){var t=jg(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Se()}},{key:"We",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new DE);var i,a=0,o=k(jg(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=k(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.en(t,s.fieldPath)&&Cg(c))r=this.nn(r,s,c);else{var h=f.Ne(s.kind);TE.fe.Zt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.sn(r)}},{key:"je",value:function(e,t,n){return null==n?null:this.We(e,t,n.position)}},{key:"sn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"nn",value:function(e,t,n){var r,i=s(e),a=[],o=k(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,c=r.value,l=k(i);try{for(l.s();!(u=l.n()).done;){var f=u.value,h=new DE;h.seed(f.Se()),TE.fe.Zt(c,h.Ne(t.kind)),a.push(h)}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"en",value:function(e,t){return!!e.filters.find((function(e){return e instanceof nb&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=KE(e),i=HE(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return $w.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new zg(t.sequenceNumber,new Wg(pE(t.readTime),new vg(Sw(t.documentKey)),t.largestBatchId)):zg.empty(),r=e.fields.map((function(e){var t=v(e,2),n=t[0],r=t[1];return new qg(Jm.fromServerFormat(n),r)}));return new Ug(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:qm(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=KE(e),a=HE(e);return this.rn(e).next((function(e){return i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return $w.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:vE(r.readTime),documentKey:ww(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return $w.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?$w.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),$w.forEach(a,(function(r){return n.on(e,t,r).next((function(t){var a=n.un(i,r);return t.isEqual(a)?$w.resolve():n.an(e,i,r,t,a)}))}))}))}))}},{key:"cn",value:function(e,t,n,r){return zE(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"hn",value:function(e,t,n,r){return zE(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(n,t.key),t.key.path.toArray()])}},{key:"on",value:function(e,t,n){var r=zE(e),i=new wk(OE);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.tn(n,t)])},(function(e,r){i=i.add(new ME(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"un",value:function(e,t){var n=new wk(OE),r=this.Ze(t,e);if(null==r)return n;var i=Bg(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Cg(a)){var o,u=k(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new ME(t.indexId,e.key,this.He(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new ME(t.indexId,e.key,BE,r));return n}},{key:"an",value:function(e,t,n,r,i){var a=this;wm("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=xk(a),s=xk(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=xk(o)):l?(i(u),u=xk(a)):(u=xk(a),s=xk(o))}}(r,i,OE,(function(r){o.push(a.cn(e,t,n,r))}),(function(r){o.push(a.hn(e,t,n,r))})),$w.waitFor(o)}},{key:"rn",value:function(e){var t=1;return HE(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return OE(e,t)})).filter((function(e,t,n){return!t||0!==OE(e,n[t-1])}));var r=[];r.push(e);var i,a=k(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=OE(o,e),s=OE(o,t);if(0===u)r[0]=e.ke();else if(u>0&&s<0)r.push(o),r.push(o.ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,BE,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,BE,[]]));return c}}]),e}();function qE(e){return oE(e,"collectionParents")}function zE(e){return oE(e,"indexEntries")}function KE(e){return oE(e,"indexConfiguration")}function HE(e){return oE(e,"indexState")}var WE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GE=function(){function e(t,n,r){N(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return P(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function QE(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Wt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Cm(1===u)})));var c,l=[],f=k(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Tw(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(v){f.e(v)}finally{f.f()}return $w.waitFor(a).next((function(){return l}))}function $E(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw _m();t=e.noDocument}return JSON.stringify(t).length}GE.DEFAULT_COLLECTION_PERCENTILE=10,GE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,GE.DEFAULT=new GE(41943040,GE.DEFAULT_COLLECTION_PERCENTILE,GE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),GE.DISABLED=new GE(-1,0,0);var YE=function(){function e(t,n,r,i){N(this,e),this.userId=t,this.M=n,this.indexManager=r,this.referenceDelegate=i,this.ln={}}return P(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return XE(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=JE(e),o=XE(e);return o.add({}).next((function(u){Cm("number"==typeof u);var s,c=new uE(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return uw(e.Jt,t)})),i=n.mutations.map((function(t){return uw(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,c),f=[],h=new wk((function(e,t){return qm(e.canonicalString(),t.canonicalString())})),d=k(r);try{for(d.s();!(s=d.n()).done;){var v=s.value,p=Tw(i.userId,v.key.path,u);h=h.add(v.key.path.popLast()),f.push(o.put(l)),f.push(a.put(p,Iw))}}catch(y){d.e(y)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.ln[u]=c.keys()})),$w.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return XE(e).get(t).next((function(e){return e?(Cm(e.userId===n.userId),yE(n.M,e)):null}))}},{key:"fn",value:function(e,t){var n=this;return this.ln[t]?$w.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.ln[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return XE(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Cm(t.batchId>=r),a=yE(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return XE(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return XE(e).qt("userMutationsIndex",n).next((function(e){return e.map((function(e){return yE(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Cw(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return JE(e).Wt({range:i},(function(r,i,o){var u=v(r,3),s=u[0],c=u[1],l=u[2],f=Sw(c);if(s===n.userId&&t.path.isEqual(f))return XE(e).get(l).next((function(e){if(!e)throw _m();Cm(e.userId===n.userId),a.push(yE(n.M,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new wk(qm),i=[];return t.forEach((function(t){var a=Cw(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=JE(e).Wt({range:o},(function(e,i,a){var o=v(e,3),u=o[0],s=o[1],c=o[2],l=Sw(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),$w.waitFor(i).next((function(){return n.dn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Cw(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new wk(qm);return JE(e).Wt({range:o},(function(e,t,a){var o=v(e,3),s=o[0],c=o[1],l=o[2],f=Sw(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.dn(e,u)}))}},{key:"dn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(XE(e).get(t).next((function(e){if(null===e)throw _m();Cm(e.userId===n.userId),r.push(yE(n.M,e))})))})),$w.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return QE(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n._n(t.batchId)})),$w.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"_n",value:function(e){delete this.ln[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return $w.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return JE(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Sw(e[1]);i.push(a)}else r.done()})).next((function(){Cm(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return ZE(e,this.userId,t)}},{key:"wn",value:function(e){var t=this;return ex(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return Cm(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function ZE(e,t,n){var r=Cw(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return JE(e).Wt({range:a,jt:!0},(function(e,n,r){var a=v(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function XE(e){return oE(e,"mutations")}function JE(e){return oE(e,"documentMutations")}function ex(e){return oE(e,"mutationQueues")}var tx=function(){function e(t){N(this,e),this.mn=t}return P(e,[{key:"next",value:function(){return this.mn+=2,this.mn}}],[{key:"gn",value:function(){return new e(0)}},{key:"yn",value:function(){return new e(-1)}}]),e}(),nx=function(){function e(t,n){N(this,e),this.referenceDelegate=t,this.M=n}return P(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.pn(e).next((function(n){var r=new tx(n.highestTargetId);return n.highestTargetId=r.next(),t.In(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.pn(e).next((function(e){return Wm.fromTimestamp(new Hm(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.pn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.pn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.In(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Tn(e,t).next((function(){return n.pn(e).next((function(r){return r.targetCount+=1,n.En(t,r),n.In(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Tn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return rx(e).delete(t.targetId)})).next((function(){return n.pn(e)})).next((function(t){return Cm(t.targetCount>0),t.targetCount-=1,n.In(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return rx(e).Wt((function(o,u){var s=mE(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return $w.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return rx(e).Wt((function(e,n){var r=mE(n);t(r)}))}},{key:"pn",value:function(e){return ix(e).get("targetGlobalKey").next((function(e){return Cm(null!==e),e}))}},{key:"In",value:function(e,t){return ix(e).put("targetGlobalKey",t)}},{key:"Tn",value:function(e,t){return rx(e).put(gE(this.M,t))}},{key:"En",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.pn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Yg(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return rx(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=mE(n);Zg(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=ax(e);return t.forEach((function(t){var o=ww(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),$w.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=ax(e);return $w.forEach(t,(function(t){var a=ww(t.path);return $w.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=ax(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=ax(e),i=Pk();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=Sw(e[1]),a=new vg(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=ww(t.path),r=IDBKeyRange.bound([n],[Km(n)],!1,!0),i=0;return ax(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=v(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return rx(e).get(t).next((function(e){return e?mE(e):null}))}}]),e}();function rx(e){return oE(e,"targets")}function ix(e){return oE(e,"targetGlobal")}function ax(e){return oE(e,"targetDocuments")}function ox(e){return ux.apply(this,arguments)}function ux(){return ux=f(D().mark((function e(t){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Im.FAILED_PRECONDITION&&t.message===Gw){e.next=2;break}throw t;case 2:wm("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),ux.apply(this,arguments)}function sx(e,t){var n=v(e,2),r=n[0],i=n[1],a=v(t,2),o=a[0],u=a[1],s=qm(r,o);return 0===s?qm(i,u):s}var cx=function(){function e(t){N(this,e),this.An=t,this.buffer=new wk(sx),this.Rn=0}return P(e,[{key:"Pn",value:function(){return++this.Rn}},{key:"bn",value:function(e){var t=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();sx(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),lx=function(){function e(t,n){N(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Vn=!1,this.vn=null}return P(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}},{key:"stop",value:function(){this.vn&&(this.vn.cancel(),this.vn=null)}},{key:"started",get:function(){return null!==this.vn}},{key:"Sn",value:function(e){var t=this,n=this.Vn?3e5:6e4;wm("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,f(D().mark((function n(){return D().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.vn=null,t.Vn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!eE(n.t0)){n.next=12;break}wm("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,ox(n.t0);case 14:return n.next=16,t.Sn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),fx=function(){function e(t,n){N(this,e),this.Dn=t,this.params=n}return P(e,[{key:"calculateTargetCount",value:function(e,t){return this.Dn.Cn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return $w.resolve(Um.A);var r=new cx(t);return this.Dn.forEachTarget(e,(function(e){return r.bn(e.sequenceNumber)})).next((function(){return n.Dn.xn(e,(function(e){return r.bn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Dn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Dn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(wm("LruGarbageCollector","Garbage collection skipped; disabled"),$w.resolve(WE)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(wm("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),WE):n.Nn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Dn.getCacheSize(e)}},{key:"Nn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(wm("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),km()<=Zf.DEBUG&&wm("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),$w.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),hx=function(){function e(t,n){N(this,e),this.db=t,this.garbageCollector=function(e,t){return new fx(e,t)}(this,n)}return P(e,[{key:"Cn",value:function(e){var t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"kn",value:function(e){var t=0;return this.xn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"xn",value:function(e,t){return this.Mn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return dx(e,n)}},{key:"removeReference",value:function(e,t,n){return dx(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return dx(e,t)}},{key:"On",value:function(e,t){return function(e,t){var n=!1;return ex(e).zt((function(r){return ZE(e,r,t).next((function(e){return e&&(n=!0),$w.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Mn(e,(function(o,u){if(u<=t){var s=n.On(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Wm.min()),ax(e).delete([0,ww(o.path)])}))}));i.push(s)}})).next((function(){return $w.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return dx(e,t)}},{key:"Mn",value:function(e,t){var n,r=ax(e),i=Um.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=v(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Um.A&&t(new vg(Sw(n)),i),i=s,n=u):i=Um.A})).next((function(){i!==Um.A&&t(new vg(Sw(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function dx(e,t){return ax(e).put(function(e,t){return{targetId:0,path:ww(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var vx=function(){function e(){N(this,e),this.changes=new mk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return P(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Vg.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?$w.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),px=function(){function e(t){N(this,e),this.M=t}return P(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return gx(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return gx(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],dE(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Fn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Vg.newInvalidDocument(t);return gx(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(bx(t))},(function(e,i){r=n.$n(t,i)})).next((function(){return r}))}},{key:"Bn",value:function(e,t){var n=this,r={size:0,document:Vg.newInvalidDocument(t)};return gx(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(bx(t))},(function(e,i){r={document:n.$n(t,i),size:$E(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=_k();return this.Ln(e,t,(function(e,t){var i=n.$n(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Un",value:function(e,t){var n=this,r=_k(),i=new gk(vg.comparator);return this.Ln(e,t,(function(e,t){var a=n.$n(e,t);r=r.insert(e,a),i=i.insert(e,$E(t))})).next((function(){return{documents:r,qn:i}}))}},{key:"Ln",value:function(e,t,n){if(t.isEmpty())return $w.resolve();var r=new wk(wx);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(bx(r.first()),bx(r.last())),a=r.getIterator(),o=a.getNext();return gx(e).Wt({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=vg.fromSegments([].concat(s(t.prefixPath),[t.collectionGroup,t.documentId]));o&&wx(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.Ut(bx(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),dE(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return gx(e).qt(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=_k(),i=k(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.$n(vg.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=_k(),o=kx(t,n),u=kx(t,Wg.max());return gx(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.$n(vg.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new yx(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return mx(e).get("remoteDocumentGlobalKey").next((function(e){return Cm(!!e),e}))}},{key:"Fn",value:function(e,t){return mx(e).put("remoteDocumentGlobalKey",t)}},{key:"$n",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=aw(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=vg.fromSegments(t.noDocument.path),i=pE(t.noDocument.readTime);n=Vg.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return _m();var a=vg.fromSegments(t.unknownDocument.path),o=pE(t.unknownDocument.version);n=Vg.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Hm(e[0],e[1]);return Wm.fromTimestamp(t)}(t.readTime)),n}(this.M,t);if(!n.isNoDocument()||!n.version.isEqual(Wm.min()))return n}return Vg.newInvalidDocument(e)}}]),e}(),yx=function(e){_(n,e);var t=I(n);function n(e,r){var i;return N(this,n),(i=t.call(this)).Kn=e,i.trackRemovals=r,i.Gn=new mk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return P(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new wk((function(e,t){return qm(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Gn.get(a);if(n.push(t.Kn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=hE(t.Kn.M,o);i=i.add(a.path.popLast());var c=$E(s);r+=c-u.size,n.push(t.Kn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=hE(t.Kn.M,o.convertToNoDocument(Wm.min()));n.push(t.Kn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Kn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Kn.updateMetadata(e,r)),$w.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Kn.Bn(e,t).next((function(e){return n.Gn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Kn.Un(e,t).next((function(e){var t=e.documents;return e.qn.forEach((function(e,r){n.Gn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(vx);function mx(e){return oE(e,"remoteDocumentGlobal")}function gx(e){return oE(e,"remoteDocumentsV14")}function bx(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function kx(e,t){var n=t.documentKey.path.toArray();return[e,dE(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function wx(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=qm(n[a],r[a]))return i;return(i=qm(n.length,r.length))||((i=qm(n[n.length-2],r[r.length-2]))||qm(n[n.length-1],r[r.length-1]))}var Ex=function(){function e(t){N(this,e),this.M=t}return P(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new Yw("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",_w,{unique:!0}),e.createObjectStore("documentMutations")}(e),xx(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=$w.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),xx(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Wm.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").qt().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",_w,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return $w.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Qn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.jn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Wn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.zn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Hn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Bw});t.createIndex("collectionPathOverlayIndex",jw,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",qw,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Nw});t.createIndex("documentKeyIndex",Aw),t.createIndex("collectionGroupIndex",Pw)}(e)})).next((function(){return i.Jn(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Lw}).createIndex("sequenceNumberIndex",Fw,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Vw}).createIndex("documentKeyIndex",Uw,{unique:!1})}(e)}))),o}},{key:"jn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=$E(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Qn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.qt().next((function(n){return $w.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",i).next((function(r){return $w.forEach(r,(function(r){Cm(r.userId===n.userId);var i=yE(t.M,r);return QE(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Wn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new Zm(n),o=function(e){return[0,ww(e)]}(a);r.push(t.get(o).next((function(n){return n?$w.resolve():function(n){return t.put({targetId:0,path:ww(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return $w.waitFor(r)}))}))}},{key:"zn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Ow});var n=t.store("collectionParents"),r=new UE,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:ww(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new Zm(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=v(e,3),r=(n[0],n[1]),a=(n[2],Sw(r));return i(a.popLast())}))}))}},{key:"Hn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=mE(r),a=gE(t.M,i);return n.put(a)}))}},{key:"Jn",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Wt((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new vg(Zm.fromString(i.document.name).popFirst(5)):i.noDocument?vg.fromSegments(i.noDocument.path):i.unknownDocument?vg.fromSegments(i.unknownDocument.path):_m()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return $w.waitFor(r)}))}}]),e}();function xx(e){e.createObjectStore("targetDocuments",{keyPath:Dw}).createIndex("documentTargetsIndex",Mw,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Rw,{unique:!0}),e.createObjectStore("targetGlobal")}var Sx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",_x=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:13;if(N(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Yn=a,this.window=o,this.document=u,this.Xn=c,this.Zn=l,this.ts=f,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=function(e){return Promise.resolve()},!e.vt())throw new Nm(Im.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new hx(this,i),this.hs=n+"main",this.M=new fE(s),this.ls=new Zw(this.hs,this.ts,new Ex(this.M)),this.fs=new nx(this.referenceDelegate,this.M),this.ds=function(e){return new px(e)}(this.M),this._s=new EE,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===l&&Em("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return P(e,[{key:"start",value:function(){var e=this;return this.gs().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Nm(Im.FAILED_PRECONDITION,Sx);return e.ys(),e.ps(),e.Is(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.fs.getHighestSequenceNumber(t)}))})).then((function(t){e.es=new Um(t,e.Xn)})).then((function(){e.ns=!0})).catch((function(t){return e.ls&&e.ls.close(),Promise.reject(t)}))}},{key:"Ts",value:function(e){var t=this;return this.cs=function(){var n=f(D().mark((function n(r){return D().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ls.Ot(function(){var t=f(D().mark((function t(n){return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget(f(D().mark((function e(){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.gs();case 4:case"end":return e.stop()}}),e)})))))}},{key:"gs",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Tx(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Es(t).next((function(t){t||(e.isPrimary=!1,e.Yn.enqueueRetryable((function(){return e.cs(!1)})))}))})).next((function(){return e.As(t)})).next((function(n){return e.isPrimary&&!n?e.Rs(t).next((function(){return!1})):!!n&&e.Ps(t).next((function(){return!0}))}))})).catch((function(t){if(eE(t))return wm("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return wm("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Yn.enqueueRetryable((function(){return e.cs(t)})),e.isPrimary=t}))}},{key:"Es",value:function(e){var t=this;return Cx(e).get("owner").next((function(e){return $w.resolve(t.bs(e))}))}},{key:"Vs",value:function(e){return Tx(e).delete(this.clientId)}},{key:"vs",value:function(){var e=f(D().mark((function e(){var t,n,r,i,a=this;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Ss(this.us,18e5)){e.next=6;break}return this.us=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=oE(e,"clientMetadata");return t.qt().next((function(e){var n=a.Ds(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return $w.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ws){n=k(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ws.removeItem(this.Cs(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Is",value:function(){var e=this;this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.gs().then((function(){return e.vs()})).then((function(){return e.Is()}))}))}},{key:"bs",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"As",value:function(e){var t=this;return this.Zn?$w.resolve(!0):Cx(e).get("owner").next((function(n){if(null!==n&&t.Ss(n.leaseTimestampMs,5e3)&&!t.xs(n.ownerId)){if(t.bs(n)&&t.networkEnabled)return!0;if(!t.bs(n)){if(!n.allowTabSynchronization)throw new Nm(Im.FAILED_PRECONDITION,Sx);return!1}}return!(!t.networkEnabled||!t.inForeground)||Tx(e).qt().next((function(e){return void 0===t.Ds(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&wm("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=f(D().mark((function e(){var t=this;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ns=!1,this.Ns(),this.os&&(this.os.cancel(),this.os=null),this.ks(),this.Ms(),e.next=7,this.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new aE(e,Um.A);return t.Rs(n).next((function(){return t.Vs(n)}))}));case 7:this.ls.close(),this.Os();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ds",value:function(e,t){var n=this;return e.filter((function(e){return n.Ss(e.updateTimeMs,t)&&!n.xs(e.clientId)}))}},{key:"Fs",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Tx(t).qt().next((function(t){return e.Ds(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.ns}},{key:"getMutationQueue",value:function(e,t){return YE.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getIndexManager",value:function(e){return new jE(e,this.M.Jt.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return _E.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;wm("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=14===(i=this.ts)?Ww:13===i?Hw:12===i?Kw:11===i?zw:void _m();return this.ls.runTransaction(e,o,u,(function(i){return a=new aE(i,r.es?r.es.next():Um.A),"readwrite-primary"===t?r.Es(a).next((function(e){return!!e||r.As(a)})).next((function(t){if(!t)throw Em("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Yn.enqueueRetryable((function(){return r.cs(!1)})),new Nm(Im.FAILED_PRECONDITION,Gw);return n(a)})).next((function(e){return r.Ps(a).next((function(){return e}))})):r.$s(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"$s",value:function(e){var t=this;return Cx(e).get("owner").next((function(e){if(null!==e&&t.Ss(e.leaseTimestampMs,5e3)&&!t.xs(e.ownerId)&&!t.bs(e)&&!(t.Zn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Nm(Im.FAILED_PRECONDITION,Sx)}))}},{key:"Ps",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Cx(e).put("owner",t)}},{key:"Rs",value:function(e){var t=this,n=Cx(e);return n.get("owner").next((function(e){return t.bs(e)?(wm("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):$w.resolve()}))}},{key:"Ss",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Em("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ys",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=function(){e.Yn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.gs()}))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}},{key:"ks",value:function(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}},{key:"ps",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=function(){t.Ns(),Nf()&&navigator.appVersion.match(/Version\/1[45]/)&&t.Yn.enterRestrictedMode(!0),t.Yn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ss))}},{key:"Ms",value:function(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}},{key:"xs",value:function(e){var t;try{var n=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return wm("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Em("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ns",value:function(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(md){Em("Failed to set zombie client id.",md)}}},{key:"Os",value:function(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(md){}}},{key:"Cs",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return Zw.vt()}}]),e}();function Cx(e){return oE(e,"owner")}function Tx(e){return oE(e,"clientMetadata")}function Ix(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Nx=function(){function e(t,n,r){N(this,e),this.ds=t,this.Bs=n,this.indexManager=r}return P(e,[{key:"Ls",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Us(e,t,r)}))}},{key:"Us",value:function(e,t,n){return this.ds.getEntry(e,t).next((function(e){var t,r=k(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"qs",value:function(e,t){e.forEach((function(e,n){var r,i=k(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Ks",value:function(e,t){var n=this;return this.ds.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.qs(t,e)}))}},{key:"Qs",value:function(e,t,n){return function(e){return vg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.js(e,t.path):xb(t)?this.Ws(e,t,n):this.zs(e,t,n)}},{key:"js",value:function(e,t){return this.Ls(e,new vg(t)).next((function(e){var t=Tk();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ws",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Tk();return this.indexManager.getCollectionParents(e,i).next((function(o){return $w.forEach(o,(function(o){var u=function(e,t){return new yb(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.zs(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"zs",value:function(e,t,n){var r,i=this;return this.ds.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.Bs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=k(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=k(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,c=r.get(s);null==c&&(c=Vg.newInvalidDocument(s),r=r.insert(s,c)),tk(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(s))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){Ab(t,n)||(r=r.remove(e))})),r}))}}]),e}(),Ax=function(){function e(t,n,r,i){N(this,e),this.targetId=t,this.fromCache=n,this.Hs=r,this.Js=i}return P(e,null,[{key:"Ys",value:function(t,n){var r,i=Pk(),a=Pk(),o=k(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Px=function(){function e(){N(this,e)}return P(e,[{key:"Xs",value:function(e){this.Zs=e}},{key:"Qs",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Wm.min())?this.ti(e,t):this.Zs.Ks(e,r).next((function(a){var o=i.ei(t,a);return(bb(t)||kb(t))&&i.ni(t.limitType,o,r,n)?i.ti(e,t):(km()<=Zf.DEBUG&&wm("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Nb(t)),i.Zs.Qs(e,t,Kg(n,-1)).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"ei",value:function(e,t){var n=new wk(Rb(e));return t.forEach((function(t,r){Ab(e,r)&&(n=n.add(r))})),n}},{key:"ni",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"ti",value:function(e,t){return km()<=Zf.DEBUG&&wm("QueryEngine","Using full collection scan to execute query:",Nb(t)),this.Zs.Qs(e,t,Wg.min())}}]),e}(),Rx=function(){function e(t,n,r,i){N(this,e),this.persistence=t,this.si=n,this.M=i,this.ii=new gk(qm),this.ri=new mk((function(e){return Yg(e)}),Zg),this.oi=new Map,this.ui=t.getRemoteDocumentCache(),this.fs=t.getTargetCache(),this._s=t.getBundleCache(),this.ai(r)}return P(e,[{key:"ai",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new Nx(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ii)}))}}]),e}();function Dx(e,t,n,r){return new Rx(e,t,n,r)}function Mx(e,t){return Ox.apply(this,arguments)}function Ox(){return Ox=f(D().mark((function e(t,n){var r;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tm(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.Bs.getAllMutationBatches(e).next((function(i){return t=i,r.ai(n),r.Bs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Pk(),s=k(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=k(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){s.e(b)}finally{s.f()}var d,v=k(n);try{for(v.s();!(d=v.n()).done;){var p=d.value;o.push(p.batchId);var y,m=k(p.mutations);try{for(m.s();!(y=m.n()).done;){var g=y.value;u=u.add(g.key)}}catch(b){m.e(b)}finally{m.f()}}}catch(b){v.e(b)}finally{v.f()}return r.ci.Ks(e,u).next((function(e){return{hi:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Ox.apply(this,arguments)}function Lx(e,t){var n=Tm(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=$w.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Cm(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.Bs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.ci.Ks(e,r)}))}))}function Fx(e){var t=Tm(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.fs.getLastRemoteSnapshotVersion(e)}))}function Vx(e,t){var n=Tm(e),r=t.snapshotVersion,i=n.ii;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.ui.newChangeBuffer({trackRemovals:!0});i=n.ii;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.fs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.fs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(tg.EMPTY_BYTE_STRING,Wm.min()).withLastLimboFreeSnapshotVersion(Wm.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.fs.updateTargetData(e,c))}}));var u=_k();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Ux(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(Wm.min())){var s=n.fs.getLastRemoteSnapshotVersion(e).next((function(t){return n.fs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return $w.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.ci.Gs(e,u)})).next((function(){return u}))})).then((function(e){return n.ii=i,e}))}function Ux(e,t,n){var r=Pk();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=_k();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(Wm.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):wm("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function Bx(e,t){var n=Tm(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Bs.getNextMutationBatchAfterBatchId(e,t)}))}function jx(e,t){var n=Tm(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.fs.getTargetData(e,t).next((function(i){return i?(r=i,$w.resolve(r)):n.fs.allocateTargetId(e).next((function(i){return r=new lE(t,i,0,e.currentSequenceNumber),n.fs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ii.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ii=n.ii.insert(e.targetId,e),n.ri.set(t,e.targetId)),e}))}function qx(e,t,n){return zx.apply(this,arguments)}function zx(){return zx=f(D().mark((function e(t,n,r){var i,a,o;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Tm(t),a=i.ii.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),eE(e.t1)){e.next=12;break}throw e.t1;case 12:wm("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ii=i.ii.remove(n),i.ri.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),zx.apply(this,arguments)}function Kx(e,t,n){var r=Tm(e),i=Wm.min(),a=Pk();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Tm(e),i=r.ri.get(n);return void 0!==i?$w.resolve(r.ii.get(i)):r.fs.getTargetData(t,n)}(r,e,_b(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.si.Qs(e,t,n?i:Wm.min(),n?a:Pk())})).next((function(e){return Gx(r,Pb(t),e),{documents:e,li:a}}))}))}function Hx(e,t){var n=Tm(e),r=Tm(n.fs),i=n.ii.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function Wx(e,t){var n=Tm(e),r=n.oi.get(t)||Wm.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.ui.getAllFromCollectionGroup(e,t,Kg(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Gx(n,t,e),e}))}function Gx(e,t,n){var r=Wm.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.oi.set(t,r)}function Qx(e,t,n,r){return $x.apply(this,arguments)}function $x(){return $x=f(D().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,v;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Tm(t),o=Pk(),u=_k(),s=k(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.fi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.di(l)).setReadTime(n._i(l.metadata.readTime)),u=u.insert(f,h)}catch(p){s.e(p)}finally{s.f()}return d=a.ui.newChangeBuffer({trackRemovals:!0}),e.next=7,jx(a,function(e){return _b(gb(Zm.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return v=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Ux(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.fs.removeMatchingKeysForTargetId(e,v.targetId).next((function(){return a.fs.addMatchingKeys(e,o,v.targetId)})).next((function(){return a.ci.Gs(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),$x.apply(this,arguments)}function Yx(e,t){return Zx.apply(this,arguments)}function Zx(){return Zx=f(D().mark((function e(t,n){var r,i,a,o=arguments;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Pk(),e.next=3,jx(t,_b(bE(n.bundledQuery)));case 3:return i=e.sent,a=Tm(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=$k(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a._s.saveNamedQuery(e,n);var o=i.withResumeToken(tg.EMPTY_BYTE_STRING,t);return a.ii=a.ii.insert(o.targetId,o),a.fs.updateTargetData(e,o).next((function(){return a.fs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.fs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a._s.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Zx.apply(this,arguments)}var Xx=function(){function e(t){N(this,e),this.M=t,this.wi=new Map,this.mi=new Map}return P(e,[{key:"getBundleMetadata",value:function(e,t){return $w.resolve(this.wi.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.wi.set(t.id,{id:(n=t).id,version:n.version,createTime:$k(n.createTime)}),$w.resolve()}},{key:"getNamedQuery",value:function(e,t){return $w.resolve(this.mi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.mi.set(t.name,function(e){return{name:e.name,query:bE(e.bundledQuery),readTime:$k(e.readTime)}}(t)),$w.resolve()}}]),e}(),Jx=function(){function e(){N(this,e),this.overlays=new gk(vg.comparator),this.gi=new Map}return P(e,[{key:"getOverlay",value:function(e,t){return $w.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),$w.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.gi.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.gi.delete(n)),$w.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Ik(),i=t.length+1,a=new vg(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return $w.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new gk((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Ik(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Ik(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return $w.resolve(s)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.gi.get(r.largestBatchId).delete(n.key);this.gi.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new cE(t,n));var a=this.gi.get(t);void 0===a&&(a=Pk(),this.gi.set(t,a)),this.gi.set(t,a.add(n.key))}}}]),e}(),eS=function(){function e(){N(this,e),this.yi=new wk(tS.pi),this.Ii=new wk(tS.Ti)}return P(e,[{key:"isEmpty",value:function(){return this.yi.isEmpty()}},{key:"addReference",value:function(e,t){var n=new tS(e,t);this.yi=this.yi.add(n),this.Ii=this.Ii.add(n)}},{key:"Ei",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ai(new tS(e,t))}},{key:"Ri",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Pi",value:function(e){var t=this,n=new vg(new Zm([])),r=new tS(n,e),i=new tS(n,e+1),a=[];return this.Ii.forEachInRange([r,i],(function(e){t.Ai(e),a.push(e.key)})),a}},{key:"bi",value:function(){var e=this;this.yi.forEach((function(t){return e.Ai(t)}))}},{key:"Ai",value:function(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}},{key:"Vi",value:function(e){var t=new vg(new Zm([])),n=new tS(t,e),r=new tS(t,e+1),i=Pk();return this.Ii.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new tS(e,0),n=this.yi.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),tS=function(){function e(t,n){N(this,e),this.key=t,this.vi=n}return P(e,null,[{key:"pi",value:function(e,t){return vg.comparator(e.key,t.key)||qm(e.vi,t.vi)}},{key:"Ti",value:function(e,t){return qm(e.vi,t.vi)||vg.comparator(e.key,t.key)}}]),e}(),nS=function(){function e(t,n){N(this,e),this.indexManager=t,this.referenceDelegate=n,this.Bs=[],this.Si=1,this.Di=new wk(tS.pi)}return P(e,[{key:"checkEmpty",value:function(e){return $w.resolve(0===this.Bs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.Si;this.Si++,this.Bs.length>0&&this.Bs[this.Bs.length-1];var a=new uE(i,t,n,r);this.Bs.push(a);var o,u=k(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Di=this.Di.add(new tS(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return $w.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return $w.resolve(this.Ci(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.xi(n),i=r<0?0:r;return $w.resolve(this.Bs.length>i?this.Bs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return $w.resolve(0===this.Bs.length?-1:this.Si-1)}},{key:"getAllMutationBatches",value:function(e){return $w.resolve(this.Bs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new tS(t,0),i=new tS(t,Number.POSITIVE_INFINITY),a=[];return this.Di.forEachInRange([r,i],(function(e){var t=n.Ci(e.vi);a.push(t)})),$w.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new wk(qm);return t.forEach((function(e){var t=new tS(e,0),i=new tS(e,Number.POSITIVE_INFINITY);n.Di.forEachInRange([t,i],(function(e){r=r.add(e.vi)}))})),$w.resolve(this.Ni(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;vg.isDocumentKey(i)||(i=i.child(""));var a=new tS(new vg(i),0),o=new wk(qm);return this.Di.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.vi)),!0)}),a),$w.resolve(this.Ni(o))}},{key:"Ni",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Ci(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Cm(0===this.ki(t.batchId,"removed")),this.Bs.shift();var r=this.Di;return $w.forEach(t.mutations,(function(i){var a=new tS(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Di=r}))}},{key:"_n",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new tS(t,0),r=this.Di.firstAfterOrEqual(n);return $w.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.Bs.length,$w.resolve()}},{key:"ki",value:function(e,t){return this.xi(e)}},{key:"xi",value:function(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}},{key:"Ci",value:function(e){var t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}]),e}(),rS=function(){function e(t){N(this,e),this.Mi=t,this.docs=new gk(vg.comparator),this.size=0}return P(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Mi(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return $w.resolve(n?n.document.mutableCopy():Vg.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=_k();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Vg.newInvalidDocument(e))})),$w.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=_k(),i=new vg(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||Gg(Hg(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return $w.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){_m()}},{key:"Oi",value:function(e,t){return $w.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new iS(this)}},{key:"getSize",value:function(e){return $w.resolve(this.size)}}]),e}(),iS=function(e){_(n,e);var t=I(n);function n(e){var r;return N(this,n),(r=t.call(this)).Kn=e,r}return P(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Kn.addEntry(e,i)):t.Kn.removeEntry(r)})),$w.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Kn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Kn.getEntries(e,t)}}]),n}(vx),aS=function(){function e(t){N(this,e),this.persistence=t,this.Fi=new mk((function(e){return Yg(e)}),Zg),this.lastRemoteSnapshotVersion=Wm.min(),this.highestTargetId=0,this.$i=0,this.Bi=new eS,this.targetCount=0,this.Li=tx.gn()}return P(e,[{key:"forEachTarget",value:function(e,t){return this.Fi.forEach((function(e,n){return t(n)})),$w.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return $w.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return $w.resolve(this.$i)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Li.next(),$w.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$i&&(this.$i=t),$w.resolve()}},{key:"Tn",value:function(e){this.Fi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Li=new tx(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Tn(t),this.targetCount+=1,$w.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Tn(t),$w.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,$w.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Fi.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Fi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),$w.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return $w.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Fi.get(t)||null;return $w.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Bi.Ei(t,n),$w.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Bi.Ri(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),$w.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Bi.Pi(t),$w.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Bi.Vi(t);return $w.resolve(n)}},{key:"containsKey",value:function(e,t){return $w.resolve(this.Bi.containsKey(t))}}]),e}(),oS=function(){function e(t,n){var r=this;N(this,e),this.Ui={},this.overlays={},this.es=new Um(0),this.ns=!1,this.ns=!0,this.referenceDelegate=t(this),this.fs=new aS(this),this.indexManager=new VE,this.ds=new rS((function(e){return r.referenceDelegate.qi(e)})),this.M=new fE(n),this._s=new Xx(this.M)}return P(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.ns=!1,Promise.resolve()}},{key:"started",get:function(){return this.ns}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Jx,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ui[e.toKey()];return n||(n=new nS(t,this.referenceDelegate),this.Ui[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;wm("MemoryPersistence","Starting transaction:",e);var i=new uS(this.es.next());return this.referenceDelegate.Ki(),n(i).next((function(e){return r.referenceDelegate.Gi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Qi",value:function(e,t){return $w.or(Object.values(this.Ui).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),uS=function(e){_(n,e);var t=I(n);function n(e){var r;return N(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return P(n)}(Qw),sS=function(){function e(t){N(this,e),this.persistence=t,this.ji=new eS,this.Wi=null}return P(e,[{key:"Hi",get:function(){if(this.Wi)return this.Wi;throw _m()}},{key:"addReference",value:function(e,t,n){return this.ji.addReference(n,t),this.Hi.delete(n.toString()),$w.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ji.removeReference(n,t),this.Hi.add(n.toString()),$w.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Hi.add(t.toString()),$w.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ji.Pi(t.targetId).forEach((function(e){return n.Hi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Hi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ki",value:function(){this.Wi=new Set}},{key:"Gi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $w.forEach(this.Hi,(function(r){var i=vg.fromPath(r);return t.Ji(e,i).next((function(e){e||n.removeEntry(i,Wm.min())}))})).next((function(){return t.Wi=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ji(e,t).next((function(e){e?n.Hi.delete(t.toString()):n.Hi.add(t.toString())}))}},{key:"qi",value:function(e){return 0}},{key:"Ji",value:function(e,t){var n=this;return $w.or([function(){return $w.resolve(n.ji.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Qi(e,t)}])}}],[{key:"zi",value:function(t){return new e(t)}}]),e}();function cS(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function lS(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function fS(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var hS=function(){function e(t,n,r,i){N(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return P(e,[{key:"Xi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Yi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Nm(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Em("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),dS=function(){function e(t,n,r){N(this,e),this.targetId=t,this.state=n,this.error=r}return P(e,[{key:"Xi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Yi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Nm(i.error.code,i.error.message))),a?new e(t,i.state,r):(Em("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),vS=function(){function e(t,n){N(this,e),this.clientId=t,this.activeTargetIds=n}return P(e,null,[{key:"Yi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Dk(),o=0;i&&o<r.activeTargetIds.length;++o)i=dg(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Em("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),pS=function(){function e(t,n){N(this,e),this.clientId=t,this.onlineState=n}return P(e,null,[{key:"Yi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Em("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),yS=function(){function e(){N(this,e),this.activeTargetIds=Dk()}return P(e,[{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"tr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Xi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),mS=function(){function e(t,n,r,i,a){N(this,e),this.window=t,this.Yn=n,this.persistenceKey=r,this.er=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new gk(qm),this.started=!1,this.rr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ur=cS(this.persistenceKey,this.er),this.ar=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ir=this.ir.insert(this.er,new yS),this.cr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.hr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.lr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.dr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this._r=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}return P(e,[{key:"start",value:function(){var e=f(D().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Fs();case 2:t=e.sent,n=k(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.er){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(cS(this.persistenceKey,i)))&&(o=vS.Yi(i,a))&&(this.ir=this.ir.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.wr(),(u=this.storage.getItem(this.dr))&&(s=this.mr(u))&&this.gr(s),c=k(this.rr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.sr(f)}catch(d){c.e(d)}finally{c.f()}this.rr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ar,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.yr(this.ir)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ir.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.pr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.pr(e,t,n),this.Ir(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(fS(this.persistenceKey,e));if(n){var r=dS.Yi(e,n);r&&(t=r.state)}}return this.Tr.Zi(e),this.wr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Tr.tr(e),this.wr()}},{key:"isLocalQueryTarget",value:function(e){return this.Tr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(fS(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Er(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Ir(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Ar(e)}},{key:"notifyBundleLoaded",value:function(e){this.Rr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return wm("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){wm("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){wm("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"sr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(wm("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ur)return void Em("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable(f(D().mark((function e(){var r,i,a,o,u,s,c;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.cr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Pr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Vr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.hr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Sr(a));case 16:e.next=41;break;case 18:if(!t.lr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Dr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Cr(o));case 23:e.next=41;break;case 25:if(n.key!==t.dr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.mr(n.newValue))){e.next=30;break}return e.abrupt("return",t.gr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ar){e.next=37;break}s=function(e){var t=Um.A;if(null!=e)try{var n=JSON.parse(e);Cm("number"==typeof n),t=n}catch(e){Em("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Um.A&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t._r){e.next=41;break}return c=t.Nr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.kr(e)})));case 41:e.next=44;break;case 43:t.rr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Tr",get:function(){return this.ir.get(this.er)}},{key:"wr",value:function(){this.setItem(this.ur,this.Tr.Xi())}},{key:"pr",value:function(e,t,n){var r=new hS(this.currentUser,e,t,n),i=lS(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Xi())}},{key:"Ir",value:function(e){var t=lS(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Ar",value:function(e){var t={clientId:this.er,onlineState:e};this.storage.setItem(this.dr,JSON.stringify(t))}},{key:"Er",value:function(e,t,n){var r=fS(this.persistenceKey,e),i=new dS(e,t,n);this.setItem(r,i.Xi())}},{key:"Rr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}},{key:"Pr",value:function(e){var t=this.cr.exec(e);return t?t[1]:null}},{key:"Vr",value:function(e,t){var n=this.Pr(e);return vS.Yi(n,t)}},{key:"vr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return hS.Yi(new mm(i),r,t)}},{key:"Dr",value:function(e,t){var n=this.lr.exec(e),r=Number(n[1]);return dS.Yi(r,t)}},{key:"mr",value:function(e){return pS.Yi(e)}},{key:"Nr",value:function(e){return JSON.parse(e)}},{key:"Sr",value:function(){var e=f(D().mark((function e(t){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Mr(t.batchId,t.state,t.error));case 2:wm("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Cr",value:function(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.ir.insert(e,t):this.ir.remove(e),i=this.yr(this.ir),a=this.yr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Fr(o,u).then((function(){n.ir=r}))}},{key:"gr",value:function(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"yr",value:function(e){var t=Dk();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),gS=function(){function e(){N(this,e),this.$r=new yS,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return P(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.$r.Zi(e),this.Br[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Br[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.$r.tr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.$r.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Br[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.$r.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.$r.activeTargetIds.has(e)}},{key:"start",value:function(){return this.$r=new yS,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),bS=function(){function e(){N(this,e)}return P(e,[{key:"Lr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),kS=function(){function e(){var t=this;N(this,e),this.Ur=function(){return t.qr()},this.Kr=function(){return t.Gr()},this.Qr=[],this.jr()}return P(e,[{key:"Lr",value:function(e){this.Qr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}},{key:"jr",value:function(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}},{key:"qr",value:function(){wm("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=k(this.Qr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Gr",value:function(){wm("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=k(this.Qr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),wS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},ES=function(){function e(t){N(this,e),this.Wr=t.Wr,this.zr=t.zr}return P(e,[{key:"Hr",value:function(e){this.Jr=e}},{key:"Yr",value:function(e){this.Xr=e}},{key:"onMessage",value:function(e){this.Zr=e}},{key:"close",value:function(){this.zr()}},{key:"send",value:function(e){this.Wr(e)}},{key:"eo",value:function(){this.Jr()}},{key:"no",value:function(e){this.Xr(e)}},{key:"so",value:function(e){this.Zr(e)}}]),e}(),xS=function(e){_(n,e);var t=I(n);function n(e){var r;return N(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return P(n,[{key:"co",value:function(e,t,n,r){return new Promise((function(i,a){var o=new pm;o.listenOnce(lm.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case cm.NO_ERROR:var t=o.getResponseJson();wm("Connection","XHR received:",JSON.stringify(t)),i(t);break;case cm.TIMEOUT:wm("Connection",'RPC "'+e+'" timed out'),a(new Nm(Im.DEADLINE_EXCEEDED,"Request time out"));break;case cm.HTTP_ERROR:var n=o.getStatus();if(wm("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Im).indexOf(t)>=0?t:Im.UNKNOWN}(r.status);a(new Nm(u,r.message))}else a(new Nm(Im.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Nm(Im.UNAVAILABLE,"Connection failed."));break;default:_m()}}finally{wm("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"lo",value:function(e,t,n){var r=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=um(),a=sm(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new dm({})),this.ao(o.initMessageHeaders,t,n),"undefined"!==typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(If())||"object"===typeof navigator&&"ReactNative"===navigator.product||If().indexOf("Electron/")>=0||function(){var e=If();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||If().indexOf("MSAppHost/")>=0||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");wm("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new ES({Wr:function(e){l?wm("Connection","Not sending because WebChannel is closed:",e):(c||(wm("Connection","Opening WebChannel transport."),s.open(),c=!0),wm("Connection","WebChannel sending:",e),s.send(e))},zr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,vm.EventType.OPEN,(function(){l||wm("Connection","WebChannel transport opened.")})),h(s,vm.EventType.CLOSE,(function(){l||(l=!0,wm("Connection","WebChannel transport closed"),f.no())})),h(s,vm.EventType.ERROR,(function(e){l||(l=!0,xm("Connection","WebChannel transport errored:",e),f.no(new Nm(Im.UNAVAILABLE,"The operation could not be completed")))})),h(s,vm.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Cm(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){wm("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=lk[e];if(void 0!==t)return yk(t)}(a),u=i.message;void 0===o&&(o=Im.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.no(new Nm(o,u)),s.close()}else wm("Connection","WebChannel received:",n),f.so(n)}})),h(a,fm.STAT_EVENT,(function(e){e.stat===hm.PROXY?wm("Connection","Detected buffering proxy"):e.stat===hm.NOPROXY&&wm("Connection","Detected no buffering proxy")})),setTimeout((function(){f.eo()}),0),f}}]),n}(function(){function e(t){N(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.io=n+"://"+t.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return P(e,[{key:"oo",value:function(e,t,n,r,i){var a=this.uo(e,t);wm("RestConnection","Sending: ",a,n);var o={};return this.ao(o,r,i),this.co(e,a,o,n).then((function(e){return wm("RestConnection","Received: ",e),e}),(function(t){throw xm("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ho",value:function(e,t,n,r,i){return this.oo(e,t,n,r,i)}},{key:"ao",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+gm,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"uo",value:function(e,t){var n=wS[e];return"".concat(this.io,"/v1/").concat(t,":").concat(n)}}]),e}());function SS(){return"undefined"!=typeof window?window:null}function _S(){return"undefined"!=typeof document?document:null}function CS(e){return new Hk(e,!0)}var TS=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;N(this,e),this.Yn=t,this.timerId=n,this.fo=r,this._o=i,this.wo=a,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}return P(e,[{key:"reset",value:function(){this.mo=0}},{key:"Io",value:function(){this.mo=this.wo}},{key:"To",value:function(e){var t=this;this.cancel();var n=Math.floor(this.mo+this.Eo()),r=Math.max(0,Date.now()-this.po),i=Math.max(0,n-r);i>0&&wm("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.mo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.yo=this.Yn.enqueueAfterDelay(this.timerId,i,(function(){return t.po=Date.now(),e()})),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}},{key:"Ao",value:function(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}},{key:"cancel",value:function(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}},{key:"Eo",value:function(){return(Math.random()-.5)*this.mo}}]),e}(),IS=function(){function e(t,n,r,i,a,o,u,s){N(this,e),this.Yn=t,this.Ro=r,this.Po=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new TS(t,n)}return P(e,[{key:"Co",value:function(){return 1===this.state||5===this.state||this.xo()}},{key:"xo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.No()}},{key:"stop",value:function(){var e=f(D().mark((function e(){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Co(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ko",value:function(){this.state=0,this.Do.reset()}},{key:"Mo",value:function(){var e=this;this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,(function(){return e.Oo()})))}},{key:"Fo",value:function(e){this.$o(),this.stream.send(e)}},{key:"Oo",value:function(){var e=f(D().mark((function e(){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.xo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$o",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"Bo",value:function(){this.So&&(this.So.cancel(),this.So=null)}},{key:"close",value:function(){var e=f(D().mark((function e(t,n){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.$o(),this.Bo(),this.Do.cancel(),this.Vo++,4!==t?this.Do.reset():n&&n.code===Im.RESOURCE_EXHAUSTED?(Em(n.toString()),Em("Using maximum backoff delay to prevent overloading the backend."),this.Do.Io()):n&&n.code===Im.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Lo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Yr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=v(t,2),i=r[0],a=r[1];e.Vo===n&&e.qo(i,a)}),(function(n){t((function(){var t=new Nm(Im.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ko(t)}))}))}},{key:"qo",value:function(e,t){var n=this,r=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr((function(){r((function(){return n.state=2,n.So=n.Yn.enqueueAfterDelay(n.Po,1e4,(function(){return n.xo()&&(n.state=3),Promise.resolve()})),n.listener.Hr()}))})),this.stream.Yr((function(e){r((function(){return n.Ko(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"No",value:function(){var e=this;this.state=5,this.Do.To(f(D().mark((function t(){return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ko",value:function(e){return wm("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Uo",value:function(e){var t=this;return function(n){t.Yn.enqueueAndForget((function(){return t.Vo===e?n():(wm("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),NS=function(e){_(n,e);var t=I(n);function n(e,r,i,a,o,u){var s;return N(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).M=o,s}return P(n,[{key:"Go",value:function(e,t){return this.bo.lo("Listen",e,t)}},{key:"onMessage",value:function(e){this.Do.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:_m()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(Cm(void 0===t||"string"==typeof t),tg.fromBase64String(t||"")):(Cm(void 0===t||t instanceof Uint8Array),tg.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Im.UNKNOWN:yk(e.code);return new Nm(t,e.message||"")}(o);n=new Vk(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Jk(e,s.document.name),l=$k(s.document.updateTime),f=new Lg({mapValue:{fields:s.document.fields}}),h=Vg.newFoundDocument(c,l,f),d=s.targetIds||[],v=s.removedTargetIds||[];n=new Lk(d,v,h.key,h)}else if("documentDelete"in t){t.documentDelete;var p=t.documentDelete;p.document;var y=Jk(e,p.document),m=p.readTime?$k(p.readTime):Wm.min(),g=Vg.newNoDocument(y,m),b=p.removedTargetIds||[];n=new Lk([],b,g.key,g)}else if("documentRemove"in t){t.documentRemove;var k=t.documentRemove;k.document;var w=Jk(e,k.document),E=k.removedTargetIds||[];n=new Lk([],E,w,null)}else{if(!("filter"in t))return _m();t.filter;var x=t.filter;x.targetId;var S=x.count||0,_=new vk(S),C=x.targetId;n=new Fk(C,_)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return Wm.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Wm.min():t.readTime?$k(t.readTime):Wm.min()}(e);return this.listener.Qo(t,n)}},{key:"jo",value:function(e){var t={};t.database=nw(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=Xg(r)?{documents:cw(e,r)}:{query:lw(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Gk(e,t.resumeToken):t.snapshotVersion.compareTo(Wm.min())>0&&(n.readTime=Wk(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return _m()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Fo(t)}},{key:"Wo",value:function(e){var t={};t.database=nw(this.M),t.removeTarget=e,this.Fo(t)}}]),n}(IS),AS=function(e){_(n,e);var t=I(n);function n(e,r,i,a,o,u){var s;return N(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).M=o,s.zo=!1,s}return P(n,[{key:"Ho",get:function(){return this.zo}},{key:"start",value:function(){this.zo=!1,this.lastStreamToken=void 0,nd(p(n.prototype),"start",this).call(this)}},{key:"Lo",value:function(){this.zo&&this.Jo([])}},{key:"Go",value:function(e,t){return this.bo.lo("Write",e,t)}},{key:"onMessage",value:function(e){if(Cm(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();var t=function(e,t){return e&&e.length>0?(Cm(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?$k(e.updateTime):$k(t);return n.isEqual(Wm.min())&&(n=$k(t)),new Yb(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=$k(e.commitTime);return this.listener.Yo(n,t)}return Cm(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}},{key:"Zo",value:function(){var e={};e.database=nw(this.M),this.Fo(e)}},{key:"Jo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return uw(t.M,e)}))};this.Fo(n)}}]),n}(IS),PS=function(e){_(n,e);var t=I(n);function n(e,r,i,a){var o;return N(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.M=a,o.tu=!1,o}return P(n,[{key:"eu",value:function(){if(this.tu)throw new Nm(Im.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"oo",value:function(e,t,n){var r=this;return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=v(i,2),o=a[0],u=a[1];return r.bo.oo(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Im.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Nm(Im.UNKNOWN,e.toString())}))}},{key:"ho",value:function(e,t,n){var r=this;return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=v(i,2),o=a[0],u=a[1];return r.bo.ho(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Im.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Nm(Im.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.tu=!0}}]),n}(function(){return P((function e(){N(this,e)}))}()),RS=function(){function e(t,n){N(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}return P(e,[{key:"ru",value:function(){var e=this;0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.su=null,e.uu("Backend didn't respond within 10 seconds."),e.ou("Offline"),Promise.resolve()})))}},{key:"au",value:function(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ou("Offline")))}},{key:"set",value:function(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}},{key:"ou",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"uu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.iu?(Em(t),this.iu=!1):wm("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.su&&(this.su.cancel(),this.su=null)}}]),e}(),DS=P((function e(t,n,r,i,a){var o=this;N(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=a,this._u.Lr((function(e){r.enqueueAndForget(f(D().mark((function e(){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=KS(o),!e.t0){e.next=5;break}return wm("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=f(D().mark((function e(t){var n;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Tm(t)).fu.add(4),e.next=4,LS(n);case 4:return n.wu.set("Unknown"),n.fu.delete(4),e.next=8,MS(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.wu=new RS(r,i)}));function MS(e){return OS.apply(this,arguments)}function OS(){return OS=f(D().mark((function e(t){var n,r,i;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!KS(t)){e.next=18;break}n=k(t.du),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),OS.apply(this,arguments)}function LS(e){return FS.apply(this,arguments)}function FS(){return FS=f(D().mark((function e(t){var n,r,i;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=k(t.du),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),FS.apply(this,arguments)}function VS(e,t){var n=Tm(e);n.lu.has(t.targetId)||(n.lu.set(t.targetId,t),zS(n)?qS(n):b_(n).xo()&&BS(n,t))}function US(e,t){var n=Tm(e),r=b_(n);n.lu.delete(t),r.xo()&&jS(n,t),0===n.lu.size&&(r.xo()?r.Mo():KS(n)&&n.wu.set("Unknown"))}function BS(e,t){e.mu.Z(t.targetId),b_(e).jo(t)}function jS(e,t){e.mu.Z(t),b_(e).Wo(t)}function qS(e){e.mu=new Bk({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.lu.get(t)||null}}),b_(e).start(),e.wu.ru()}function zS(e){return KS(e)&&!b_(e).Co()&&e.lu.size>0}function KS(e){return 0===Tm(e).fu.size}function HS(e){e.mu=void 0}function WS(e){return GS.apply(this,arguments)}function GS(){return GS=f(D().mark((function e(t){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.lu.forEach((function(e,n){BS(t,e)}));case 1:case"end":return e.stop()}}),e)}))),GS.apply(this,arguments)}function QS(e,t){return $S.apply(this,arguments)}function $S(){return $S=f(D().mark((function e(t,n){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:HS(t),zS(t)?(t.wu.au(n),qS(t)):t.wu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),$S.apply(this,arguments)}function YS(e,t,n){return ZS.apply(this,arguments)}function ZS(){return ZS=f(D().mark((function e(t,n,r){var i;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.wu.set("Online"),!(n instanceof Vk&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=f(D().mark((function e(t,n){var r,i,a,o;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=k(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.lu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.lu.delete(o),t.mu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),wm("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,XS(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Lk?t.mu.ut(n):n instanceof Fk?t.mu._t(n):t.mu.ht(n),r.isEqual(Wm.min())){e.next=29;break}return e.prev=14,e.next=17,Fx(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.mu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.lu.get(r);i&&e.lu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.lu.get(t);if(n){e.lu.set(t,n.withResumeToken(tg.EMPTY_BYTE_STRING,n.snapshotVersion)),jS(e,t);var r=new lE(n.target,t,1,n.sequenceNumber);BS(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),wm("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,XS(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),ZS.apply(this,arguments)}function XS(e,t,n){return JS.apply(this,arguments)}function JS(){return JS=f(D().mark((function e(t,n,r){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(eE(n)){e.next=2;break}throw n;case 2:return t.fu.add(1),e.next=5,LS(t);case 5:t.wu.set("Offline"),r||(r=function(){return Fx(t.localStore)}),t.asyncQueue.enqueueRetryable(f(D().mark((function e(){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wm("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.fu.delete(1),e.next=6,MS(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),JS.apply(this,arguments)}function e_(e,t){return t().catch((function(n){return XS(e,n,t)}))}function t_(e){return n_.apply(this,arguments)}function n_(){return n_=f(D().mark((function e(t){var n,r,i,a;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Tm(t),r=k_(n),i=n.hu.length>0?n.hu[n.hu.length-1].batchId:-1;case 2:if(!r_(n)){e.next=19;break}return e.prev=3,e.next=6,Bx(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.hu.length&&r.Mo(),e.abrupt("break",19);case 10:i=a.batchId,i_(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,XS(n,e.t0);case 17:e.next=2;break;case 19:a_(n)&&o_(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),n_.apply(this,arguments)}function r_(e){return KS(e)&&e.hu.length<10}function i_(e,t){e.hu.push(t);var n=k_(e);n.xo()&&n.Ho&&n.Jo(t.mutations)}function a_(e){return KS(e)&&!k_(e).Co()&&e.hu.length>0}function o_(e){k_(e).start()}function u_(e){return s_.apply(this,arguments)}function s_(){return s_=f(D().mark((function e(t){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k_(t).Zo();case 1:case"end":return e.stop()}}),e)}))),s_.apply(this,arguments)}function c_(e){return l_.apply(this,arguments)}function l_(){return l_=f(D().mark((function e(t){var n,r,i,a;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=k_(t),r=k(t.hu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Jo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),l_.apply(this,arguments)}function f_(e,t,n){return h_.apply(this,arguments)}function h_(){return h_=f(D().mark((function e(t,n,r){var i,a;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.hu.shift(),a=sE.from(i,n,r),e.next=3,e_(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,t_(t);case 5:case"end":return e.stop()}}),e)}))),h_.apply(this,arguments)}function d_(e,t){return v_.apply(this,arguments)}function v_(){return v_=f(D().mark((function e(t,n){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&k_(t).Ho,!e.t0){e.next=4;break}return e.next=4,function(){var e=f(D().mark((function e(t,n){var r,i;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!pk(i=n.code)||i===Im.ABORTED){e.next=7;break}return r=t.hu.shift(),k_(t).ko(),e.next=5,e_(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,t_(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:a_(t)&&o_(t);case 5:case"end":return e.stop()}}),e)}))),v_.apply(this,arguments)}function p_(e,t){return y_.apply(this,arguments)}function y_(){return y_=f(D().mark((function e(t,n){var r,i;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Tm(t)).asyncQueue.verifyOperationInProgress(),wm("RemoteStore","RemoteStore received new credentials"),i=KS(r),r.fu.add(3),e.next=6,LS(r);case 6:return i&&r.wu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.fu.delete(3),e.next=12,MS(r);case 12:case"end":return e.stop()}}),e)}))),y_.apply(this,arguments)}function m_(e,t){return g_.apply(this,arguments)}function g_(){return g_=f(D().mark((function e(t,n){var r;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Tm(t),!n){e.next=7;break}return r.fu.delete(2),e.next=5,MS(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.fu.add(2),e.next=12,LS(r);case 12:r.wu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),g_.apply(this,arguments)}function b_(e){return e.gu||(e.gu=function(e,t,n){var r=Tm(e);return r.eu(),new NS(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Hr:WS.bind(null,e),Yr:QS.bind(null,e),Qo:YS.bind(null,e)}),e.du.push(function(){var t=f(D().mark((function t(n){return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.gu.ko(),zS(e)?qS(e):e.wu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.gu.stop();case 6:HS(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}function k_(e){return e.yu||(e.yu=function(e,t,n){var r=Tm(e);return r.eu(),new AS(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Hr:u_.bind(null,e),Yr:d_.bind(null,e),Xo:c_.bind(null,e),Yo:f_.bind(null,e)}),e.du.push(function(){var t=f(D().mark((function t(n){return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.yu.ko(),t.next=4,t_(e);case 4:t.next=9;break;case 6:return t.next=8,e.yu.stop();case 8:e.hu.length>0&&(wm("RemoteStore","Stopping write stream with ".concat(e.hu.length," pending writes")),e.hu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.yu}var w_=function(){function e(t,n,r,i,a){N(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Am,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return P(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Nm(Im.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function E_(e,t){if(Em("AsyncQueue","".concat(t,": ").concat(e)),eE(e))return new Nm(Im.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var x_=function(){function e(t){N(this,e),this.comparator=t?function(e,n){return t(e,n)||vg.comparator(e.key,n.key)}:function(e,t){return vg.comparator(e.key,t.key)},this.keyedMap=Tk(),this.sortedSet=new gk(this.comparator)}return P(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),S_=function(){function e(){N(this,e),this.pu=new gk(vg.comparator)}return P(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.pu.get(t);n?0!==e.type&&3===n.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==n.type?this.pu=this.pu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.pu=this.pu.remove(t):1===e.type&&2===n.type?this.pu=this.pu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):_m():this.pu=this.pu.insert(t,e)}},{key:"Iu",value:function(){var e=[];return this.pu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),__=function(){function e(t,n,r,i,a,o,u,s){N(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return P(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,x_.emptySet(n),a,r,i,!0,!1)}}]),e}(),C_=P((function e(){N(this,e),this.Tu=void 0,this.listeners=[]})),T_=P((function e(){N(this,e),this.queries=new mk((function(e){return Ib(e)}),Tb),this.onlineState="Unknown",this.Eu=new Set}));function I_(e,t){return N_.apply(this,arguments)}function N_(){return N_=f(D().mark((function e(t,n){var r,i,a,o,u;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Tm(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new C_),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Tu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=E_(e.t0,"Initialization of query '".concat(Nb(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Au(r.onlineState),o.Tu&&n.Ru(o.Tu)&&M_(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),N_.apply(this,arguments)}function A_(e,t){return P_.apply(this,arguments)}function P_(){return P_=f(D().mark((function e(t,n){var r,i,a,o,u;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Tm(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),P_.apply(this,arguments)}function R_(e,t){var n,r=Tm(e),i=!1,a=k(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=k(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Ru(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Tu=o}}}catch(f){a.e(f)}finally{a.f()}i&&M_(r)}function D_(e,t,n){var r=Tm(e),i=r.queries.get(t);if(i){var a,o=k(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function M_(e){e.Eu.forEach((function(e){e.next()}))}var O_=function(){function e(t,n,r){N(this,e),this.query=t,this.Pu=n,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}return P(e,[{key:"Ru",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=k(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new __(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),a=!0):this.Su(e,this.onlineState)&&(this.Du(e),a=!0),this.Vu=e,a}},{key:"onError",value:function(e){this.Pu.error(e)}},{key:"Au",value:function(e){this.onlineState=e;var t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}},{key:"Su",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Cu||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Du",value:function(e){e=__.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}]),e}(),L_=function(){function e(t,n){N(this,e),this.payload=t,this.byteLength=n}return P(e,[{key:"xu",value:function(){return"metadata"in this.payload}}]),e}(),F_=function(){function e(t){N(this,e),this.M=t}return P(e,[{key:"fi",value:function(e){return Jk(this.M,e)}},{key:"di",value:function(e){return e.metadata.exists?aw(this.M,e.document,!1):Vg.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}},{key:"_i",value:function(e){return $k(e)}}]),e}(),V_=function(){function e(t,n,r){N(this,e),this.Nu=t,this.localStore=n,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=U_(t)}return P(e,[{key:"ku",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=Zm.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Mu",value:function(e){var t,n=new Map,r=new F_(this.M),i=k(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.fi(a.metadata.name),s=k(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Pk()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=f(D().mark((function e(){var t,n,r,i,a;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qx(this.localStore,new F_(this.M),this.documents,this.Nu.id);case 2:t=e.sent,n=this.Mu(this.documents),r=k(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Yx(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Ou:this.collectionGroups,Fu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function U_(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var B_=P((function e(t){N(this,e),this.key=t})),j_=P((function e(t){N(this,e),this.key=t})),q_=function(){function e(t,n){N(this,e),this.query=t,this.$u=n,this.Bu=null,this.current=!1,this.Lu=Pk(),this.mutatedKeys=Pk(),this.Uu=Rb(t),this.qu=new x_(this.Uu)}return P(e,[{key:"Ku",get:function(){return this.$u}},{key:"Gu",value:function(e,t){var n=this,r=t?t.Qu:new S_,i=t?t.qu:this.qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=bb(this.query)&&i.size===this.query.limit?i.last():null,c=kb(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Ab(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),v=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),v=!0):n.ju(l,f)||(r.track({type:2,doc:f}),v=!0,(s&&n.Uu(f,s)>0||c&&n.Uu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),v=!0):l&&!f&&(r.track({type:1,doc:l}),v=!0,(s||c)&&(u=!0)),v&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),bb(this.query)||kb(this.query))for(;o.size>this.query.limit;){var l=bb(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{qu:o,Qu:r,ni:u,mutatedKeys:a}}},{key:"ju",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;var a=e.Qu.Iu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _m()}};return n(e)-n(t)}(e.type,t.type)||r.Uu(e.doc,t.doc)})),this.Wu(n);var o=t?this.zu():[],u=0===this.Lu.size&&this.current?1:0,s=u!==this.Bu;return this.Bu=u,0!==a.length||s?{snapshot:new __(this.query,e.qu,i,a,e.mutatedKeys,0===u,s,!1),Hu:o}:{Hu:o}}},{key:"Au",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new S_,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}},{key:"Ju",value:function(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}},{key:"Wu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.$u=t.$u.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.$u=t.$u.delete(e)})),this.current=e.current)}},{key:"zu",value:function(){var e=this;if(!this.current)return[];var t=this.Lu;this.Lu=Pk(),this.qu.forEach((function(t){e.Ju(t.key)&&(e.Lu=e.Lu.add(t.key))}));var n=[];return t.forEach((function(t){e.Lu.has(t)||n.push(new j_(t))})),this.Lu.forEach((function(e){t.has(e)||n.push(new B_(e))})),n}},{key:"Yu",value:function(e){this.$u=e.li,this.Lu=Pk();var t=this.Gu(e.documents);return this.applyChanges(t,!0)}},{key:"Xu",value:function(){return __.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}]),e}(),z_=P((function e(t,n,r){N(this,e),this.query=t,this.targetId=n,this.view=r})),K_=P((function e(t){N(this,e),this.key=t,this.Zu=!1})),H_=function(){function e(t,n,r,i,a,o){N(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.ta={},this.ea=new mk((function(e){return Ib(e)}),Tb),this.na=new Map,this.sa=new Set,this.ia=new gk(vg.comparator),this.ra=new Map,this.oa=new eS,this.ua={},this.aa=new Map,this.ca=tx.yn(),this.onlineState="Unknown",this.ha=void 0}return P(e,[{key:"isPrimaryClient",get:function(){return!0===this.ha}}]),e}();function W_(e,t){return G_.apply(this,arguments)}function G_(){return G_=f(D().mark((function e(t,n){var r,i,a,o,u,s;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=UC(t),!(o=r.ea.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Xu(),e.next=15;break;case 6:return e.next=8,jx(r.localStore,_b(n));case 8:return u=e.sent,r.isPrimaryClient&&VS(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,Q_(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),G_.apply(this,arguments)}function Q_(e,t,n,r){return $_.apply(this,arguments)}function $_(){return $_=f(D().mark((function e(t,n,r,i){var a,o,u,s,c,l;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.la=function(e,n,r){return function(){var e=f(D().mark((function e(t,n,r,i){var a,o,u;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Gu(r),e.t0=a.ni,!e.t0){e.next=6;break}return e.next=5,Kx(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Gu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(pC(t,n.targetId,u.Hu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Kx(t.localStore,n,!0);case 3:return a=e.sent,o=new q_(n,a.li),u=o.Gu(a.documents),s=Ok.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),pC(t,r,c.Hu),l=new z_(n,r,o),e.abrupt("return",(t.ea.set(n,l),t.na.has(r)?t.na.get(r).push(n):t.na.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),$_.apply(this,arguments)}function Y_(e,t){return Z_.apply(this,arguments)}function Z_(){return Z_=f(D().mark((function e(t,n){var r,i,a;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Tm(t),i=r.ea.get(n),!((a=r.na.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.na.set(i.targetId,a.filter((function(e){return!Tb(e,n)}))),void r.ea.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,qx(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),US(r.remoteStore,i.targetId),dC(r,i.targetId)})).catch(ox);case 9:e.next=14;break;case 11:return dC(r,i.targetId),e.next=14,qx(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Z_.apply(this,arguments)}function X_(e,t,n){return J_.apply(this,arguments)}function J_(){return J_=f(D().mark((function e(t,n,r){var i,a,o;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=BC(t),e.prev=1,e.next=4,function(e,t){var n,r=Tm(e),i=Hm.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Pk());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.ci.Ks(e,a).next((function(a){n=a;var o,u=[],s=k(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=nk(c,n.get(c.key));null!=l&&u.push(new ok(c.key,l,Fg(l.value.mapValue),Zb.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.Bs.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ua[e.currentUser.toKey()];r||(r=new gk(qm)),r=r.insert(t,n),e.ua[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,gC(i,a.changes);case 9:return e.next=11,t_(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=E_(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),J_.apply(this,arguments)}function eC(e,t){return tC.apply(this,arguments)}function tC(){return tC=f(D().mark((function e(t,n){var r,i;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tm(t),e.prev=1,e.next=4,Vx(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ra.get(t);n&&(Cm(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Zu=!0:e.modifiedDocuments.size>0?Cm(n.Zu):e.removedDocuments.size>0&&(Cm(n.Zu),n.Zu=!1))})),e.next=8,gC(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,ox(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),tC.apply(this,arguments)}function nC(e,t,n){var r=Tm(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ea.forEach((function(e,n){var r=n.view.Au(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Tm(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=k(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Au(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&M_(n)}(r.eventManager,t),i.length&&r.ta.Qo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function rC(e,t,n){return iC.apply(this,arguments)}function iC(){return iC=f(D().mark((function e(t,n,r){var i,a,o,u,s,c;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Tm(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ra.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new gk(vg.comparator)).insert(o,Vg.newNoDocument(o,Wm.min())),s=Pk().add(o),c=new Mk(Wm.min(),new Map,new wk(qm),u,s),e.next=9,eC(i,c);case 9:i.ia=i.ia.remove(o),i.ra.delete(n),mC(i),e.next=16;break;case 14:return e.next=16,qx(i.localStore,n,!1).then((function(){return dC(i,n,r)})).catch(ox);case 16:case"end":return e.stop()}}),e)}))),iC.apply(this,arguments)}function aC(e,t){return oC.apply(this,arguments)}function oC(){return oC=f(D().mark((function e(t,n){var r,i,a;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tm(t),i=n.batch.batchId,e.prev=1,e.next=4,Lx(r.localStore,n);case 4:return a=e.sent,hC(r,i,null),fC(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,gC(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,ox(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),oC.apply(this,arguments)}function uC(e,t,n){return sC.apply(this,arguments)}function sC(){return sC=f(D().mark((function e(t,n,r){var i,a;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Tm(t),e.prev=1,e.next=4,function(e,t){var n=Tm(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Bs.lookupMutationBatch(e,t).next((function(t){return Cm(null!==t),r=t.keys(),n.Bs.removeMutationBatch(e,t)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.ci.Ks(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,hC(i,n,r),fC(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,gC(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,ox(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),sC.apply(this,arguments)}function cC(e,t){return lC.apply(this,arguments)}function lC(){return lC=f(D().mark((function e(t,n){var r,i,a,o;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return KS((r=Tm(t)).remoteStore)||wm("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Tm(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Bs.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.aa.get(i)||[]).push(n),r.aa.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=E_(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),lC.apply(this,arguments)}function fC(e,t){(e.aa.get(t)||[]).forEach((function(e){e.resolve()})),e.aa.delete(t)}function hC(e,t,n){var r=Tm(e),i=r.ua[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ua[r.currentUser.toKey()]=i}}function dC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=k(e.na.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ea.delete(a),n&&e.ta.fa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.na.delete(t),e.isPrimaryClient&&e.oa.Pi(t).forEach((function(t){e.oa.containsKey(t)||vC(e,t)}))}function vC(e,t){e.sa.delete(t.path.canonicalString());var n=e.ia.get(t);null!==n&&(US(e.remoteStore,n),e.ia=e.ia.remove(t),e.ra.delete(n),mC(e))}function pC(e,t,n){var r,i=k(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof B_?(e.oa.addReference(a.key,t),yC(e,a)):a instanceof j_?(wm("SyncEngine","Document no longer in limbo: "+a.key),e.oa.removeReference(a.key,t),e.oa.containsKey(a.key)||vC(e,a.key)):_m()}}catch(o){i.e(o)}finally{i.f()}}function yC(e,t){var n=t.key,r=n.path.canonicalString();e.ia.get(n)||e.sa.has(r)||(wm("SyncEngine","New document in limbo: "+n),e.sa.add(r),mC(e))}function mC(e){for(;e.sa.size>0&&e.ia.size<e.maxConcurrentLimboResolutions;){var t=e.sa.values().next().value;e.sa.delete(t);var n=new vg(Zm.fromString(t)),r=e.ca.next();e.ra.set(r,new K_(n)),e.ia=e.ia.insert(n,r),VS(e.remoteStore,new lE(_b(gb(n.path)),r,2,Um.A))}}function gC(e,t,n){return bC.apply(this,arguments)}function bC(){return bC=f(D().mark((function e(t,n,r){var i,a,o,u;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Tm(t),a=[],o=[],u=[],e.t0=i.ea.isEmpty(),e.t0){e.next=9;break}return i.ea.forEach((function(e,t){u.push(i.la(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Ax.Ys(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.ta.Qo(a),e.next=9,function(){var e=f(D().mark((function e(t,n){var r,i,a,o,u,s,c,l;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tm(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return $w.forEach(n,(function(t){return $w.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return $w.forEach(t.Js,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),eE(e.t0)){e.next=10;break}throw e.t0;case 10:wm("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=k(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.ii.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.ii=r.ii.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),bC.apply(this,arguments)}function kC(e,t){return wC.apply(this,arguments)}function wC(){return wC=f(D().mark((function e(t,n){var r,i;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Tm(t)).currentUser.isEqual(n)){e.next=11;break}return wm("SyncEngine","User change. New user:",n.toKey()),e.next=5,Mx(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.aa.forEach((function(e){e.forEach((function(e){e.reject(new Nm(Im.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.aa.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,gC(r,i.hi);case 11:case"end":return e.stop()}}),e)}))),wC.apply(this,arguments)}function EC(e,t){var n=Tm(e),r=n.ra.get(t);if(r&&r.Zu)return Pk().add(r.key);var i=Pk(),a=n.na.get(t);if(!a)return i;var o,u=k(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ea.get(s);i=i.unionWith(c.view.Ku)}}catch(l){u.e(l)}finally{u.f()}return i}function xC(e,t){return SC.apply(this,arguments)}function SC(){return SC=f(D().mark((function e(t,n){var r,i,a;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tm(t),e.next=3,Kx(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Yu(i),e.abrupt("return",(r.isPrimaryClient&&pC(r,n.targetId,a.Hu),a));case 6:case"end":return e.stop()}}),e)}))),SC.apply(this,arguments)}function _C(e,t){return CC.apply(this,arguments)}function CC(){return CC=f(D().mark((function e(t,n){var r;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tm(t),e.abrupt("return",Wx(r.localStore,n).then((function(e){return gC(r,e)})));case 2:case"end":return e.stop()}}),e)}))),CC.apply(this,arguments)}function TC(e,t,n,r){return IC.apply(this,arguments)}function IC(){return IC=f(D().mark((function e(t,n,r,i){var a,o;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Tm(t),e.next=3,function(e,t){var n=Tm(e),r=Tm(n.Bs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.fn(e,t).next((function(t){return t?n.ci.Ks(e,t):$w.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,t_(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(hC(a,n,i||null),fC(a,n),function(e,t){Tm(Tm(e).Bs)._n(t)}(a.localStore,n)):_m();case 11:return e.next=13,gC(a,o);case 13:e.next=16;break;case 15:wm("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),IC.apply(this,arguments)}function NC(e,t){return AC.apply(this,arguments)}function AC(){return AC=f(D().mark((function e(t,n){var r,i,a,o,u,s,c,l;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(UC(r=Tm(t)),BC(r),!0!==n||!0===r.ha){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,PC(r,i.toArray());case 5:return a=e.sent,r.ha=!0,e.next=9,m_(r.remoteStore,!0);case 9:o=k(a);try{for(o.s();!(u=o.n()).done;)s=u.value,VS(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ha){e.next=25;break}return c=[],l=Promise.resolve(),r.na.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return dC(r,t),qx(r.localStore,t,!0)})),US(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,PC(r,c);case 21:return function(e){var t=Tm(e);t.ra.forEach((function(e,n){US(t.remoteStore,n)})),t.oa.bi(),t.ra=new Map,t.ia=new gk(vg.comparator)}(r),r.ha=!1,e.next=25,m_(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),AC.apply(this,arguments)}function PC(e,t,n){return RC.apply(this,arguments)}function RC(){return RC=f(D().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,v,p,y,m;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Tm(t),a=[],o=[],u=k(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.na.get(c))||0===f.length){e.next=34;break}return e.next=11,jx(i.localStore,_b(f[0]));case 11:l=e.sent,h=k(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return v=d.value,p=i.ea.get(v),e.next=20,xC(i,p);case 20:(y=e.sent).snapshot&&o.push(y.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Hx(i.localStore,c);case 36:return m=e.sent,e.next=39,jx(i.localStore,m);case 39:return l=e.sent,e.next=42,Q_(i,DC(m),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.ta.Qo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),RC.apply(this,arguments)}function DC(e){return mb(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function MC(e){var t=Tm(e);return Tm(Tm(t.localStore).persistence).Fs()}function OC(e,t,n,r){return LC.apply(this,arguments)}function LC(){return LC=f(D().mark((function e(t,n,r,i){var a,o,u,s;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Tm(t)).ha){e.next=3;break}return e.abrupt("return",void wm("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.na.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Wx(a.localStore,Pb(o[0]));case 10:return u=e.sent,s=Mk.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,gC(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,qx(a.localStore,n,!0);case 17:return dC(a,n,i),e.abrupt("break",20);case 19:_m();case 20:case"end":return e.stop()}}),e)}))),LC.apply(this,arguments)}function FC(e,t,n){return VC.apply(this,arguments)}function VC(){return VC=f(D().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=UC(t)).ha){e.next=45;break}a=k(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.na.has(u)){e.next=10;break}return wm("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,Hx(i.localStore,u);case 12:return s=e.sent,e.next=15,jx(i.localStore,s);case 15:return c=e.sent,e.next=18,Q_(i,DC(s),c.targetId,!1);case 18:VS(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=k(r),e.prev=30,h=D().mark((function e(){var t;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.na.has(t),!e.t0){e.next=5;break}return e.next=5,qx(i.localStore,t,!1).then((function(){US(i.remoteStore,t),dC(i,t)})).catch(ox);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),VC.apply(this,arguments)}function UC(e){var t=Tm(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=eC.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=EC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=rC.bind(null,t),t.ta.Qo=R_.bind(null,t.eventManager),t.ta.fa=D_.bind(null,t.eventManager),t}function BC(e){var t=Tm(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=aC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=uC.bind(null,t),t}function jC(e,t,n){var r=Tm(e);(function(){var e=f(D().mark((function e(t,n,r){var i,a,o,u,s;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Tm(e),r=$k(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n._s.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(U_(i)),a=new V_(i,t.localStore,n.M),e.next=15,n.da();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.ku(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.da();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,gC(t,s.Fu,void 0);case 31:return e.next=33,function(e,t){var n=Tm(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n._s.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Ou));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(xm("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var qC=function(){function e(){N(this,e),this.synchronizeTabs=!1}return P(e,[{key:"initialize",value:function(){var e=f(D().mark((function e(t){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=CS(t.databaseInfo.databaseId),this.sharedClientState=this._a(t),this.persistence=this.wa(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.ma(t),this.localStore=this.ga(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ma",value:function(e){return null}},{key:"ga",value:function(e){return Dx(this.persistence,new Px,e.initialUser,this.M)}},{key:"wa",value:function(e){return new oS(sS.zi,this.M)}},{key:"_a",value:function(e){return new gS}},{key:"terminate",value:function(){var e=f(D().mark((function e(){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),zC=function(e){_(n,e);var t=I(n);function n(e,r,i){var a;return N(this,n),(a=t.call(this)).ya=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return P(n,[{key:"initialize",value:function(){var e=f(D().mark((function e(t){var r=this;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nd(p(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.ya.initialize(this,t);case 4:return e.next=6,BC(this.ya.syncEngine);case 6:return e.next=8,t_(this.ya.remoteStore);case 8:return e.next=10,this.persistence.Ts((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ga",value:function(e){return Dx(this.persistence,new Px,e.initialUser,this.M)}},{key:"ma",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new lx(t,e.asyncQueue)}},{key:"wa",value:function(e){var t=Ix(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?GE.withCacheSize(this.cacheSizeBytes):GE.DEFAULT;return new _x(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,SS(),_S(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"_a",value:function(e){return new gS}}]),n}(qC),KC=function(e){_(n,e);var t=I(n);function n(e,r){var i;return N(this,n),(i=t.call(this,e,r,!1)).ya=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return P(n,[{key:"initialize",value:function(){var e=f(D().mark((function e(t){var r,i=this;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nd(p(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.ya.syncEngine,e.t0=this.sharedClientState instanceof mS,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Mr:TC.bind(null,r),Or:OC.bind(null,r),Fr:FC.bind(null,r),Fs:MC.bind(null,r),kr:_C.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Ts(function(){var e=f(D().mark((function e(t){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,NC(i.ya.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_a",value:function(e){var t=SS();if(!mS.vt(t))throw new Nm(Im.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Ix(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new mS(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(zC),HC=function(){function e(){N(this,e)}return P(e,[{key:"initialize",value:function(){var e=f(D().mark((function e(t,n){var r=this;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return nC(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=kC.bind(null,this.syncEngine),e.next=12,m_(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new T_}},{key:"createDatastore",value:function(e){var t,n=CS(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new xS(t));return function(e,t,n,r){return new PS(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return nC(o.syncEngine,e,0)},a=kS.vt()?new kS:new bS,new DS(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new H_(e,t,n,r,i,a);return o&&(u.ha=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=f(D().mark((function e(t){var n;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Tm(t),wm("RemoteStore","RemoteStore shutting down."),n.fu.add(5),e.next=5,LS(n);case 5:n._u.shutdown(),n.wu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function WC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return f(D().mark((function r(){var i;return D().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return f(D().mark((function e(){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var GC=function(){function e(t){N(this,e),this.observer=t,this.muted=!1}return P(e,[{key:"next",value:function(e){this.observer.next&&this.pa(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Ia",value:function(){this.muted=!0}},{key:"pa",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),QC=function(){function e(t,n){var r=this;N(this,e),this.Ta=t,this.M=n,this.metadata=new Am,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then((function(e){e&&e.xu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return P(e,[{key:"close",value:function(){return this.Ta.cancel()}},{key:"getMetadata",value:function(){var e=f(D().mark((function e(){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"da",value:function(){var e=f(D().mark((function e(){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Aa());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Aa",value:function(){var e=f(D().mark((function e(){var t,n,r,i;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ra();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ea.decode(t),r=Number(n),isNaN(r)&&this.Pa("length string (".concat(n,") is not valid number")),e.next=9,this.ba(r);case 9:return i=e.sent,e.abrupt("return",new L_(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Va",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Ra",value:function(){var e=f(D().mark((function e(){var t,n;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Va()<0)){e.next=7;break}return e.next=3,this.va();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Va())<0&&this.Pa("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(){var e=f(D().mark((function e(t){var n;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.va();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Pa("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ea.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Pa",value:function(e){throw this.Ta.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"va",value:function(){var e=f(D().mark((function e(){var t,n;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ta.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),$C=function(){function e(t){N(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return P(e,[{key:"lookup",value:function(){var e=f(D().mark((function e(t){var n,r=this;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Nm(Im.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=f(D().mark((function e(t,n){var r,i,a,o,u,s;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tm(t),i=nw(r.M)+"/documents",a={documents:n.map((function(e){return Xk(r.M,e)}))},e.next=5,r.ho("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=ow(r.M,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Cm(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new hk(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=f(D().mark((function e(){var t,n=this;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=vg.fromPath(t);n.mutations.push(new dk(r,n.precondition(r)))})),e.next=7,function(){var e=f(D().mark((function e(t,n){var r,i,a;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tm(t),i=nw(r.M)+"/documents",a={writes:n.map((function(e){return uw(r.M,e)}))},e.next=3,r.oo("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw _m();t=Wm.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Nm(Im.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Zb.updateTime(t):Zb.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Wm.min()))throw new Nm(Im.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Zb.updateTime(t)}return Zb.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),YC=function(){function e(t,n,r,i){N(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.Sa=5,this.Do=new TS(this.asyncQueue,"transaction_retry")}return P(e,[{key:"run",value:function(){this.Sa-=1,this.Da()}},{key:"Da",value:function(){var e=this;this.Do.To(f(D().mark((function t(){var n,r;return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new $C(e.datastore),(r=e.Ca(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.xa(t)}))}))})).catch((function(t){e.xa(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Ca",value:function(e){try{var t=this.updateFunction(e);return!fg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"xa",value:function(e){var t=this;this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget((function(){return t.Da(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Na",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!pk(t)}return!1}}]),e}(),ZC=function(){function e(t,n,r,i){var a=this;N(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=mm.UNAUTHENTICATED,this.clientId=jm.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=f(D().mark((function e(t){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wm("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return wm("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return P(e,[{key:"getConfiguration",value:function(){var e=f(D().mark((function e(){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Nm(Im.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Am;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(f(D().mark((function n(){var r;return D().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=E_(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function XC(e,t){return JC.apply(this,arguments)}function JC(){return JC=f(D().mark((function e(t,n){var r,i;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),wm("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=f(D().mark((function e(t){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Mx(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),JC.apply(this,arguments)}function eT(e,t){return tT.apply(this,arguments)}function tT(){return tT=f(D().mark((function e(t,n){var r,i;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,nT(t);case 3:return r=e.sent,wm("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return p_(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return p_(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),tT.apply(this,arguments)}function nT(e){return rT.apply(this,arguments)}function rT(){return rT=f(D().mark((function e(t){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return wm("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,XC(t,new qC);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),rT.apply(this,arguments)}function iT(e){return aT.apply(this,arguments)}function aT(){return aT=f(D().mark((function e(t){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return wm("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,eT(t,new HC);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),aT.apply(this,arguments)}function oT(e){return nT(e).then((function(e){return e.persistence}))}function uT(e){return nT(e).then((function(e){return e.localStore}))}function sT(e){return iT(e).then((function(e){return e.remoteStore}))}function cT(e){return iT(e).then((function(e){return e.syncEngine}))}function lT(e){return fT.apply(this,arguments)}function fT(){return fT=f(D().mark((function e(t){var n,r;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iT(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=W_.bind(null,n.syncEngine),r.onUnlisten=Y_.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),fT.apply(this,arguments)}function hT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Am;return e.asyncQueue.enqueueAndForget(f(D().mark((function i(){return D().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new GC({next:function(a){t.enqueueAndForget((function(){return A_(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Nm(Im.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Nm(Im.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new O_(gb(n.path),a,{includeMetadataChanges:!0,Cu:!0});return I_(e,o)},i.next=3,lT(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function dT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Am;return e.asyncQueue.enqueueAndForget(f(D().mark((function i(){return D().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new GC({next:function(n){t.enqueueAndForget((function(){return A_(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Nm(Im.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new O_(n,a,{includeMetadataChanges:!0,Cu:!0});return I_(e,o)},i.next=3,lT(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var vT=new Map;function pT(e,t,n){if(!n)throw new Nm(Im.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function yT(e,t,n,r){if(!0===t&&!0===r)throw new Nm(Im.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function mT(e){if(!vg.isDocumentKey(e))throw new Nm(Im.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function gT(e){if(vg.isDocumentKey(e))throw new Nm(Im.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function bT(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":_m()}function kT(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Nm(Im.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=bT(e);throw new Nm(Im.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function wT(e,t){if(t<=0)throw new Nm(Im.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var ET=function(){function e(t){var n;if(N(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Nm(Im.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Nm(Im.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,yT("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return P(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),xT=function(){function e(t,n,r){N(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ET({}),this._settingsFrozen=!1,t instanceof lg?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Nm(Im.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lg(e.options.projectId)}(t))}return P(e,[{key:"app",get:function(){if(!this._app)throw new Nm(Im.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Nm(Im.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ET(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Rm;switch(e.type){case"gapi":var t=e.client;return Cm(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Lm(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Nm(Im.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=vT.get(e);t&&(wm("ComponentProvider","Removing Datastore"),vT.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function ST(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=kT(e,xT))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&xm("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=mm.MOCK_USER;else{o=Tf(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Nm(Im.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new mm(s)}e._authCredentials=new Dm(new Pm(o,u))}}var _T=function(){function e(t,n,r){N(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return P(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new TT(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),CT=function(){function e(t,n,r){N(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return P(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),TT=function(e){_(n,e);var t=I(n);function n(e,r,i){var a;return N(this,n),(a=t.call(this,e,r,gb(i)))._path=i,a.type="collection",a}return P(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new _T(this.firestore,null,new vg(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(CT);function IT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=jf(e),pT("collection","path",t),e instanceof xT){var a=Zm.fromString.apply(Zm,[t].concat(r));return gT(a),new TT(e,null,a)}if(!(e instanceof _T||e instanceof TT))throw new Nm(Im.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Zm.fromString.apply(Zm,[t].concat(r)));return gT(o),new TT(e.firestore,null,o)}function NT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=jf(e),1===arguments.length&&(t=jm.R()),pT("doc","path",t),e instanceof xT){var a=Zm.fromString.apply(Zm,[t].concat(r));return mT(a),new _T(e,null,new vg(a))}if(!(e instanceof _T||e instanceof TT))throw new Nm(Im.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Zm.fromString.apply(Zm,[t].concat(r)));return mT(o),new _T(e.firestore,e instanceof TT?e.converter:null,new vg(o))}function AT(e,t){return e=jf(e),t=jf(t),(e instanceof _T||e instanceof TT)&&(t instanceof _T||t instanceof TT)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function PT(e,t){return e=jf(e),t=jf(t),e instanceof CT&&t instanceof CT&&e.firestore===t.firestore&&Tb(e._query,t._query)&&e.converter===t.converter}var RT=function(){function e(){var t=this;N(this,e),this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new TS(this,"async_queue_retry"),this.qa=function(){var e=_S();e&&wm("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Do.Ao()};var n=_S();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.qa)}return P(e,[{key:"isShuttingDown",get:function(){return this.Oa}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Ka(),this.Ga(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;var t=_S();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}},{key:"enqueue",value:function(e){var t=this;if(this.Ka(),this.Oa)return new Promise((function(){}));var n=new Am;return this.Ga((function(){return t.Oa&&t.La?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Ma.push(e),t.Qa()}))}},{key:"Qa",value:function(){var e=f(D().mark((function e(){var t=this;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Ma.length){e.next=14;break}return e.prev=1,e.next=4,this.Ma[0]();case 4:this.Ma.shift(),this.Do.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),eE(e.t0)){e.next=12;break}throw e.t0;case 12:wm("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Ma.length>0&&this.Do.To((function(){return t.Qa()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Ga",value:function(e){var t=this,n=this.ka.then((function(){return t.Ba=!0,e().catch((function(e){t.$a=e,t.Ba=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Em("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ba=!1,e}))}));return this.ka=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);var i=w_.createAndSchedule(this,e,t,n,(function(e){return r.ja(e)}));return this.Fa.push(i),i}},{key:"Ka",value:function(){this.$a&&_m()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Wa",value:function(){var e=f(D().mark((function e(){var t;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.ka,e.next=3,t;case 3:if(t!==this.ka){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"za",value:function(e){var t,n=k(this.Fa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Ha",value:function(e){var t=this;return this.Wa().then((function(){t.Fa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=k(t.Fa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Wa()}))}},{key:"Ja",value:function(e){this.Ua.push(e)}},{key:"ja",value:function(e){var t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}]),e}();function DT(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=k(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var MT=function(){function e(){N(this,e),this._progressObserver={},this._taskCompletionResolver=new Am,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return P(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),OT=function(e){_(n,e);var t=I(n);function n(e,r,i){var a;return N(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new RT,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return P(n,[{key:"_terminate",value:function(){return this._firestoreClient||FT(this),this._firestoreClient.terminate()}}]),n}(xT);function LT(e){return e._firestoreClient||FT(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function FT(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new cg(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new ZC(e._authCredentials,e._appCheckCredentials,e._queue,r)}function VT(e,t,n){var r=new Am;return e.asyncQueue.enqueue(f(D().mark((function i(){return D().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,XC(e,n);case 3:return i.next=5,eT(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Im.FAILED_PRECONDITION||e.code===Im.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function UT(e){return function(e){return e.asyncQueue.enqueue(f(D().mark((function t(){var n,r;return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,oT(e);case 2:return n=t.sent,t.next=5,sT(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Tm(e);return t.fu.delete(0),MS(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(LT(e=kT(e,OT)))}function BT(e){return function(e){return e.asyncQueue.enqueue(f(D().mark((function t(){var n,r;return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,oT(e);case 2:return n=t.sent,t.next=5,sT(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=f(D().mark((function e(t){var n;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Tm(t)).fu.add(0),e.next=4,LS(n);case 4:n.wu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(LT(e=kT(e,OT)))}function jT(e,t){var n=LT(e=kT(e,OT)),r=new MT;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new QC(e,t)}(function(e,t){if(e instanceof Uint8Array)return WC(e,t);if(e instanceof ArrayBuffer)return WC(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,CS(t));e.asyncQueue.enqueueAndForget(f(D().mark((function t(){return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=jC,t.next=3,cT(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function qT(e,t){return function(e,t){return e.asyncQueue.enqueue(f(D().mark((function n(){return D().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Tm(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n._s.getNamedQuery(e,t)}))},n.next=3,uT(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(LT(e=kT(e,OT)),t).then((function(t){return t?new CT(e,null,t.query):null}))}function zT(e){if(e._initialized||e._terminated)throw new Nm(Im.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var KT=function(){function e(){N(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Nm(Im.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jm(n)}return P(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var HT=function(){function e(t){N(this,e),this._byteString=t}return P(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(tg.fromBase64String(t))}catch(t){throw new Nm(Im.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(tg.fromUint8Array(t))}}]),e}(),WT=P((function e(t){N(this,e),this._methodName=t})),GT=function(){function e(t,n){if(N(this,e),!isFinite(t)||t<-90||t>90)throw new Nm(Im.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Nm(Im.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return P(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return qm(this._lat,e._lat)||qm(this._long,e._long)}}]),e}(),QT=/^__.*__$/,$T=function(){function e(t,n,r){N(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return P(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new ok(e,this.data,this.fieldMask,t,this.fieldTransforms):new ak(e,this.data,t,this.fieldTransforms)}}]),e}(),YT=function(){function e(t,n,r){N(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return P(e,[{key:"toMutation",value:function(e,t){return new ok(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function ZT(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _m()}}var XT=function(){function e(t,n,r,i,a,o){N(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Ya(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return P(e,[{key:"path",get:function(){return this.settings.path}},{key:"Xa",get:function(){return this.settings.Xa}},{key:"Za",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"tc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Za({path:n,ec:!1});return r.nc(e),r}},{key:"sc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Za({path:n,ec:!1});return r.Ya(),r}},{key:"ic",value:function(e){return this.Za({path:void 0,ec:!0})}},{key:"rc",value:function(e){return gI(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Ya",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.nc(this.path.get(e))}},{key:"nc",value:function(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(ZT(this.Xa)&&QT.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}]),e}(),JT=function(){function e(t,n,r){N(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||CS(t)}return P(e,[{key:"ac",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new XT({Xa:e,methodName:t,uc:n,path:Jm.emptyPath(),ec:!1,oc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function eI(e){var t=e._freezeSettings(),n=CS(e._databaseId);return new JT(e._databaseId,!!t.ignoreUndefinedProperties,n)}function tI(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ac(a.merge||a.mergeFields?2:0,t,n,i);vI("Data must be an object, but it was:",o,r);var u,s,c=hI(r,o);if(a.merge)u=new eg(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=k(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,v=pI(t,d,n);if(!o.contains(v))throw new Nm(Im.INVALID_ARGUMENT,"Field '".concat(v,"' is specified in your field mask but missing from your input data."));bI(f,v)||f.push(v)}}catch(p){h.e(p)}finally{h.f()}u=new eg(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new $T(new Lg(c),u,s)}var nI=function(e){_(n,e);var t=I(n);function n(){return N(this,n),t.apply(this,arguments)}return P(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Xa)throw 1===e.Xa?e.rc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.rc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(WT);function rI(e,t,n){return new XT({Xa:3,uc:t.settings.uc,methodName:e._methodName,ec:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var iI=function(e){_(n,e);var t=I(n);function n(){return N(this,n),t.apply(this,arguments)}return P(n,[{key:"_toFieldTransform",value:function(e){return new $b(e.path,new jb)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(WT),aI=function(e){_(n,e);var t=I(n);function n(e,r){var i;return N(this,n),(i=t.call(this,e)).cc=r,i}return P(n,[{key:"_toFieldTransform",value:function(e){var t=rI(this,e,!0),n=this.cc.map((function(e){return fI(e,t)})),r=new qb(n);return new $b(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(WT),oI=function(e){_(n,e);var t=I(n);function n(e,r){var i;return N(this,n),(i=t.call(this,e)).cc=r,i}return P(n,[{key:"_toFieldTransform",value:function(e){var t=rI(this,e,!0),n=this.cc.map((function(e){return fI(e,t)})),r=new Kb(n);return new $b(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(WT),uI=function(e){_(n,e);var t=I(n);function n(e,r){var i;return N(this,n),(i=t.call(this,e)).hc=r,i}return P(n,[{key:"_toFieldTransform",value:function(e){var t=new Wb(e.M,Lb(e.M,this.hc));return new $b(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(WT);function sI(e,t,n,r){var i=e.ac(1,t,n);vI("Data must be an object, but it was:",i,r);var a=[],o=Lg.empty();Qm(r,(function(e,r){var u=mI(t,e,n);r=jf(r);var s=i.sc(u);if(r instanceof nI)a.push(u);else{var c=fI(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new eg(a);return new YT(o,u,i.fieldTransforms)}function cI(e,t,n,r,i,a){var o=e.ac(1,t,n),u=[pI(t,r,n)],s=[i];if(a.length%2!=0)throw new Nm(Im.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(pI(t,a[c])),s.push(a[c+1]);for(var l=[],f=Lg.empty(),h=u.length-1;h>=0;--h)if(!bI(l,u[h])){var d=u[h],v=s[h];v=jf(v);var p=o.sc(d);if(v instanceof nI)l.push(d);else{var y=fI(v,p);null!=y&&(l.push(d),f.set(d,y))}}var m=new eg(l);return new YT(f,m,o.fieldTransforms)}function lI(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return fI(n,e.ac(r?4:3,t))}function fI(e,t){if(dI(e=jf(e)))return vI("Unsupported field value:",t,e),hI(e,t);if(e instanceof WT)return function(e,t){if(!ZT(t.Xa))throw t.rc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.rc("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ec&&4!==t.Xa)throw t.rc("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=k(e);try{for(a.s();!(n=a.n()).done;){var o=fI(n.value,t.ic(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=jf(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Lb(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Hm.fromDate(e);return{timestampValue:Wk(t.M,n)}}if(e instanceof Hm){var r=new Hm(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Wk(t.M,r)}}if(e instanceof GT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof HT)return{bytesValue:Gk(t.M,e._byteString)};if(e instanceof _T){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.rc("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Yk(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.rc("Unsupported field value: ".concat(bT(e)))}(e,t)}function hI(e,t){var n={};return $m(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Qm(e,(function(e,r){var i=fI(r,t.tc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function dI(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Hm||e instanceof GT||e instanceof HT||e instanceof _T||e instanceof WT)}function vI(e,t,n){if(!dI(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=bT(n);throw"an object"===r?t.rc(e+" a custom object"):t.rc(e+" "+r)}}function pI(e,t,n){if((t=jf(t))instanceof KT)return t._internalPath;if("string"==typeof t)return mI(e,t);throw gI("Field path arguments must be of type string or ",e,!1,void 0,n)}var yI=new RegExp("[~\\*/\\[\\]]");function mI(e,t,n){if(t.search(yI)>=0)throw gI("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return g(KT,s(t.split(".")))._internalPath}catch(r){throw gI("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function gI(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Nm(Im.INVALID_ARGUMENT,u+e+s)}function bI(e,t){return e.some((function(e){return e.isEqual(t)}))}var kI=function(){function e(t,n,r,i,a){N(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return P(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new _T(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new wI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(EI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),wI=function(e){_(n,e);var t=I(n);function n(){return N(this,n),t.apply(this,arguments)}return P(n,[{key:"data",value:function(){return nd(p(n.prototype),"data",this).call(this)}}]),n}(kI);function EI(e,t){return"string"==typeof t?mI(e,t):t instanceof KT?t._internalPath:t._delegate._internalPath}var xI=function(){function e(t,n){N(this,e),this.hasPendingWrites=t,this.fromCache=n}return P(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),SI=function(e){_(n,e);var t=I(n);function n(e,r,i,a,o,u){var s;return N(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return P(n,[{key:"exists",value:function(){return nd(p(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new _I(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(EI("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(kI),_I=function(e){_(n,e);var t=I(n);function n(){return N(this,n),t.apply(this,arguments)}return P(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return nd(p(n.prototype),"data",this).call(this,e)}}]),n}(SI),CI=function(){function e(t,n,r,i){N(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new xI(i.hasPendingWrites,i.fromCache),this.query=r}return P(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new _I(n._firestore,n._userDataWriter,r.key,r,new xI(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Nm(Im.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new _I(e._firestore,e._userDataWriter,t.doc.key,t.doc,new xI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new _I(e._firestore,e._userDataWriter,t.doc.key,t.doc,new xI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:TI(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function TI(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _m()}}function II(e,t){return e instanceof SI&&t instanceof SI?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof CI&&t instanceof CI&&e._firestore===t._firestore&&PT(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function NI(e){if(kb(e)&&0===e.explicitOrderBy.length)throw new Nm(Im.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var AI=P((function e(){N(this,e)}));function PI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var RI=function(e){_(n,e);var t=I(n);function n(e,r,i){var a;return N(this,n),(a=t.call(this)).lc=e,a.fc=r,a.dc=i,a.type="where",a}return P(n,[{key:"_apply",value:function(e){var t=eI(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Nm(Im.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){zI(o,a);var s,c=[],l=k(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(qI(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=qI(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||zI(o,a),u=lI(n,"where",o,"in"===a||"not-in"===a);var h=nb.create(i,a,u);return function(e,t){if(t.S()){var n=Eb(e);if(null!==n&&!n.isEqual(t.field))throw new Nm(Im.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=wb(e);null!==r&&KI(e,t.field,r)}var i=function(e,t){var n,r=k(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Nm(Im.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Nm(Im.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.lc,this.fc,this.dc);return new CT(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new yb(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(AI);var DI=function(e){_(n,e);var t=I(n);function n(e,r){var i;return N(this,n),(i=t.call(this)).lc=e,i._c=r,i.type="orderBy",i}return P(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Nm(Im.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Nm(Im.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new hb(t,n);return function(e,t){if(null===wb(e)){var n=Eb(e);null!==n&&KI(e,n,t.field)}}(e,r),r}(e._query,this.lc,this._c);return new CT(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new yb(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(AI);var MI=function(e){_(n,e);var t=I(n);function n(e,r,i){var a;return N(this,n),(a=t.call(this)).type=e,a.wc=r,a.mc=i,a}return P(n,[{key:"_apply",value:function(e){return new CT(e.firestore,e.converter,Cb(e._query,this.wc,this.mc))}}]),n}(AI);var OI=function(e){_(n,e);var t=I(n);function n(e,r,i){var a;return N(this,n),(a=t.call(this)).type=e,a.gc=r,a.yc=i,a}return P(n,[{key:"_apply",value:function(e){var t=jI(e,this.type,this.gc,this.yc);return new CT(e.firestore,e.converter,function(e,t){return new yb(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(AI);function LI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new OI("startAt",t,!0)}function FI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new OI("startAfter",t,!1)}var VI=function(e){_(n,e);var t=I(n);function n(e,r,i){var a;return N(this,n),(a=t.call(this)).type=e,a.gc=r,a.yc=i,a}return P(n,[{key:"_apply",value:function(e){var t=jI(e,this.type,this.gc,this.yc);return new CT(e.firestore,e.converter,function(e,t){return new yb(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(AI);function UI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new VI("endBefore",t,!1)}function BI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new VI("endAt",t,!0)}function jI(e,t,n,r){if(n[0]=jf(n[0]),n[0]instanceof kI)return function(e,t,n,r,i){if(!r)throw new Nm(Im.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=k(Sb(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Sg(t,r.key));else{var c=r.data.field(s.field);if(og(c))throw new Nm(Im.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Nm(Im.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new fb(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=eI(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Nm(Im.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Nm(Im.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!xb(e)&&-1!==c.indexOf("/"))throw new Nm(Im.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Zm.fromString(c));if(!vg.isDocumentKey(l))throw new Nm(Im.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new vg(l);u.push(Sg(t,f))}else{var h=lI(n,r,c);u.push(h)}}return new fb(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function qI(e,t,n){if("string"==typeof(n=jf(n))){if(""===n)throw new Nm(Im.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xb(t)&&-1!==n.indexOf("/"))throw new Nm(Im.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Zm.fromString(n));if(!vg.isDocumentKey(r))throw new Nm(Im.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Sg(e,new vg(r))}if(n instanceof _T)return Sg(e,n._key);throw new Nm(Im.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(bT(n),"."))}function zI(e,t){if(!Array.isArray(e)||0===e.length)throw new Nm(Im.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Nm(Im.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function KI(e,t,n){if(!n.isEqual(t))throw new Nm(Im.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var HI=function(){function e(){N(this,e)}return P(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(mg(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ig(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ag(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw _m()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Qm(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new GT(ig(e.latitude),ig(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=ug(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(sg(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=rg(e);return new Hm(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Zm.fromString(e);Cm(kw(n));var r=new lg(n.get(1),n.get(3)),i=new vg(n.popFirst(5));return r.isEqual(t)||Em("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function WI(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var GI=function(e){_(n,e);var t=I(n);function n(e){var r;return N(this,n),(r=t.call(this)).firestore=e,r}return P(n,[{key:"convertBytes",value:function(e){return new HT(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new _T(this.firestore,null,t)}}]),n}(HI),QI=function(){function e(t,n){N(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=eI(t)}return P(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=$I(e,this._firestore),i=WI(r.converter,t,n),a=tI(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Zb.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=$I(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=jf(t))||t instanceof KT?cI(this._dataReader,"WriteBatch.update",i._key,t,n,o):sI(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Zb.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=$I(e,this._firestore);return this._mutations=this._mutations.concat(new hk(t._key,Zb.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Nm(Im.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function $I(e,t){if((e=jf(e)).firestore!==t)throw new Nm(Im.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var YI=function(e){_(n,e);var t=I(n);function n(e){var r;return N(this,n),(r=t.call(this)).firestore=e,r}return P(n,[{key:"convertBytes",value:function(e){return new HT(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new _T(this.firestore,null,t)}}]),n}(HI);function ZI(e){e=kT(e,_T);var t=kT(e.firestore,OT),n=LT(t),r=new YI(t);return function(e,t){var n=new Am;return e.asyncQueue.enqueueAndForget(f(D().mark((function r(){return D().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=f(D().mark((function e(t,n,r){var i,a;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Tm(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.ci.Ls(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Nm(Im.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=E_(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,uT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new SI(t,r,e._key,n,new xI(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function XI(e){e=kT(e,CT);var t=kT(e.firestore,OT),n=LT(t),r=new YI(t);return function(e,t){var n=new Am;return e.asyncQueue.enqueueAndForget(f(D().mark((function r(){return D().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=f(D().mark((function e(t,n,r){var i,a,o,u,s;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kx(t,n,!0);case 3:i=e.sent,a=new q_(n,i.li),o=a.Gu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=E_(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,uT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new CI(t,r,e,n)}))}function JI(e,t,n){e=kT(e,_T);var r=kT(e.firestore,OT),i=WI(e.converter,t,n);return rN(r,[tI(eI(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Zb.none())])}function eN(e,t,n){e=kT(e,_T);for(var r=kT(e.firestore,OT),i=eI(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return rN(r,[("string"==typeof(t=jf(t))||t instanceof KT?cI(i,"updateDoc",e._key,t,n,o):sI(i,"updateDoc",e._key,t)).toMutation(e._key,Zb.exists(!0))])}function tN(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=jf(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||DT(n[s])||(u=n[s],s++);var c,l,h,d={includeMetadataChanges:u.includeMetadataChanges};if(DT(n[s])){var v=n[s];n[s]=null===(i=v.next)||void 0===i?void 0:i.bind(v),n[s+1]=null===(a=v.error)||void 0===a?void 0:a.bind(v),n[s+2]=null===(o=v.complete)||void 0===o?void 0:o.bind(v)}if(e instanceof _T)l=kT(e.firestore,OT),h=gb(e._key.path),c={next:function(t){n[s]&&n[s](iN(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=kT(e,CT);l=kT(p.firestore,OT),h=p._query;var y=new YI(l);c={next:function(e){n[s]&&n[s](new CI(l,y,p,e))},error:n[s+1],complete:n[s+2]},NI(e._query)}return function(e,t,n,r){var i=new GC(r),a=new O_(t,i,n);return e.asyncQueue.enqueueAndForget(f(D().mark((function t(){return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=I_,t.next=3,lT(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Ia(),e.asyncQueue.enqueueAndForget(f(D().mark((function t(){return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=A_,t.next=3,lT(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(LT(l),h,d,c)}function nN(e,t){return function(e,t){var n=new GC(t);return e.asyncQueue.enqueueAndForget(f(D().mark((function t(){return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Tm(e).Eu.add(t),t.next()},t.next=3,lT(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Ia(),e.asyncQueue.enqueueAndForget(f(D().mark((function t(){return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Tm(e).Eu.delete(t)},t.next=3,lT(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(LT(e=kT(e,OT)),DT(t)?t:{next:t})}function rN(e,t){return function(e,t){var n=new Am;return e.asyncQueue.enqueueAndForget(f(D().mark((function r(){return D().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=X_,r.next=3,cT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(LT(e),t)}function iN(e,t,n){var r=n.docs.get(t._key),i=new YI(e);return new SI(e,i,t._key,r,new xI(n.hasPendingWrites,n.fromCache),t.converter)}var aN=function(e){_(n,e);var t=I(n);function n(e,r){var i;return N(this,n),(i=t.call(this,e,r))._firestore=e,i}return P(n,[{key:"get",value:function(e){var t=this,r=$I(e,this._firestore),i=new YI(this._firestore);return nd(p(n.prototype),"get",this).call(this,e).then((function(e){return new SI(t._firestore,i,r._key,e._document,new xI(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){N(this,e),this._firestore=t,this._transaction=n,this._dataReader=eI(t)}return P(e,[{key:"get",value:function(e){var t=this,n=$I(e,this._firestore),r=new GI(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return _m();var i=e[0];if(i.isFoundDocument())return new kI(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new kI(t._firestore,r,n._key,null,n.converter);throw _m()}))}},{key:"set",value:function(e,t,n){var r=$I(e,this._firestore),i=WI(r.converter,t,n),a=tI(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=$I(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=jf(t))||t instanceof KT?cI(this._dataReader,"Transaction.update",i._key,t,n,o):sI(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=$I(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function oN(e,t){return function(e,t){var n=new Am;return e.asyncQueue.enqueueAndForget(f(D().mark((function r(){var i;return D().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return iT(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new YC(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(LT(e=kT(e,OT)),(function(n){return t(new aN(e,n))}))}function uN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new aI("arrayUnion",t)}function sN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new oI("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){gm=e}(Sh),mh(new Gf("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new OT(i,new Mm(e.getProvider("auth-internal")),new Vm(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Ah(ym,"3.4.8",e),Ah(ym,"3.4.8","esm2017")}();function cN(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Nm("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function lN(){if("undefined"===typeof Uint8Array)throw new Nm("unimplemented","Uint8Arrays are not available in this environment.")}function fN(){if("undefined"==typeof atob)throw new Nm("unimplemented","Blobs are unavailable in Firestore in this environment.")}var hN=function(){function e(t){N(this,e),this._delegate=t}return P(e,[{key:"toBase64",value:function(){return fN(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return lN(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return fN(),new e(HT.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return lN(),new e(HT.fromUint8Array(t))}}]),e}();function dN(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=k(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var vN=function(){function e(){N(this,e)}return P(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){zT(e=kT(e,OT));var n=LT(e),r=e._freezeSettings(),i=new HC;return VT(n,i,new zC(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){zT(e=kT(e,OT));var t=LT(e),n=e._freezeSettings(),r=new HC;return VT(t,r,new KC(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Nm(Im.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Am;return e._queue.enqueueAndForgetEvenWhileRestricted(f(D().mark((function n(){return D().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=f(D().mark((function e(t){var n;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Zw.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Zw.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Ix(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),pN=function(){function e(t,n,r){var i=this;N(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof lg||(this._appCompat=t)}return P(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||xm("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ST(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return UT(this._delegate)}},{key:"disableNetwork",value:function(){return BT(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&yT("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Am;return e.asyncQueue.enqueueAndForget(f(D().mark((function n(){return D().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=cC,n.next=3,cT(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(LT(e=kT(e,OT)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return nN(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Nm("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new NN(this,IT(this._delegate,e))}catch(t){throw wN(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new kN(this,NT(this._delegate,e))}catch(t){throw wN(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new CN(this,function(e,t){if(e=kT(e,xT),pT("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Nm(Im.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new CT(e,null,function(e){return new yb(Zm.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw wN(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return oN(this._delegate,(function(n){return e(new mN(t,n))}))}},{key:"batch",value:function(){var e=this;return LT(this._delegate),new gN(new QI(this._delegate,(function(t){return rN(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return jT(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return qT(this._delegate,e).then((function(e){return e?new CN(t,e):null}))}}]),e}(),yN=function(e){_(n,e);var t=I(n);function n(e){var r;return N(this,n),(r=t.call(this)).firestore=e,r}return P(n,[{key:"convertBytes",value:function(e){return new hN(new HT(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return kN.forKey(t,this.firestore,null)}}]),n}(HI);var mN=function(){function e(t,n){N(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new yN(t)}return P(e,[{key:"get",value:function(e){var t=this,n=AN(e);return this._delegate.get(n).then((function(e){return new SN(t._firestore,new SI(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=AN(e);return n?(cN("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=AN(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=AN(e);return this._delegate.delete(t),this}}]),e}(),gN=function(){function e(t){N(this,e),this._delegate=t}return P(e,[{key:"set",value:function(e,t,n){var r=AN(e);return n?(cN("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=AN(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=AN(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),bN=function(){function e(t,n,r){N(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return P(e,[{key:"fromFirestore",value:function(e,t){var n=new _I(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new _N(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new yN(t),n),i.set(n,a)),a}}]),e}();bN.INSTANCES=new WeakMap;var kN=function(){function e(t,n){N(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new yN(t)}return P(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new NN(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new NN(this.firestore,IT(this._delegate,e))}catch(t){throw wN(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=jf(e))instanceof _T&&AT(this._delegate,e)}},{key:"set",value:function(e,t){t=cN("DocumentReference.set",t);try{return t?JI(this._delegate,e,t):JI(this._delegate,e)}catch(n){throw wN(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?eN(this._delegate,e):eN.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw wN(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return rN(kT(e.firestore,OT),[new hk(e._key,Zb.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=EN(n),a=xN(n,(function(t){return new SN(e.firestore,new SI(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return tN(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?ZI(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=kT(e,_T);var t=kT(e.firestore,OT);return hT(LT(t),e._key,{source:"server"}).then((function(n){return iN(t,e,n)}))}(this._delegate):function(e){e=kT(e,_T);var t=kT(e.firestore,OT);return hT(LT(t),e._key).then((function(n){return iN(t,e,n)}))}(this._delegate),t.then((function(e){return new SN(n.firestore,new SI(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(bN.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Nm("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new _T(n._delegate,r,new vg(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new _T(n._delegate,r,t))}}]),e}();function wN(e,t,n){return e.message=e.message.replace(t,n),e}function EN(e){var t,n=k(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!dN(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function xN(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=dN(e[0])?e[0]:dN(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var SN=function(){function e(t,n){N(this,e),this._firestore=t,this._delegate=n}return P(e,[{key:"ref",get:function(){return new kN(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return II(this._delegate,e._delegate)}}]),e}(),_N=function(e){_(n,e);var t=I(n);function n(){return N(this,n),t.apply(this,arguments)}return P(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||_m()}(void 0!==t),t}}]),n}(SN),CN=function(){function e(t,n){N(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new yN(t)}return P(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,PI(this._delegate,function(e,t,n){var r=t,i=EI("where",e);return new RI(i,r,n)}(t,n,r)))}catch(i){throw wN(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,PI(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=EI("orderBy",e);return new DI(n,t)}(t,n)))}catch(r){throw wN(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,PI(this._delegate,function(e){return wT("limit",e),new MI("limit",e,"F")}(t)))}catch(n){throw wN(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,PI(this._delegate,function(e){return wT("limitToLast",e),new MI("limitToLast",e,"L")}(t)))}catch(n){throw wN(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,PI(this._delegate,LI.apply(void 0,arguments)))}catch(t){throw wN(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,PI(this._delegate,FI.apply(void 0,arguments)))}catch(t){throw wN(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,PI(this._delegate,UI.apply(void 0,arguments)))}catch(t){throw wN(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,PI(this._delegate,BI.apply(void 0,arguments)))}catch(t){throw wN(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return PT(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?XI(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=kT(e,CT);var t=kT(e.firestore,OT),n=LT(t),r=new YI(t);return dT(n,e._query,{source:"server"}).then((function(n){return new CI(t,r,e,n)}))}(this._delegate):function(e){e=kT(e,CT);var t=kT(e.firestore,OT),n=LT(t),r=new YI(t);return NI(e._query),dT(n,e._query).then((function(n){return new CI(t,r,e,n)}))}(this._delegate),t.then((function(e){return new IN(n.firestore,new CI(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=EN(n),a=xN(n,(function(t){return new IN(e.firestore,new CI(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return tN(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(bN.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),TN=function(){function e(t,n){N(this,e),this._firestore=t,this._delegate=n}return P(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new _N(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),IN=function(){function e(t,n){N(this,e),this._firestore=t,this._delegate=n}return P(e,[{key:"query",get:function(){return new CN(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new _N(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new TN(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new _N(n._firestore,r))}))}},{key:"isEqual",value:function(e){return II(this._delegate,e._delegate)}}]),e}(),NN=function(e){_(n,e);var t=I(n);function n(e,r){var i;return N(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return P(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new kN(this.firestore,e):null}},{key:"doc",value:function(e){try{return new kN(this.firestore,void 0===e?NT(this._delegate):NT(this._delegate,e))}catch(t){throw wN(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=kT(e.firestore,OT),r=NT(e),i=WI(e.converter,t);return rN(n,[tI(eI(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Zb.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new kN(t.firestore,e)}))}},{key:"isEqual",value:function(e){return AT(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(bN.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(CN);function AN(e){return kT(e,_T)}var PN,RN=function(){function e(){N(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=g(KT,n)}return P(e,[{key:"isEqual",value:function(e){return(e=jf(e))instanceof KT&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Jm.keyField().canonicalString())}}]),e}(),DN=function(){function e(t){N(this,e),this._delegate=t}return P(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new iI("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new nI("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=uN.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=sN.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new uI("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),MN={Firestore:pN,GeoPoint:GT,Timestamp:Hm,Blob:hN,Transaction:mN,WriteBatch:gN,DocumentReference:kN,DocumentSnapshot:SN,Query:CN,QueryDocumentSnapshot:_N,QuerySnapshot:IN,CollectionReference:NN,FieldPath:RN,FieldValue:DN,setLogLevel:function(e){!function(e){bm.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new Gf("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},MN)))})(PN=ed,(function(e,t){return new pN(e,t,new vN)})),PN.registerVersion("@firebase/firestore-compat","0.1.17");ed.initializeApp({apiKey:"AIzaSyBPm-EHJHxp0ZtcpER3GbUWJEsb7pric98",authDomain:"coffee-6d9cd.firebaseapp.com",projectId:"coffee-6d9cd",storageBucket:"coffee-6d9cd.appspot.com",messagingSenderId:"532372895168",appId:"1:532372895168:web:2fe23e65d7440671edc425",measurementId:"G-9MXMLDGKYD"});var ON,LN,FN=ed.firestore(),VN=null!==(ON="coffee-select")?ON:"",UN=null!==(LN="lPycKHkwzNcWRwqKTD5j")?LN:"",BN=FN.collection(VN),jN=n(184);function qN(e){var n=e.orderInfo,r=e.orderKey,i=e.name,a=e.drink,o=e.option,u=e.orderUpdate,s=v((0,t.useState)(!1),2),c=s[0],l=s[1],f=v((0,t.useState)({key:r,name:i,drink:a,option:o}),2),h=f[0],d=f[1];console.log(r);var p=function(){l(!c)};return(0,jN.jsxs)(Vs,{gutter:[10,0],children:[!c&&(0,jN.jsxs)(jN.Fragment,{children:[(0,jN.jsxs)(qs,{children:["Name: ",i]}),(0,jN.jsxs)(qs,{children:["Drink: ",a]}),(0,jN.jsxs)(qs,{children:["Option: ",o]}),(0,jN.jsx)(kf,{onClick:p,children:"Modify"})]}),c&&(0,jN.jsxs)(jN.Fragment,{children:[(0,jN.jsxs)(qs,{children:[(0,jN.jsx)("span",{children:" Name : "})," ",(0,jN.jsx)("input",{onChange:function(e){return d(x(x({},h),{},{name:e.target.value}))},value:h.name})]}),(0,jN.jsxs)(qs,{children:[(0,jN.jsx)("span",{children:" Drink: "})," ",(0,jN.jsx)("input",{onChange:function(e){return d(x(x({},h),{},{drink:e.target.value}))},value:h.drink})]}),(0,jN.jsxs)(qs,{children:[(0,jN.jsx)("span",{children:" Option : "})," ",(0,jN.jsx)("input",{onChange:function(e){return d(x(x({},h),{},{option:e.target.value}))},value:h.option})]}),(0,jN.jsx)(kf,{onClick:function(){var e=n.map((function(e){return e.key===r?{key:r,name:h.name,drink:h.drink,option:h.option}:e}));u(e),BN.doc(UN).update({order:e}),p()},children:"OK"}),(0,jN.jsx)(kf,{onClick:function(){d({key:r,name:i,drink:a,option:o}),p()},children:"Cancel"})]}),(0,jN.jsx)(kf,{onClick:function(){var e=n.filter((function(e){return e.key!==r}));u(e),BN.doc(UN).update({order:e})},children:"Remove"})]})}function zN(e){var t=e.orderInfo,n=e.orderUpdate,r=t.map((function(e){return(0,jN.jsx)(qN,{orderInfo:t,orderUpdate:n,orderKey:e.key,name:e.name,drink:e.drink,option:e.option},e.key)}));return(0,jN.jsx)(jN.Fragment,{children:r})}var KN,HN=(0,t.forwardRef)((function(e,n){var r=e.didUpdate,i=e.getContainer,a=e.children,o=(0,t.useRef)(),u=(0,t.useRef)();(0,t.useImperativeHandle)(n,(function(){return{}}));var s=(0,t.useRef)(!1);return!s.current&&Rs()&&(u.current=i(),o.current=u.current.parentNode,s.current=!0),(0,t.useEffect)((function(){null===r||void 0===r||r(e)})),(0,t.useEffect)((function(){return null===u.current.parentNode&&null!==o.current&&o.current.appendChild(u.current),function(){var e,t;null===(e=u.current)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(u.current)}}),[]),u.current?M.createPortal(a,u.current):null})),WN=HN;function GN(e){if("undefined"===typeof document)return 0;if(e||void 0===KN){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var n=document.createElement("div"),r=n.style;r.position="absolute",r.top="0",r.left="0",r.pointerEvents="none",r.visibility="hidden",r.width="200px",r.height="150px",r.overflow="hidden",n.appendChild(t),document.body.appendChild(n);var i=t.offsetWidth;n.style.overflow="scroll";var a=t.offsetWidth;i===a&&(a=n.clientWidth),document.body.removeChild(n),KN=i-a}return KN}var QN=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return{};var n=t.element,r=void 0===n?document.body:n,i={},a=Object.keys(e);return a.forEach((function(e){i[e]=r.style[e]})),a.forEach((function(t){r.style[t]=e[t]})),i};var $N={},YN=function(e){if(document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth||e){var t="ant-scrolling-effect",n=new RegExp("".concat(t),"g"),r=document.body.className;if(e){if(!n.test(r))return;return QN($N),$N={},void(document.body.className=r.replace(n,"").trim())}var i=GN();if(i&&($N=QN({position:"relative",width:"calc(100% - ".concat(i,"px)")}),!n.test(r))){var a="".concat(r," ").concat(t);document.body.className=a.trim()}}},ZN=[],XN="ant-scrolling-effect",JN=new RegExp("".concat(XN),"g"),eA=0,tA=new Map,nA=P((function e(t){var n=this;N(this,e),this.lockTarget=void 0,this.options=void 0,this.getContainer=function(){var e;return null===(e=n.options)||void 0===e?void 0:e.container},this.reLock=function(e){var t=ZN.find((function(e){return e.target===n.lockTarget}));t&&n.unLock(),n.options=e,t&&(t.options=e,n.lock())},this.lock=function(){var e;if(!ZN.some((function(e){return e.target===n.lockTarget})))if(ZN.some((function(e){var t,r=e.options;return(null===r||void 0===r?void 0:r.container)===(null===(t=n.options)||void 0===t?void 0:t.container)})))ZN=[].concat(s(ZN),[{target:n.lockTarget,options:n.options}]);else{var t=0,r=(null===(e=n.options)||void 0===e?void 0:e.container)||document.body;(r===document.body&&window.innerWidth-document.documentElement.clientWidth>0||r.scrollHeight>r.clientHeight)&&(t=GN());var i=r.className;if(0===ZN.filter((function(e){var t,r=e.options;return(null===r||void 0===r?void 0:r.container)===(null===(t=n.options)||void 0===t?void 0:t.container)})).length&&tA.set(r,QN({width:0!==t?"calc(100% - ".concat(t,"px)"):void 0,overflow:"hidden",overflowX:"hidden",overflowY:"hidden"},{element:r})),!JN.test(i)){var a="".concat(i," ").concat(XN);r.className=a.trim()}ZN=[].concat(s(ZN),[{target:n.lockTarget,options:n.options}])}},this.unLock=function(){var e,t=ZN.find((function(e){return e.target===n.lockTarget}));if(ZN=ZN.filter((function(e){return e.target!==n.lockTarget})),t&&!ZN.some((function(e){var n,r=e.options;return(null===r||void 0===r?void 0:r.container)===(null===(n=t.options)||void 0===n?void 0:n.container)}))){var r=(null===(e=n.options)||void 0===e?void 0:e.container)||document.body,i=r.className;JN.test(i)&&(QN(tA.get(r),{element:r}),tA.delete(r),r.className=r.className.replace(JN,"").trim())}},this.lockTarget=eA++,this.options=t})),rA=0,iA=Rs();var aA={},oA=function(e){if(!iA)return null;if(e){if("string"===typeof e)return document.querySelectorAll(e)[0];if("function"===typeof e)return e();if("object"===C(e)&&e instanceof window.HTMLElement)return e}return document.body},uA=function(e){_(r,e);var n=I(r);function r(e){var i;return N(this,r),(i=n.call(this,e)).container=void 0,i.componentRef=t.createRef(),i.rafId=void 0,i.scrollLocker=void 0,i.renderComponent=void 0,i.updateScrollLocker=function(e){var t=(e||{}).visible,n=i.props,r=n.getContainer,a=n.visible;a&&a!==t&&iA&&oA(r)!==i.scrollLocker.getContainer()&&i.scrollLocker.reLock({container:oA(r)})},i.updateOpenCount=function(e){var t=e||{},n=t.visible,r=t.getContainer,a=i.props,o=a.visible,u=a.getContainer;o!==n&&iA&&oA(u)===document.body&&(o&&!n?rA+=1:e&&(rA-=1)),("function"===typeof u&&"function"===typeof r?u.toString()!==r.toString():u!==r)&&i.removeCurrentContainer()},i.attachToParent=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e||i.container&&!i.container.parentNode){var t=oA(i.props.getContainer);return!!t&&(t.appendChild(i.container),!0)}return!0},i.getContainer=function(){return iA?(i.container||(i.container=document.createElement("div"),i.attachToParent(!0)),i.setWrapperClassName(),i.container):null},i.setWrapperClassName=function(){var e=i.props.wrapperClassName;i.container&&e&&e!==i.container.className&&(i.container.className=e)},i.removeCurrentContainer=function(){var e,t;null===(e=i.container)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(i.container)},i.switchScrollingEffect=function(){1!==rA||Object.keys(aA).length?rA||(QN(aA),aA={},YN(!0)):(YN(),aA=QN({overflow:"hidden",overflowX:"hidden",overflowY:"hidden"}))},i.scrollLocker=new nA({container:oA(e.getContainer)}),i}return P(r,[{key:"componentDidMount",value:function(){var e=this;this.updateOpenCount(),this.attachToParent()||(this.rafId=dc((function(){e.forceUpdate()})))}},{key:"componentDidUpdate",value:function(e){this.updateOpenCount(e),this.updateScrollLocker(e),this.setWrapperClassName(),this.attachToParent()}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.visible,n=e.getContainer;iA&&oA(n)===document.body&&(rA=t&&rA?rA-1:rA),this.removeCurrentContainer(),dc.cancel(this.rafId)}},{key:"render",value:function(){var e=this.props,n=e.children,r=e.forceRender,i=e.visible,a=null,o={getOpenCount:function(){return rA},getContainer:this.getContainer,switchScrollingEffect:this.switchScrollingEffect,scrollLocker:this.scrollLocker};return(r||i||this.componentRef.current)&&(a=t.createElement(WN,{getContainer:this.getContainer,ref:this.componentRef},n(o))),a}}]),r}(t.Component),sA=uA,cA={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=cA.F1&&t<=cA.F12)return!1;switch(t){case cA.ALT:case cA.CAPS_LOCK:case cA.CONTEXT_MENU:case cA.CTRL:case cA.DOWN:case cA.END:case cA.ESC:case cA.HOME:case cA.INSERT:case cA.LEFT:case cA.MAC_FF_META:case cA.META:case cA.NUMLOCK:case cA.NUM_CENTER:case cA.PAGE_DOWN:case cA.PAGE_UP:case cA.PAUSE:case cA.PRINT_SCREEN:case cA.RIGHT:case cA.SHIFT:case cA.UP:case cA.WIN_KEY:case cA.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=cA.ZERO&&e<=cA.NINE)return!0;if(e>=cA.NUM_ZERO&&e<=cA.NUM_MULTIPLY)return!0;if(e>=cA.A&&e<=cA.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case cA.SPACE:case cA.QUESTION_MARK:case cA.NUM_PLUS:case cA.NUM_MINUS:case cA.NUM_PERIOD:case cA.NUM_DIVISION:case cA.SEMICOLON:case cA.DASH:case cA.EQUALS:case cA.COMMA:case cA.PERIOD:case cA.SLASH:case cA.APOSTROPHE:case cA.SINGLE_QUOTE:case cA.OPEN_SQUARE_BRACKET:case cA.BACKSLASH:case cA.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},lA=cA;var fA=0;function hA(e){var n=v(t.useState("ssr-id"),2),i=n[0],a=n[1],o=x({},r).useId,u=null===o||void 0===o?void 0:o();return t.useEffect((function(){if(!o){var e=fA;fA+=1,a("rc_unique_".concat(e))}}),[]),e||(u||i)}var dA="".concat("accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap"," ").concat("onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError").split(/[\s\n]+/),vA="aria-",pA="data-";function yA(e,t){return 0===e.indexOf(t)}function mA(e){var n=e.prefixCls,r=e.style,i=e.visible,a=e.maskProps,o=e.motionName;return t.createElement(dl,{key:"mask",visible:i,motionName:o,leavedClassName:"".concat(n,"-mask-hidden")},(function(e){var i=e.className,o=e.style;return t.createElement("div",(0,rs.Z)({style:x(x({},o),r),className:as()("".concat(n,"-mask"),i)},a))}))}function gA(e,t,n){var r=t;return!r&&n&&(r="".concat(e,"-").concat(n)),r}function bA(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if("number"!==typeof n){var i=e.document;"number"!==typeof(n=i.documentElement[r])&&(n=i.body[r])}return n}var kA=t.memo((function(e){return e.children}),(function(e,t){return!t.shouldUpdate})),wA={width:0,height:0,overflow:"hidden",outline:"none"},EA=t.forwardRef((function(e,n){var r=e.closable,i=e.prefixCls,a=e.width,o=e.height,u=e.footer,s=e.title,c=e.closeIcon,l=e.style,f=e.className,h=e.visible,d=e.forceRender,p=e.bodyStyle,y=e.bodyProps,m=e.children,g=e.destroyOnClose,b=e.modalRender,k=e.motionName,w=e.ariaId,E=e.onClose,S=e.onVisibleChanged,_=e.onMouseDown,C=e.onMouseUp,T=e.mousePosition,I=(0,t.useRef)(),N=(0,t.useRef)(),A=(0,t.useRef)();t.useImperativeHandle(n,(function(){return{focus:function(){var e;null===(e=I.current)||void 0===e||e.focus()},changeActive:function(e){var t=document.activeElement;e&&t===N.current?I.current.focus():e||t!==I.current||N.current.focus()}}}));var P,R,D,M=v(t.useState(),2),O=M[0],L=M[1],F={};function V(){var e=function(e){var t=e.getBoundingClientRect(),n={left:t.left,top:t.top},r=e.ownerDocument,i=r.defaultView||r.parentWindow;return n.left+=bA(i),n.top+=bA(i,!0),n}(A.current);L(T?"".concat(T.x-e.left,"px ").concat(T.y-e.top,"px"):"")}void 0!==a&&(F.width=a),void 0!==o&&(F.height=o),O&&(F.transformOrigin=O),u&&(P=t.createElement("div",{className:"".concat(i,"-footer")},u)),s&&(R=t.createElement("div",{className:"".concat(i,"-header")},t.createElement("div",{className:"".concat(i,"-title"),id:w},s))),r&&(D=t.createElement("button",{type:"button",onClick:E,"aria-label":"Close",className:"".concat(i,"-close")},c||t.createElement("span",{className:"".concat(i,"-close-x")})));var U=t.createElement("div",{className:"".concat(i,"-content")},D,R,t.createElement("div",(0,rs.Z)({className:"".concat(i,"-body"),style:p},y),m),P);return t.createElement(dl,{visible:h,onVisibleChanged:S,onAppearPrepare:V,onEnterPrepare:V,forceRender:d,motionName:k,removeOnLeave:g,ref:A},(function(e,n){var r=e.className,a=e.style;return t.createElement("div",{key:"dialog-element",role:"dialog","aria-modal":"true",ref:n,style:x(x(x({},a),l),F),className:as()(i,f,r),onMouseDown:_,onMouseUp:C},t.createElement("div",{tabIndex:0,ref:I,style:wA,"aria-hidden":"true"}),t.createElement(kA,{shouldUpdate:h||d},b?b(U):U),t.createElement("div",{tabIndex:0,ref:N,style:wA,"aria-hidden":"true"}))}))}));EA.displayName="Content";var xA=EA;function SA(e){var n=e.prefixCls,r=void 0===n?"rc-dialog":n,i=e.zIndex,a=e.visible,o=void 0!==a&&a,u=e.keyboard,s=void 0===u||u,c=e.focusTriggerAfterClose,l=void 0===c||c,f=e.scrollLocker,h=e.title,d=e.wrapStyle,p=e.wrapClassName,y=e.wrapProps,m=e.onClose,g=e.afterClose,b=e.transitionName,k=e.animation,w=e.closable,E=void 0===w||w,S=e.mask,_=void 0===S||S,C=e.maskTransitionName,T=e.maskAnimation,I=e.maskClosable,N=void 0===I||I,A=e.maskStyle,P=e.maskProps,R=e.rootClassName,D=(0,t.useRef)(),M=(0,t.useRef)(),O=(0,t.useRef)(),L=v(t.useState(o),2),F=L[0],V=L[1],U=hA();function B(e){null===m||void 0===m||m(e)}var j=(0,t.useRef)(!1),q=(0,t.useRef)(),z=null;return N&&(z=function(e){j.current?j.current=!1:M.current===e.target&&B(e)}),(0,t.useEffect)((function(){return o&&V(!0),function(){}}),[o]),(0,t.useEffect)((function(){return function(){clearTimeout(q.current)}}),[]),(0,t.useEffect)((function(){return F?(null===f||void 0===f||f.lock(),null===f||void 0===f?void 0:f.unLock):function(){}}),[F,f]),t.createElement("div",(0,rs.Z)({className:as()("".concat(r,"-root"),R)},function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!1===n?{aria:!0,data:!0,attr:!0}:!0===n?{aria:!0}:x({},n);var r={};return Object.keys(e).forEach((function(n){(t.aria&&("role"===n||yA(n,vA))||t.data&&yA(n,pA)||t.attr&&dA.includes(n))&&(r[n]=e[n])})),r}(e,{data:!0})),t.createElement(mA,{prefixCls:r,visible:_&&o,motionName:gA(r,C,T),style:x({zIndex:i},A),maskProps:P}),t.createElement("div",(0,rs.Z)({tabIndex:-1,onKeyDown:function(e){if(s&&e.keyCode===lA.ESC)return e.stopPropagation(),void B(e);o&&e.keyCode===lA.TAB&&O.current.changeActive(!e.shiftKey)},className:as()("".concat(r,"-wrap"),p),ref:M,onClick:z,"aria-labelledby":h?U:null,style:x(x({zIndex:i},d),{},{display:F?null:"none"})},y),t.createElement(xA,(0,rs.Z)({},e,{onMouseDown:function(){clearTimeout(q.current),j.current=!0},onMouseUp:function(){q.current=setTimeout((function(){j.current=!1}))},ref:O,closable:E,ariaId:U,prefixCls:r,visible:o,onClose:B,onVisibleChanged:function(e){if(e){var t;if(!function(e,t){return!!e&&e.contains(t)}(M.current,document.activeElement))D.current=document.activeElement,null===(t=O.current)||void 0===t||t.focus()}else{if(V(!1),_&&D.current&&l){try{D.current.focus({preventScroll:!0})}catch(n){}D.current=null}F&&(null===g||void 0===g||g())}},motionName:gA(r,b,k)}))))}var _A=function(e){var n=e.visible,r=e.getContainer,i=e.forceRender,a=e.destroyOnClose,o=void 0!==a&&a,u=e.afterClose,s=v(t.useState(n),2),c=s[0],l=s[1];return t.useEffect((function(){n&&l(!0)}),[n]),!1===r?t.createElement(SA,(0,rs.Z)({},e,{getOpenCount:function(){return 2}})):i||!o||c?t.createElement(sA,{visible:n,forceRender:i,getContainer:r},(function(n){return t.createElement(SA,(0,rs.Z)({},e,{destroyOnClose:o,afterClose:function(){null===u||void 0===u||u(),l(!1)}},n))})):null};_A.displayName="Dialog";var CA=_A,TA={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"},IA=function(e,n){return t.createElement(of,x(x({},e),{},{ref:n,icon:TA}))};IA.displayName="CloseOutlined";var NA=t.forwardRef(IA),AA=(0,rs.Z)({},ls.Modal);function PA(e){AA=e?(0,rs.Z)((0,rs.Z)({},AA),e):(0,rs.Z)({},ls.Modal)}function RA(){return AA}_s("bottomLeft","bottomRight","topLeft","topRight");var DA,MA=function(e,t,n){return void 0!==n?n:"".concat(e,"-").concat(t)},OA=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Ms()&&document.documentElement.addEventListener("click",(function(e){DA={x:e.pageX,y:e.pageY},setTimeout((function(){DA=null}),100)}),!0);var LA=function(e){var n,r=t.useContext(Es),i=r.getPopupContainer,a=r.getPrefixCls,o=r.direction,u=function(t){var n=e.onCancel;null===n||void 0===n||n(t)},s=function(t){var n=e.onOk;null===n||void 0===n||n(t)},c=function(n){var r=e.okText,i=e.okType,a=e.cancelText,o=e.confirmLoading;return t.createElement(t.Fragment,null,t.createElement(kf,(0,rs.Z)({onClick:u},e.cancelButtonProps),a||n.cancelText),t.createElement(kf,(0,rs.Z)({},mf(i),{loading:o,onClick:s},e.okButtonProps),r||n.okText))},l=e.prefixCls,f=e.footer,h=e.visible,d=e.wrapClassName,v=e.centered,p=e.getContainer,y=e.closeIcon,m=e.focusTriggerAfterClose,g=void 0===m||m,b=OA(e,["prefixCls","footer","visible","wrapClassName","centered","getContainer","closeIcon","focusTriggerAfterClose"]),k=a("modal",l),E=a(),x=t.createElement(ds,{componentName:"Modal",defaultLocale:RA()},c),S=t.createElement("span",{className:"".concat(k,"-close-x")},y||t.createElement(NA,{className:"".concat(k,"-close-icon")})),_=as()(d,(w(n={},"".concat(k,"-centered"),!!v),w(n,"".concat(k,"-wrap-rtl"),"rtl"===o),n));return t.createElement(CA,(0,rs.Z)({},b,{getContainer:void 0===p?i:p,prefixCls:k,wrapClassName:_,footer:void 0===f?x:f,visible:h,mousePosition:DA,onClose:u,closeIcon:S,focusTriggerAfterClose:g,transitionName:MA(E,"zoom",e.transitionName),maskTransitionName:MA(E,"fade",e.maskTransitionName)}))};LA.defaultProps={width:520,confirmLoading:!1,visible:!1,okType:"primary"};var FA,VA=LA,UA=x({},O),BA=UA.version,jA=UA.render,qA=UA.unmountComponentAtNode;try{Number((BA||"").split(".")[0])>=18&&(FA=UA.createRoot)}catch(vM){}function zA(e){var t=UA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&"object"===C(t)&&(t.usingClientEntryPoint=e)}var KA="__rc_react_root__";function HA(e,t){FA?function(e,t){zA(!0);var n=t[KA]||FA(t);zA(!1),n.render(e),t[KA]=n}(e,t):function(e,t){jA(e,t)}(e,t)}function WA(e){return GA.apply(this,arguments)}function GA(){return(GA=f(D().mark((function e(t){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then((function(){var e;null===(e=t[KA])||void 0===e||e.unmount(),delete t[KA]})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function QA(e){qA(e)}function $A(e){return YA.apply(this,arguments)}function YA(){return(YA=f(D().mark((function e(t){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===FA){e.next=2;break}return e.abrupt("return",WA(t));case 2:QA(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ZA={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"},XA=function(e,n){return t.createElement(of,x(x({},e),{},{ref:n,icon:ZA}))};XA.displayName="InfoCircleOutlined";var JA=t.forwardRef(XA),eP={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"},tP=function(e,n){return t.createElement(of,x(x({},e),{},{ref:n,icon:eP}))};tP.displayName="CheckCircleOutlined";var nP=t.forwardRef(tP),rP={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}},{tag:"path",attrs:{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"close-circle",theme:"outlined"},iP=function(e,n){return t.createElement(of,x(x({},e),{},{ref:n,icon:rP}))};iP.displayName="CloseCircleOutlined";var aP=t.forwardRef(iP),oP={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},uP=function(e,n){return t.createElement(of,x(x({},e),{},{ref:n,icon:oP}))};uP.displayName="ExclamationCircleOutlined";var sP=t.forwardRef(uP);function cP(e){return!(!e||!e.then)}var lP=function(e){var n=t.useRef(!1),r=t.useRef(),i=v(Gc(!1),2),a=i[0],o=i[1];t.useEffect((function(){var t;if(e.autoFocus){var n=r.current;t=setTimeout((function(){return n.focus()}))}return function(){t&&clearTimeout(t)}}),[]);var u=e.type,s=e.children,c=e.prefixCls,l=e.buttonProps;return t.createElement(kf,(0,rs.Z)({},mf(u),{onClick:function(t){var r=e.actionFn,i=e.close;if(!n.current)if(n.current=!0,r){var a;if(e.emitEvent){if(a=r(t),e.quitOnNullishReturnValue&&!cP(a))return n.current=!1,void i(t)}else if(r.length)a=r(i),n.current=!1;else if(!(a=r()))return void i();!function(t){var r=e.close;cP(t)&&(o(!0),t.then((function(){o(!1,!0),r.apply(void 0,arguments),n.current=!1}),(function(e){console.error(e),o(!1,!0),n.current=!1})))}(a)}else i()},loading:a,prefixCls:c},l,{ref:r}),s)};function fP(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[];return t.Children.forEach(e,(function(e){(void 0!==e&&null!==e||n.keepEmpty)&&(Array.isArray(e)?r=r.concat(fP(e)):(0,ic.isFragment)(e)&&e.props?r=r.concat(fP(e.props.children,n)):r.push(e))})),r}var hP="RC_FORM_INTERNAL_HOOKS",dP=function(){Ws(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},vP=t.createContext({getFieldValue:dP,getFieldsValue:dP,getFieldError:dP,getFieldWarning:dP,getFieldsError:dP,isFieldsTouched:dP,isFieldTouched:dP,isFieldValidating:dP,isFieldsValidating:dP,resetFields:dP,setFields:dP,setFieldsValue:dP,validateFields:dP,submit:dP,getInternalHooks:function(){return dP(),{dispatch:dP,initEntityValue:dP,registerField:dP,useSubscribe:dP,setInitialValues:dP,destroyForm:dP,setCallbacks:dP,registerWatch:dP,getFields:dP,setValidateMessages:dP,setPreserve:dP,getInitialValue:dP}}});function pP(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}function yP(){return yP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yP.apply(this,arguments)}function mP(e){return mP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},mP(e)}function gP(e,t){return gP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},gP(e,t)}function bP(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(vM){return!1}}function kP(e,t,n){return kP=bP()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&gP(i,n.prototype),i},kP.apply(null,arguments)}function wP(e){var t="function"===typeof Map?new Map:void 0;return wP=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return kP(e,arguments,mP(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),gP(n,e)},wP(e)}var EP=/%[sdj%]/g;function xP(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function SP(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,a=n.length;if("function"===typeof e)return e.apply(null,n);if("string"===typeof e){var o=e.replace(EP,(function(e){if("%%"===e)return"%";if(i>=a)return e;switch(e){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(t){return"[Circular]"}break;default:return e}}));return o}return e}function _P(e,t){return void 0===e||null===e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!==typeof e||e))}function CP(e,t,n){var r=0,i=e.length;!function a(o){if(o&&o.length)n(o);else{var u=r;r+=1,u<i?t(e[u],a):n([])}}([])}var TP=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,"Async Validation Error")||this).errors=t,r.fields=n,r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,gP(t,n),r}(wP(Error));function IP(e,t,n,r,i){if(t.first){var a=new Promise((function(t,a){var o=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,e[n]||[])})),t}(e);CP(o,n,(function(e){return r(e),e.length?a(new TP(e,xP(e))):t(i)}))}));return a.catch((function(e){return e})),a}var o=!0===t.firstFields?Object.keys(e):t.firstFields||[],u=Object.keys(e),s=u.length,c=0,l=[],f=new Promise((function(t,a){var f=function(e){if(l.push.apply(l,e),++c===s)return r(l),l.length?a(new TP(l,xP(l))):t(i)};u.length||(r(l),t(i)),u.forEach((function(t){var r=e[t];-1!==o.indexOf(t)?CP(r,n,f):function(e,t,n){var r=[],i=0,a=e.length;function o(e){r.push.apply(r,e||[]),++i===a&&n(r)}e.forEach((function(e){t(e,o)}))}(r,n,f)}))}));return f.catch((function(e){return e})),f}function NP(e,t){return function(n){var r,i;return r=e.fullFields?function(e,t){for(var n=e,r=0;r<t.length;r++){if(void 0==n)return n;n=n[t[r]]}return n}(t,e.fullFields):t[n.field||e.fullField],(i=n)&&void 0!==i.message?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:"function"===typeof n?n():n,fieldValue:r,field:n.field||e.fullField}}}function AP(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"===typeof r&&"object"===typeof e[n]?e[n]=yP({},e[n],r):e[n]=r}return e}var PP=function(e,t,n,r,i,a){!e.required||n.hasOwnProperty(e.field)&&!_P(t,a||e.type)||r.push(SP(i.messages.required,e.fullField))},RP={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},DP={integer:function(e){return DP.number(e)&&parseInt(e,10)===e},float:function(e){return DP.number(e)&&!DP.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(vM){return!1}},date:function(e){return"function"===typeof e.getTime&&"function"===typeof e.getMonth&&"function"===typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"===typeof e},object:function(e){return"object"===typeof e&&!DP.array(e)},method:function(e){return"function"===typeof e},email:function(e){return"string"===typeof e&&e.length<=320&&!!e.match(RP.email)},url:function(e){return"string"===typeof e&&e.length<=2048&&!!e.match(RP.url)},hex:function(e){return"string"===typeof e&&!!e.match(RP.hex)}},MP={required:PP,whitespace:function(e,t,n,r,i){(/^\s+$/.test(t)||""===t)&&r.push(SP(i.messages.whitespace,e.fullField))},type:function(e,t,n,r,i){if(e.required&&void 0===t)PP(e,t,n,r,i);else{var a=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(a)>-1?DP[a](t)||r.push(SP(i.messages.types[a],e.fullField,e.type)):a&&typeof t!==e.type&&r.push(SP(i.messages.types[a],e.fullField,e.type))}},range:function(e,t,n,r,i){var a="number"===typeof e.len,o="number"===typeof e.min,u="number"===typeof e.max,s=t,c=null,l="number"===typeof t,f="string"===typeof t,h=Array.isArray(t);if(l?c="number":f?c="string":h&&(c="array"),!c)return!1;h&&(s=t.length),f&&(s=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),a?s!==e.len&&r.push(SP(i.messages[c].len,e.fullField,e.len)):o&&!u&&s<e.min?r.push(SP(i.messages[c].min,e.fullField,e.min)):u&&!o&&s>e.max?r.push(SP(i.messages[c].max,e.fullField,e.max)):o&&u&&(s<e.min||s>e.max)&&r.push(SP(i.messages[c].range,e.fullField,e.min,e.max))},enum:function(e,t,n,r,i){e.enum=Array.isArray(e.enum)?e.enum:[],-1===e.enum.indexOf(t)&&r.push(SP(i.messages.enum,e.fullField,e.enum.join(", ")))},pattern:function(e,t,n,r,i){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(SP(i.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"===typeof e.pattern){new RegExp(e.pattern).test(t)||r.push(SP(i.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},OP=function(e,t,n,r,i){var a=e.type,o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(_P(t,a)&&!e.required)return n();MP.required(e,t,r,o,i,a),_P(t,a)||MP.type(e,t,r,o,i)}n(o)},LP={string:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(_P(t,"string")&&!e.required)return n();MP.required(e,t,r,a,i,"string"),_P(t,"string")||(MP.type(e,t,r,a,i),MP.range(e,t,r,a,i),MP.pattern(e,t,r,a,i),!0===e.whitespace&&MP.whitespace(e,t,r,a,i))}n(a)},method:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(_P(t)&&!e.required)return n();MP.required(e,t,r,a,i),void 0!==t&&MP.type(e,t,r,a,i)}n(a)},number:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(""===t&&(t=void 0),_P(t)&&!e.required)return n();MP.required(e,t,r,a,i),void 0!==t&&(MP.type(e,t,r,a,i),MP.range(e,t,r,a,i))}n(a)},boolean:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(_P(t)&&!e.required)return n();MP.required(e,t,r,a,i),void 0!==t&&MP.type(e,t,r,a,i)}n(a)},regexp:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(_P(t)&&!e.required)return n();MP.required(e,t,r,a,i),_P(t)||MP.type(e,t,r,a,i)}n(a)},integer:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(_P(t)&&!e.required)return n();MP.required(e,t,r,a,i),void 0!==t&&(MP.type(e,t,r,a,i),MP.range(e,t,r,a,i))}n(a)},float:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(_P(t)&&!e.required)return n();MP.required(e,t,r,a,i),void 0!==t&&(MP.type(e,t,r,a,i),MP.range(e,t,r,a,i))}n(a)},array:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((void 0===t||null===t)&&!e.required)return n();MP.required(e,t,r,a,i,"array"),void 0!==t&&null!==t&&(MP.type(e,t,r,a,i),MP.range(e,t,r,a,i))}n(a)},object:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(_P(t)&&!e.required)return n();MP.required(e,t,r,a,i),void 0!==t&&MP.type(e,t,r,a,i)}n(a)},enum:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(_P(t)&&!e.required)return n();MP.required(e,t,r,a,i),void 0!==t&&MP.enum(e,t,r,a,i)}n(a)},pattern:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(_P(t,"string")&&!e.required)return n();MP.required(e,t,r,a,i),_P(t,"string")||MP.pattern(e,t,r,a,i)}n(a)},date:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(_P(t,"date")&&!e.required)return n();var o;if(MP.required(e,t,r,a,i),!_P(t,"date"))o=t instanceof Date?t:new Date(t),MP.type(e,o,r,a,i),o&&MP.range(e,o.getTime(),r,a,i)}n(a)},url:OP,hex:OP,email:OP,required:function(e,t,n,r,i){var a=[],o=Array.isArray(t)?"array":typeof t;MP.required(e,t,r,a,i,o),n(a)},any:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(_P(t)&&!e.required)return n();MP.required(e,t,r,a,i)}n(a)}};function FP(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var VP=FP(),UP=function(){function e(e){this.rules=null,this._messages=VP,this.define(e)}var t=e.prototype;return t.define=function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==typeof e||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(n){var r=e[n];t.rules[n]=Array.isArray(r)?r:[r]}))},t.messages=function(e){return e&&(this._messages=AP(FP(),e)),this._messages},t.validate=function(t,n,r){var i=this;void 0===n&&(n={}),void 0===r&&(r=function(){});var a=t,o=n,u=r;if("function"===typeof o&&(u=o,o={}),!this.rules||0===Object.keys(this.rules).length)return u&&u(null,a),Promise.resolve(a);if(o.messages){var s=this.messages();s===VP&&(s=FP()),AP(s,o.messages),o.messages=s}else o.messages=this.messages();var c={};(o.keys||Object.keys(this.rules)).forEach((function(e){var n=i.rules[e],r=a[e];n.forEach((function(n){var o=n;"function"===typeof o.transform&&(a===t&&(a=yP({},a)),r=a[e]=o.transform(r)),(o="function"===typeof o?{validator:o}:yP({},o)).validator=i.getValidationMethod(o),o.validator&&(o.field=e,o.fullField=o.fullField||e,o.type=i.getType(o),c[e]=c[e]||[],c[e].push({rule:o,value:r,source:a,field:e}))}))}));var l={};return IP(c,o,(function(t,n){var r,i=t.rule,u=("object"===i.type||"array"===i.type)&&("object"===typeof i.fields||"object"===typeof i.defaultField);function s(e,t){return yP({},t,{fullField:i.fullField+"."+e,fullFields:i.fullFields?[].concat(i.fullFields,[e]):[e]})}function c(r){void 0===r&&(r=[]);var c=Array.isArray(r)?r:[r];!o.suppressWarning&&c.length&&e.warning("async-validator:",c),c.length&&void 0!==i.message&&(c=[].concat(i.message));var f=c.map(NP(i,a));if(o.first&&f.length)return l[i.field]=1,n(f);if(u){if(i.required&&!t.value)return void 0!==i.message?f=[].concat(i.message).map(NP(i,a)):o.error&&(f=[o.error(i,SP(o.messages.required,i.field))]),n(f);var h={};i.defaultField&&Object.keys(t.value).map((function(e){h[e]=i.defaultField})),h=yP({},h,t.rule.fields);var d={};Object.keys(h).forEach((function(e){var t=h[e],n=Array.isArray(t)?t:[t];d[e]=n.map(s.bind(null,e))}));var v=new e(d);v.messages(o.messages),t.rule.options&&(t.rule.options.messages=o.messages,t.rule.options.error=o.error),v.validate(t.value,t.rule.options||o,(function(e){var t=[];f&&f.length&&t.push.apply(t,f),e&&e.length&&t.push.apply(t,e),n(t.length?t:null)}))}else n(f)}if(u=u&&(i.required||!i.required&&t.value),i.field=t.field,i.asyncValidator)r=i.asyncValidator(i,t.value,c,t.source,o);else if(i.validator){try{r=i.validator(i,t.value,c,t.source,o)}catch(f){null==console.error||console.error(f),setTimeout((function(){throw f}),0),c(f.message)}!0===r?c():!1===r?c("function"===typeof i.message?i.message(i.fullField||i.field):i.message||(i.fullField||i.field)+" fails"):r instanceof Array?c(r):r instanceof Error&&c(r.message)}r&&r.then&&r.then((function(){return c()}),(function(e){return c(e)}))}),(function(e){!function(e){var t=[],n={};function r(e){var n;Array.isArray(e)?t=(n=t).concat.apply(n,e):t.push(e)}for(var i=0;i<e.length;i++)r(e[i]);t.length?(n=xP(t),u(t,n)):u(null,a)}(e)}),a)},t.getType=function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!==typeof e.validator&&e.type&&!LP.hasOwnProperty(e.type))throw new Error(SP("Unknown rule type %s",e.type));return e.type||"string"},t.getValidationMethod=function(e){if("function"===typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?LP.required:LP[this.getType(e)]||void 0},e}();UP.register=function(e,t){if("function"!==typeof t)throw new Error("Cannot register a validator by type, validator is not a function");LP[e]=t},UP.warning=function(){},UP.messages=VP,UP.validators=LP;var BP="'${name}' is not a valid ${type}",jP={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:BP,method:BP,array:BP,object:BP,number:BP,date:BP,boolean:BP,integer:BP,float:BP,regexp:BP,email:BP,url:BP,hex:BP},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}};function qP(e,t){for(var n=e,r=0;r<t.length;r+=1){if(null===n||void 0===n)return;n=n[t[r]]}return n}function zP(e,t,n,r){if(!t.length)return n;var i,a,c=h(i=t)||o(i)||u(i)||d(),l=c[0],f=c.slice(1);return a=e||"number"!==typeof l?Array.isArray(e)?s(e):x({},e):[],r&&void 0===n&&1===f.length?delete a[l][f[0]]:a[l]=zP(a[l],f,n,r),a}function KP(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&r&&void 0===n&&!qP(e,t.slice(0,-1))?e:zP(e,t,n,r)}function HP(e){return Array.isArray(e)?function(e){return e.map((function(e){return HP(e)}))}(e):"object"===C(e)&&null!==e?function(e){if(Object.getPrototypeOf(e)===Object.prototype){var t={};for(var n in e)t[n]=HP(e[n]);return t}return e}(e):e}var WP=HP;function GP(e){return pP(e)}function QP(e,t){return qP(e,t)}function $P(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=KP(e,t,n,r);return i}function YP(e,t){var n={};return t.forEach((function(t){var r=QP(e,t);n=$P(n,t,r)})),n}function ZP(e,t){return e&&e.some((function(e){return tR(e,t)}))}function XP(e){return"object"===C(e)&&null!==e&&Object.getPrototypeOf(e)===Object.prototype}function JP(e,t){var n=Array.isArray(e)?s(e):x({},e);return t?(Object.keys(t).forEach((function(e){var r=n[e],i=t[e],a=XP(r)&&XP(i);n[e]=a?JP(r,i||{}):WP(i)})),n):n}function eR(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(e,t){return JP(e,t)}),e)}function tR(e,t){return!(!e||!t||e.length!==t.length)&&e.every((function(e,n){return t[n]===e}))}function nR(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&"object"===C(t.target)&&e in t.target?t.target[e]:t}function rR(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var i=e[t],a=t-n;return a>0?[].concat(s(e.slice(0,n)),[i],s(e.slice(n,t)),s(e.slice(t+1,r))):a<0?[].concat(s(e.slice(0,t)),s(e.slice(t+1,n+1)),[i],s(e.slice(n+1,r))):e}var iR=UP;function aR(e,t){return e.replace(/\$\{\w+\}/g,(function(e){var n=e.slice(2,-1);return t[n]}))}var oR="CODE_LOGIC_ERROR";function uR(e,t,n,r,i){return sR.apply(this,arguments)}function sR(){return sR=f(D().mark((function e(n,r,i,a,o){var u,c,l,f,h,d,v,p,y;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(u=x({},i)).ruleIndex,u.validator&&(c=u.validator,u.validator=function(){try{return c.apply(void 0,arguments)}catch(e){return console.error(e),Promise.reject(oR)}}),l=null,u&&"array"===u.type&&u.defaultField&&(l=u.defaultField,delete u.defaultField),f=new iR(w({},n,[u])),h=eR({},jP,a.validateMessages),f.messages(h),d=[],e.prev=9,e.next=12,Promise.resolve(f.validate(w({},n,r),x({},a)));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),e.t0.errors&&(d=e.t0.errors.map((function(e,n){var r=e.message,i=r===oR?h.default:r;return t.isValidElement(i)?t.cloneElement(i,{key:"error_".concat(n)}):i})));case 17:if(d.length||!l){e.next=22;break}return e.next=20,Promise.all(r.map((function(e,t){return uR("".concat(n,".").concat(t),e,l,a,o)})));case 20:return v=e.sent,e.abrupt("return",v.reduce((function(e,t){return[].concat(s(e),s(t))}),[]));case 22:return p=x(x({},i),{},{name:n,enum:(i.enum||[]).join(", ")},o),y=d.map((function(e){return"string"===typeof e?aR(e,p):e})),e.abrupt("return",y);case 25:case"end":return e.stop()}}),e,null,[[9,14]])}))),sR.apply(this,arguments)}function cR(e,t,n,r,i,a){var o,u=e.join("."),s=n.map((function(e,t){var n=e.validator,r=x(x({},e),{},{ruleIndex:t});return n&&(r.validator=function(e,t,r){var i=!1,a=n(e,t,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then((function(){Ws(!i,"Your validator function has already return a promise. `callback` will be ignored."),i||r.apply(void 0,t)}))}));i=a&&"function"===typeof a.then&&"function"===typeof a.catch,Ws(i,"`callback` is deprecated. Please return a promise instead."),i&&a.then((function(){r()})).catch((function(e){r(e||" ")}))}),r})).sort((function(e,t){var n=e.warningOnly,r=e.ruleIndex,i=t.warningOnly,a=t.ruleIndex;return!!n===!!i?r-a:n?1:-1}));if(!0===i)o=new Promise(function(){var e=f(D().mark((function e(n,i){var o,c,l;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=0;case 1:if(!(o<s.length)){e.next=12;break}return c=s[o],e.next=5,uR(u,t,c,r,a);case 5:if(!(l=e.sent).length){e.next=9;break}return i([{errors:l,rule:c}]),e.abrupt("return");case 9:o+=1,e.next=1;break;case 12:n([]);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());else{var c=s.map((function(e){return uR(u,t,e,r,a).then((function(t){return{errors:t,rule:e}}))}));o=(i?function(e){return fR.apply(this,arguments)}(c):function(e){return lR.apply(this,arguments)}(c)).then((function(e){return Promise.reject(e)}))}return o.catch((function(e){return e})),o}function lR(){return(lR=f(D().mark((function e(t){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then((function(e){var t;return(t=[]).concat.apply(t,s(e))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fR(){return(fR=f(D().mark((function e(t){var n;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise((function(e){t.forEach((function(r){r.then((function(r){r.errors.length&&e([r]),(n+=1)===t.length&&e([])}))}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var hR=["name"],dR=[];function vR(e,t,n,r,i,a){return"function"===typeof e?e(t,n,"source"in a?{source:a.source}:{}):r!==i}var pR=function(e){_(r,e);var n=I(r);function r(e){var i;(N(this,r),(i=n.call(this,e)).state={resetCount:0},i.cancelRegisterFunc=null,i.mounted=!1,i.touched=!1,i.dirty=!1,i.validatePromise=null,i.prevValidating=void 0,i.errors=dR,i.warnings=dR,i.cancelRegister=function(){var e=i.props,t=e.preserve,n=e.isListField,r=e.name;i.cancelRegisterFunc&&i.cancelRegisterFunc(n,t,GP(r)),i.cancelRegisterFunc=null},i.getNamePath=function(){var e=i.props,t=e.name,n=e.fieldContext.prefixName;return void 0!==t?[].concat(s(void 0===n?[]:n),s(t)):[]},i.getRules=function(){var e=i.props,t=e.rules,n=void 0===t?[]:t,r=e.fieldContext;return n.map((function(e){return"function"===typeof e?e(r):e}))},i.refresh=function(){i.mounted&&i.setState((function(e){return{resetCount:e.resetCount+1}}))},i.triggerMetaEvent=function(e){var t=i.props.onMetaChange;null===t||void 0===t||t(x(x({},i.getMeta()),{},{destroy:e}))},i.onStoreChange=function(e,t,n){var r=i.props,a=r.shouldUpdate,o=r.dependencies,u=void 0===o?[]:o,s=r.onReset,c=n.store,l=i.getNamePath(),f=i.getValue(e),h=i.getValue(c),d=t&&ZP(t,l);switch("valueUpdate"===n.type&&"external"===n.source&&f!==h&&(i.touched=!0,i.dirty=!0,i.validatePromise=null,i.errors=dR,i.warnings=dR,i.triggerMetaEvent()),n.type){case"reset":if(!t||d)return i.touched=!1,i.dirty=!1,i.validatePromise=null,i.errors=dR,i.warnings=dR,i.triggerMetaEvent(),null===s||void 0===s||s(),void i.refresh();break;case"remove":if(a)return void i.reRender();break;case"setField":if(d){var v=n.data;return"touched"in v&&(i.touched=v.touched),"validating"in v&&!("originRCField"in v)&&(i.validatePromise=v.validating?Promise.resolve([]):null),"errors"in v&&(i.errors=v.errors||dR),"warnings"in v&&(i.warnings=v.warnings||dR),i.dirty=!0,i.triggerMetaEvent(),void i.reRender()}if(a&&!l.length&&vR(a,e,c,f,h,n))return void i.reRender();break;case"dependenciesUpdate":if(u.map(GP).some((function(e){return ZP(n.relatedFields,e)})))return void i.reRender();break;default:if(d||(!u.length||l.length||a)&&vR(a,e,c,f,h,n))return void i.reRender()}!0===a&&i.reRender()},i.validateRules=function(e){var t=i.getNamePath(),n=i.getValue(),r=Promise.resolve().then((function(){if(!i.mounted)return[];var a=i.props,o=a.validateFirst,u=void 0!==o&&o,c=a.messageVariables,l=(e||{}).triggerName,f=i.getRules();l&&(f=f.filter((function(e){var t=e.validateTrigger;return!t||pP(t).includes(l)})));var h=cR(t,n,f,e,u,c);return h.catch((function(e){return e})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dR;if(i.validatePromise===r){i.validatePromise=null;var t=[],n=[];e.forEach((function(e){var r=e.rule.warningOnly,i=e.errors,a=void 0===i?dR:i;r?n.push.apply(n,s(a)):t.push.apply(t,s(a))})),i.errors=t,i.warnings=n,i.triggerMetaEvent(),i.reRender()}})),h}));return i.validatePromise=r,i.dirty=!0,i.errors=dR,i.warnings=dR,i.triggerMetaEvent(),i.reRender(),r},i.isFieldValidating=function(){return!!i.validatePromise},i.isFieldTouched=function(){return i.touched},i.isFieldDirty=function(){return!(!i.dirty&&void 0===i.props.initialValue)||void 0!==(0,i.props.fieldContext.getInternalHooks(hP).getInitialValue)(i.getNamePath())},i.getErrors=function(){return i.errors},i.getWarnings=function(){return i.warnings},i.isListField=function(){return i.props.isListField},i.isList=function(){return i.props.isList},i.isPreserve=function(){return i.props.preserve},i.getMeta=function(){return i.prevValidating=i.isFieldValidating(),{touched:i.isFieldTouched(),validating:i.prevValidating,errors:i.errors,warnings:i.warnings,name:i.getNamePath()}},i.getOnlyChild=function(e){if("function"===typeof e){var n=i.getMeta();return x(x({},i.getOnlyChild(e(i.getControlled(),n,i.props.fieldContext))),{},{isFunction:!0})}var r=fP(e);return 1===r.length&&t.isValidElement(r[0])?{child:r[0],isFunction:!1}:{child:r,isFunction:!1}},i.getValue=function(e){var t=i.props.fieldContext.getFieldsValue,n=i.getNamePath();return QP(e||t(!0),n)},i.getControlled=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i.props,n=t.trigger,r=t.validateTrigger,a=t.getValueFromEvent,o=t.normalize,u=t.valuePropName,s=t.getValueProps,c=t.fieldContext,l=void 0!==r?r:c.validateTrigger,f=i.getNamePath(),h=c.getInternalHooks,d=c.getFieldsValue,v=h(hP),p=v.dispatch,y=i.getValue(),m=s||function(e){return w({},u,e)},g=e[n],b=x(x({},e),m(y));b[n]=function(){var e;i.touched=!0,i.dirty=!0,i.triggerMetaEvent();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e=a?a.apply(void 0,n):nR.apply(void 0,[u].concat(n)),o&&(e=o(e,y,d(!0))),p({type:"updateValue",namePath:f,value:e}),g&&g.apply(void 0,n)};var k=pP(l||[]);return k.forEach((function(e){var t=b[e];b[e]=function(){t&&t.apply(void 0,arguments);var n=i.props.rules;n&&n.length&&p({type:"validateField",namePath:f,triggerName:e})}})),b},e.fieldContext)&&(0,(0,e.fieldContext.getInternalHooks)(hP).initEntityValue)(S(i));return i}return P(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var r=(0,n.getInternalHooks)(hP).registerField;this.cancelRegisterFunc=r(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,n=this.state.resetCount,r=this.props.children,i=this.getOnlyChild(r),a=i.child;return i.isFunction?e=a:t.isValidElement(a)?e=t.cloneElement(a,this.getControlled(a.props)):(Ws(!a,"`children` of Field is not validate ReactElement."),e=a),t.createElement(t.Fragment,{key:n},e)}}]),r}(t.Component);pR.contextType=vP,pR.defaultProps={trigger:"onChange",valuePropName:"value"};var yR=function(e){var n=e.name,r=c(e,hR),i=t.useContext(vP),a=void 0!==n?GP(n):void 0,o="keep";return r.isListField||(o="_".concat((a||[]).join("_"))),t.createElement(pR,(0,rs.Z)({key:o,name:a},r,{fieldContext:i}))},mR=t.createContext(null),gR=function(e){var n=e.name,r=e.initialValue,i=e.children,a=e.rules,o=e.validateTrigger,u=t.useContext(vP),c=t.useRef({keys:[],id:0}).current,l=t.useMemo((function(){var e=GP(u.prefixName)||[];return[].concat(s(e),s(GP(n)))}),[u.prefixName,n]),f=t.useMemo((function(){return x(x({},u),{},{prefixName:l})}),[u,l]),h=t.useMemo((function(){return{getKey:function(e){var t=l.length,n=e[t];return[c.keys[n],e.slice(t+1)]}}}),[l]);if("function"!==typeof i)return Ws(!1,"Form.List only accepts function as children."),null;return t.createElement(mR.Provider,{value:h},t.createElement(vP.Provider,{value:f},t.createElement(yR,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:a,validateTrigger:o,initialValue:r,isList:!0},(function(e,t){var n=e.value,r=void 0===n?[]:n,a=e.onChange,o=u.getFieldValue,f=function(){return o(l||[])||[]},h={add:function(e,t){var n=f();t>=0&&t<=n.length?(c.keys=[].concat(s(c.keys.slice(0,t)),[c.id],s(c.keys.slice(t))),a([].concat(s(n.slice(0,t)),[e],s(n.slice(t))))):(c.keys=[].concat(s(c.keys),[c.id]),a([].concat(s(n),[e]))),c.id+=1},remove:function(e){var t=f(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(c.keys=c.keys.filter((function(e,t){return!n.has(t)})),a(t.filter((function(e,t){return!n.has(t)}))))},move:function(e,t){if(e!==t){var n=f();e<0||e>=n.length||t<0||t>=n.length||(c.keys=rR(c.keys,e,t),a(rR(n,e,t)))}}},d=r||[];return Array.isArray(d)||(d=[]),i(d.map((function(e,t){var n=c.keys[t];return void 0===n&&(c.keys[t]=c.id,n=c.keys[t],c.id+=1),{name:t,key:n,isListField:!0}})),h,t)}))))};var bR="__@field_split__";function kR(e){return e.map((function(e){return"".concat(C(e),":").concat(e)})).join(bR)}var wR=function(){function e(){N(this,e),this.kvs=new Map}return P(e,[{key:"set",value:function(e,t){this.kvs.set(kR(e),t)}},{key:"get",value:function(e){return this.kvs.get(kR(e))}},{key:"update",value:function(e,t){var n=t(this.get(e));n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(kR(e))}},{key:"map",value:function(e){return s(this.kvs.entries()).map((function(t){var n=v(t,2),r=n[0],i=n[1],a=r.split(bR);return e({key:a.map((function(e){var t=v(e.match(/^([^:]*):(.*)$/),3),n=t[1],r=t[2];return"number"===n?Number(r):r})),value:i})}))}},{key:"toJSON",value:function(){var e={};return this.map((function(t){var n=t.key,r=t.value;return e[n.join(".")]=r,null})),e}}]),e}(),ER=wR,xR=["name","errors"],SR=P((function e(t){var n=this;N(this,e),this.formHooked=!1,this.forceRootUpdate=void 0,this.subscribable=!0,this.store={},this.fieldEntities=[],this.initialValues={},this.callbacks={},this.validateMessages=null,this.preserve=null,this.lastValidatePromise=null,this.getForm=function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}},this.getInternalHooks=function(e){return e===hP?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(Ws(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)},this.useSubscribe=function(e){n.subscribable=e},this.prevWithoutPreserves=null,this.setInitialValues=function(e,t){if(n.initialValues=e||{},t){var r,i=eR({},e,n.store);null===(r=n.prevWithoutPreserves)||void 0===r||r.map((function(t){var n=t.key;i=$P(i,n,QP(e,n))})),n.prevWithoutPreserves=null,n.updateStore(i)}},this.destroyForm=function(){var e=new ER;n.getFieldEntities(!0).forEach((function(t){t.isPreserve()||e.set(t.getNamePath(),!0)})),n.prevWithoutPreserves=e},this.getInitialValue=function(e){var t=QP(n.initialValues,e);return e.length?WP(t):t},this.setCallbacks=function(e){n.callbacks=e},this.setValidateMessages=function(e){n.validateMessages=e},this.setPreserve=function(e){n.preserve=e},this.watchList=[],this.registerWatch=function(e){return n.watchList.push(e),function(){n.watchList=n.watchList.filter((function(t){return t!==e}))}},this.notifyWatch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(n.watchList.length){var t=n.getFieldsValue();n.watchList.forEach((function(n){n(t,e)}))}},this.timeoutId=null,this.warningUnhooked=function(){0},this.updateStore=function(e){n.store=e},this.getFieldEntities=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?n.fieldEntities.filter((function(e){return e.getNamePath().length})):n.fieldEntities},this.getFieldsMap=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new ER;return n.getFieldEntities(e).forEach((function(e){var n=e.getNamePath();t.set(n,e)})),t},this.getFieldEntitiesForNamePathList=function(e){if(!e)return n.getFieldEntities(!0);var t=n.getFieldsMap(!0);return e.map((function(e){var n=GP(e);return t.get(n)||{INVALIDATE_NAME_PATH:GP(e)}}))},this.getFieldsValue=function(e,t){if(n.warningUnhooked(),!0===e&&!t)return n.store;var r=n.getFieldEntitiesForNamePathList(Array.isArray(e)?e:null),i=[];return r.forEach((function(n){var r,a="INVALIDATE_NAME_PATH"in n?n.INVALIDATE_NAME_PATH:n.getNamePath();if(e||!(null===(r=n.isListField)||void 0===r?void 0:r.call(n)))if(t){var o="getMeta"in n?n.getMeta():null;t(o)&&i.push(a)}else i.push(a)})),YP(n.store,i.map(GP))},this.getFieldValue=function(e){n.warningUnhooked();var t=GP(e);return QP(n.store,t)},this.getFieldsError=function(e){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(e).map((function(t,n){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors(),warnings:t.getWarnings()}:{name:GP(e[n]),errors:[],warnings:[]}}))},this.getFieldError=function(e){n.warningUnhooked();var t=GP(e);return n.getFieldsError([t])[0].errors},this.getFieldWarning=function(e){n.warningUnhooked();var t=GP(e);return n.getFieldsError([t])[0].warnings},this.isFieldsTouched=function(){n.warningUnhooked();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i,a=t[0],o=t[1],u=!1;0===t.length?i=null:1===t.length?Array.isArray(a)?(i=a.map(GP),u=!1):(i=null,u=a):(i=a.map(GP),u=o);var c=n.getFieldEntities(!0),l=function(e){return e.isFieldTouched()};if(!i)return u?c.every(l):c.some(l);var f=new ER;i.forEach((function(e){f.set(e,[])})),c.forEach((function(e){var t=e.getNamePath();i.forEach((function(n){n.every((function(e,n){return t[n]===e}))&&f.update(n,(function(t){return[].concat(s(t),[e])}))}))}));var h=function(e){return e.some(l)},d=f.map((function(e){return e.value}));return u?d.every(h):d.some(h)},this.isFieldTouched=function(e){return n.warningUnhooked(),n.isFieldsTouched([e])},this.isFieldsValidating=function(e){n.warningUnhooked();var t=n.getFieldEntities();if(!e)return t.some((function(e){return e.isFieldValidating()}));var r=e.map(GP);return t.some((function(e){var t=e.getNamePath();return ZP(r,t)&&e.isFieldValidating()}))},this.isFieldValidating=function(e){return n.warningUnhooked(),n.isFieldsValidating([e])},this.resetWithFieldInitialValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new ER,r=n.getFieldEntities(!0);r.forEach((function(e){var n=e.props.initialValue,r=e.getNamePath();if(void 0!==n){var i=t.get(r)||new Set;i.add({entity:e,value:n}),t.set(r,i)}}));var i,a=function(r){r.forEach((function(r){if(void 0!==r.props.initialValue){var i=r.getNamePath();if(void 0!==n.getInitialValue(i))Ws(!1,"Form already set 'initialValues' with path '".concat(i.join("."),"'. Field can not overwrite it."));else{var a=t.get(i);if(a&&a.size>1)Ws(!1,"Multiple Field with path '".concat(i.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(a){var o=n.getFieldValue(i);e.skipExist&&void 0!==o||n.updateStore($P(n.store,i,s(a)[0].value))}}}}))};e.entities?i=e.entities:e.namePathList?(i=[],e.namePathList.forEach((function(e){var n,r=t.get(e);r&&(n=i).push.apply(n,s(s(r).map((function(e){return e.entity}))))}))):i=r,a(i)},this.resetFields=function(e){n.warningUnhooked();var t=n.store;if(!e)return n.updateStore(eR({},n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(t,null,{type:"reset"}),void n.notifyWatch();var r=e.map(GP);r.forEach((function(e){var t=n.getInitialValue(e);n.updateStore($P(n.store,e,t))})),n.resetWithFieldInitialValue({namePathList:r}),n.notifyObservers(t,r,{type:"reset"}),n.notifyWatch(r)},this.setFields=function(e){n.warningUnhooked();var t=n.store,r=[];e.forEach((function(e){var i=e.name,a=(e.errors,c(e,xR)),o=GP(i);r.push(o),"value"in a&&n.updateStore($P(n.store,o,a.value)),n.notifyObservers(t,[o],{type:"setField",data:e})})),n.notifyWatch(r)},this.getFields=function(){return n.getFieldEntities(!0).map((function(e){var t=e.getNamePath(),r=x(x({},e.getMeta()),{},{name:t,value:n.getFieldValue(t)});return Object.defineProperty(r,"originRCField",{value:!0}),r}))},this.initEntityValue=function(e){var t=e.props.initialValue;if(void 0!==t){var r=e.getNamePath();void 0===QP(n.store,r)&&n.updateStore($P(n.store,r,t))}},this.registerField=function(e){n.fieldEntities.push(e);var t=e.getNamePath();if(n.notifyWatch([t]),void 0!==e.props.initialValue){var r=n.store;n.resetWithFieldInitialValue({entities:[e],skipExist:!0}),n.notifyObservers(r,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(r,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];n.fieldEntities=n.fieldEntities.filter((function(t){return t!==e}));var o=void 0!==i?i:n.preserve;if(!1===o&&(!r||a.length>1)){var u=r?void 0:n.getInitialValue(t);if(t.length&&n.getFieldValue(t)!==u&&n.fieldEntities.every((function(e){return!tR(e.getNamePath(),t)}))){var s=n.store;n.updateStore($P(s,t,u,!0)),n.notifyObservers(s,[t],{type:"remove"}),n.triggerDependenciesUpdate(s,t)}}n.notifyWatch([t])}},this.dispatch=function(e){switch(e.type){case"updateValue":var t=e.namePath,r=e.value;n.updateValue(t,r);break;case"validateField":var i=e.namePath,a=e.triggerName;n.validateFields([i],{triggerName:a})}},this.notifyObservers=function(e,t,r){if(n.subscribable){var i=x(x({},r),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach((function(n){(0,n.onStoreChange)(e,t,i)}))}else n.forceRootUpdate()},this.triggerDependenciesUpdate=function(e,t){var r=n.getDependencyChildrenFields(t);return r.length&&n.validateFields(r),n.notifyObservers(e,r,{type:"dependenciesUpdate",relatedFields:[t].concat(s(r))}),r},this.updateValue=function(e,t){var r=GP(e),i=n.store;n.updateStore($P(n.store,r,t)),n.notifyObservers(i,[r],{type:"valueUpdate",source:"internal"}),n.notifyWatch([r]);var a=n.triggerDependenciesUpdate(i,r),o=n.callbacks.onValuesChange;o&&o(YP(n.store,[r]),n.getFieldsValue());n.triggerOnFieldsChange([r].concat(s(a)))},this.setFieldsValue=function(e){n.warningUnhooked();var t=n.store;if(e){var r=eR(n.store,e);n.updateStore(r)}n.notifyObservers(t,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()},this.getDependencyChildrenFields=function(e){var t=new Set,r=[],i=new ER;n.getFieldEntities().forEach((function(e){(e.props.dependencies||[]).forEach((function(t){var n=GP(t);i.update(n,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t}))}))}));return function e(n){(i.get(n)||new Set).forEach((function(n){if(!t.has(n)){t.add(n);var i=n.getNamePath();n.isFieldDirty()&&i.length&&(r.push(i),e(i))}}))}(e),r},this.triggerOnFieldsChange=function(e,t){var r=n.callbacks.onFieldsChange;if(r){var i=n.getFields();if(t){var a=new ER;t.forEach((function(e){var t=e.name,n=e.errors;a.set(t,n)})),i.forEach((function(e){e.errors=a.get(e.name)||e.errors}))}r(i.filter((function(t){var n=t.name;return ZP(e,n)})),i)}},this.validateFields=function(e,t){n.warningUnhooked();var r=!!e,i=r?e.map(GP):[],a=[];n.getFieldEntities(!0).forEach((function(o){if(r||i.push(o.getNamePath()),(null===t||void 0===t?void 0:t.recursive)&&r){var u=o.getNamePath();u.every((function(t,n){return e[n]===t||void 0===e[n]}))&&i.push(u)}if(o.props.rules&&o.props.rules.length){var c=o.getNamePath();if(!r||ZP(i,c)){var l=o.validateRules(x({validateMessages:x(x({},jP),n.validateMessages)},t));a.push(l.then((function(){return{name:c,errors:[],warnings:[]}})).catch((function(e){var t=[],n=[];return e.forEach((function(e){var r=e.rule.warningOnly,i=e.errors;r?n.push.apply(n,s(i)):t.push.apply(t,s(i))})),t.length?Promise.reject({name:c,errors:t,warnings:n}):{name:c,errors:t,warnings:n}})))}}}));var o=function(e){var t=!1,n=e.length,r=[];return e.length?new Promise((function(i,a){e.forEach((function(e,o){e.catch((function(e){return t=!0,e})).then((function(e){n-=1,r[o]=e,n>0||(t&&a(r),i(r))}))}))})):Promise.resolve([])}(a);n.lastValidatePromise=o,o.catch((function(e){return e})).then((function(e){var t=e.map((function(e){return e.name}));n.notifyObservers(n.store,t,{type:"validateFinish"}),n.triggerOnFieldsChange(t,e)}));var u=o.then((function(){return n.lastValidatePromise===o?Promise.resolve(n.getFieldsValue(i)):Promise.reject([])})).catch((function(e){var t=e.filter((function(e){return e&&e.errors.length}));return Promise.reject({values:n.getFieldsValue(i),errorFields:t,outOfDate:n.lastValidatePromise!==o})}));return u.catch((function(e){return e})),u},this.submit=function(){n.warningUnhooked(),n.validateFields().then((function(e){var t=n.callbacks.onFinish;if(t)try{t(e)}catch(r){console.error(r)}})).catch((function(e){var t=n.callbacks.onFinishFailed;t&&t(e)}))},this.forceRootUpdate=t}));var _R=function(e){var n=t.useRef(),r=v(t.useState({}),2)[1];if(!n.current)if(e)n.current=e;else{var i=new SR((function(){r({})}));n.current=i.getForm()}return[n.current]},CR=t.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),TR=function(e){var n=e.validateMessages,r=e.onFormChange,i=e.onFormFinish,a=e.children,o=t.useContext(CR),u=t.useRef({});return t.createElement(CR.Provider,{value:x(x({},o),{},{validateMessages:x(x({},o.validateMessages),n),triggerFormChange:function(e,t){r&&r(e,{changedFields:t,forms:u.current}),o.triggerFormChange(e,t)},triggerFormFinish:function(e,t){i&&i(e,{values:t,forms:u.current}),o.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(u.current=x(x({},u.current),{},w({},e,t))),o.registerForm(e,t)},unregisterForm:function(e){var t=x({},u.current);delete t[e],u.current=t,o.unregisterForm(e)}})},a)},IR=CR,NR=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],AR=function(e,n){var r=e.name,i=e.initialValues,a=e.fields,o=e.form,u=e.preserve,l=e.children,f=e.component,h=void 0===f?"form":f,d=e.validateMessages,p=e.validateTrigger,y=void 0===p?"onChange":p,m=e.onValuesChange,g=e.onFieldsChange,b=e.onFinish,k=e.onFinishFailed,w=c(e,NR),E=t.useContext(IR),S=v(_R(o),1)[0],_=S.getInternalHooks(hP),T=_.useSubscribe,I=_.setInitialValues,N=_.setCallbacks,A=_.setValidateMessages,P=_.setPreserve,R=_.destroyForm;t.useImperativeHandle(n,(function(){return S})),t.useEffect((function(){return E.registerForm(r,S),function(){E.unregisterForm(r)}}),[E,S,r]),A(x(x({},E.validateMessages),d)),N({onValuesChange:m,onFieldsChange:function(e){if(E.triggerFormChange(r,e),g){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];g.apply(void 0,[e].concat(n))}},onFinish:function(e){E.triggerFormFinish(r,e),b&&b(e)},onFinishFailed:k}),P(u);var D,M=t.useRef(null);I(i,!M.current),M.current||(M.current=!0),t.useEffect((function(){return R}),[]);var O="function"===typeof l;O?D=l(S.getFieldsValue(!0),S):D=l;T(!O);var L=t.useRef();t.useEffect((function(){(function(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==C(e)||"object"!==C(t))return!1;var n=Object.keys(e),r=Object.keys(t),i=new Set([].concat(s(n),s(r)));return s(i).every((function(n){var r=e[n],i=t[n];return"function"===typeof r&&"function"===typeof i||r===i}))})(L.current||[],a||[])||S.setFields(a||[]),L.current=a}),[a,S]);var F=t.useMemo((function(){return x(x({},S),{},{validateTrigger:y})}),[S,y]),V=t.createElement(vP.Provider,{value:F},D);return!1===h?V:t.createElement(h,(0,rs.Z)({},w,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),S.submit()},onReset:function(e){var t;e.preventDefault(),S.resetFields(),null===(t=w.onReset)||void 0===t||t.call(w,e)}}),V)};function PR(e){try{return JSON.stringify(e)}catch(t){return Math.random()}}var RR=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,r=(0,t.useState)(),i=v(r,2),a=i[0],o=i[1],u=(0,t.useMemo)((function(){return PR(a)}),[a]),s=(0,t.useRef)(u);s.current=u;var c=(0,t.useContext)(vP),l=n||c,f=l&&l._init,h=GP(e),d=(0,t.useRef)(h);return d.current=h,(0,t.useEffect)((function(){if(f){var e=l.getFieldsValue,t=(0,(0,l.getInternalHooks)(hP).registerWatch)((function(e){var t=QP(e,d.current),n=PR(t);s.current!==n&&o(t)})),n=QP(e(),d.current);return o(n),t}}),[]),a},DR=t.forwardRef(AR);DR.FormProvider=TR,DR.Field=yR,DR.List=gR,DR.useForm=_R,DR.useWatch=RR;var MR=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function OR(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],i=t[n],!(r===i||MR(r)&&MR(i)))return!1;var r,i;return!0}var LR="internalMark",FR=function(e){_(r,e);var n=I(r);function r(e){var t;return N(this,r),(t=n.call(this,e)).getMemoizedContextValue=function(e,t){void 0===t&&(t=OR);var n=null;function r(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var a=e.apply(this,r);return n={lastResult:a,lastArgs:r,lastThis:this},a}return r.clear=function(){n=null},r}((function(e){return(0,rs.Z)((0,rs.Z)({},e),{exist:!0})})),PA(e.locale&&e.locale.Modal),Gs(e._ANT_MARK__===LR,"LocaleProvider","`LocaleProvider` is deprecated. Please use `locale` with `ConfigProvider` instead: http://u.ant.design/locale"),t}return P(r,[{key:"componentDidMount",value:function(){PA(this.props.locale&&this.props.locale.Modal)}},{key:"componentDidUpdate",value:function(e){var t=this.props.locale;e.locale!==t&&PA(t&&t.Modal)}},{key:"componentWillUnmount",value:function(){PA()}},{key:"render",value:function(){var e=this.props,n=e.locale,r=e.children,i=this.getMemoizedContextValue(n);return t.createElement(hs.Provider,{value:i},r)}}]),r}(t.Component);FR.defaultProps={locale:{}};var VR=function(e){_(r,e);var n=I(r);function r(){var e;N(this,r);for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return(e=n.call.apply(n,[this].concat(i))).closeTimer=null,e.close=function(t){t&&t.stopPropagation(),e.clearCloseTimer();var n=e.props,r=n.onClose,i=n.noticeKey;r&&r(i)},e.startCloseTimer=function(){e.props.duration&&(e.closeTimer=window.setTimeout((function(){e.close()}),1e3*e.props.duration))},e.clearCloseTimer=function(){e.closeTimer&&(clearTimeout(e.closeTimer),e.closeTimer=null)},e}return P(r,[{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentDidUpdate",value:function(e){(this.props.duration!==e.duration||this.props.updateMark!==e.updateMark||this.props.visible!==e.visible&&this.props.visible)&&this.restartCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"restartCloseTimer",value:function(){this.clearCloseTimer(),this.startCloseTimer()}},{key:"render",value:function(){var e=this,n=this.props,r=n.prefixCls,i=n.className,a=n.closable,o=n.closeIcon,u=n.style,s=n.onClick,c=n.children,l=n.holder,f="".concat(r,"-notice"),h=Object.keys(this.props).reduce((function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||(t[n]=e.props[n]),t}),{}),d=t.createElement("div",(0,rs.Z)({className:as()(f,i,w({},"".concat(f,"-closable"),a)),style:u,onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onClick:s},h),t.createElement("div",{className:"".concat(f,"-content")},c),a?t.createElement("a",{tabIndex:0,onClick:this.close,className:"".concat(f,"-close")},o||t.createElement("span",{className:"".concat(f,"-close-x")})):null);return l?M.createPortal(d,l):d}}]),r}(t.Component);function UR(e){var n=t.useRef({}),r=v(t.useState([]),2),i=r[0],a=r[1];return[function(r){var i=!0;e.add(r,(function(e,r){var o=r.key;if(e&&(!n.current[o]||i)){var u=t.createElement(VR,(0,rs.Z)({},r,{holder:e}));n.current[o]=u,a((function(e){var t=e.findIndex((function(e){return e.key===r.key}));if(-1===t)return[].concat(s(e),[u]);var n=s(e);return n[t]=u,n}))}i=!1}))},t.createElement(t.Fragment,null,i)]}VR.defaultProps={onClose:function(){},duration:1.5};var BR=["getContainer"],jR=0,qR=Date.now();function zR(){var e=jR;return jR+=1,"rcNotification_".concat(qR,"_").concat(e)}var KR=function(e){_(r,e);var n=I(r);function r(){var e;N(this,r);for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return(e=n.call.apply(n,[this].concat(i))).state={notices:[]},e.hookRefs=new Map,e.add=function(t,n){var r=t.key||zR(),i=x(x({},t),{},{key:r}),a=e.props.maxCount;e.setState((function(e){var t=e.notices,o=t.map((function(e){return e.notice.key})).indexOf(r),u=t.concat();return-1!==o?u.splice(o,1,{notice:i,holderCallback:n}):(a&&t.length>=a&&(i.key=u[0].notice.key,i.updateMark=zR(),i.userPassKey=r,u.shift()),u.push({notice:i,holderCallback:n})),{notices:u}}))},e.remove=function(t){e.setState((function(e){return{notices:e.notices.filter((function(e){var n=e.notice,r=n.key;return(n.userPassKey||r)!==t}))}}))},e.noticePropsMap={},e}return P(r,[{key:"getTransitionName",value:function(){var e=this.props,t=e.prefixCls,n=e.animation,r=this.props.transitionName;return!r&&n&&(r="".concat(t,"-").concat(n)),r}},{key:"render",value:function(){var e=this,n=this.state.notices,r=this.props,i=r.prefixCls,a=r.className,o=r.closeIcon,u=r.style,s=[];return n.forEach((function(t,r){var a=t.notice,u=t.holderCallback,c=r===n.length-1?a.updateMark:void 0,l=a.key,f=a.userPassKey,h=x(x(x({prefixCls:i,closeIcon:o},a),a.props),{},{key:l,noticeKey:f||l,updateMark:c,onClose:function(t){var n;e.remove(t),null===(n=a.onClose)||void 0===n||n.call(a)},onClick:a.onClick,children:a.content});s.push(l),e.noticePropsMap[l]={props:h,holderCallback:u}})),t.createElement("div",{className:as()(i,a),style:u},t.createElement(hl,{keys:s,motionName:this.getTransitionName(),onVisibleChanged:function(t,n){var r=n.key;t||delete e.noticePropsMap[r]}},(function(n){var r=n.key,a=n.className,o=n.style,u=n.visible,s=e.noticePropsMap[r],c=s.props,l=s.holderCallback;return l?t.createElement("div",{key:r,className:as()(a,"".concat(i,"-hook-holder")),style:x({},o),ref:function(t){"undefined"!==typeof r&&(t?(e.hookRefs.set(r,t),l(t,c)):e.hookRefs.delete(r))}}):t.createElement(VR,(0,rs.Z)({},c,{className:as()(a,null===c||void 0===c?void 0:c.className),style:x(x({},o),null===c||void 0===c?void 0:c.style),visible:u}))})))}}]),r}(t.Component);KR.newInstance=void 0,KR.defaultProps={prefixCls:"rc-notification",animation:"fade",style:{top:65,left:"50%"}},KR.newInstance=function(e,n){var r=e||{},i=r.getContainer,a=c(r,BR),o=document.createElement("div");i?i().appendChild(o):document.body.appendChild(o);var u=!1;HA(t.createElement(KR,(0,rs.Z)({},a,{ref:function(e){u||(u=!0,n({notice:function(t){e.add(t)},removeNotice:function(t){e.remove(t)},component:e,destroy:function(){$A(o),o.parentNode&&o.parentNode.removeChild(o)},useNotification:function(){return UR(e)}}))}})),o)};var HR=KR,WR={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},GR=function(e,n){return t.createElement(of,x(x({},e),{},{ref:n,icon:WR}))};GR.displayName="ExclamationCircleFilled";var QR=t.forwardRef(GR),$R={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"},YR=function(e,n){return t.createElement(of,x(x({},e),{},{ref:n,icon:$R}))};YR.displayName="CloseCircleFilled";var ZR=t.forwardRef(YR),XR={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},JR=function(e,n){return t.createElement(of,x(x({},e),{},{ref:n,icon:XR}))};JR.displayName="CheckCircleFilled";var eD,tD=t.forwardRef(JR),nD={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},rD=function(e,n){return t.createElement(of,x(x({},e),{},{ref:n,icon:nD}))};rD.displayName="InfoCircleFilled";var iD,aD,oD,uD=3,sD=1,cD="",lD="move-up",fD=!1,hD=!1;function dD(){return sD++}function vD(e,t){var n=e.prefixCls,r=e.getPopupContainer,i=HD(),a=i.getPrefixCls,o=i.getRootPrefixCls,u=i.getIconPrefixCls,s=a("message",n||cD),c=o(e.rootPrefixCls,s),l=u();if(eD)t({prefixCls:s,rootPrefixCls:c,iconPrefixCls:l,instance:eD});else{var f={prefixCls:s,transitionName:fD?lD:"".concat(c,"-").concat(lD),style:{top:iD},getContainer:aD||r,maxCount:oD};HR.newInstance(f,(function(e){eD?t({prefixCls:s,rootPrefixCls:c,iconPrefixCls:l,instance:eD}):(eD=e,t({prefixCls:s,rootPrefixCls:c,iconPrefixCls:l,instance:e}))}))}}var pD={info:t.forwardRef(rD),success:tD,error:ZR,warning:QR,loading:sf},yD=Object.keys(pD);function mD(e,n,r){var i,a=void 0!==e.duration?e.duration:uD,o=pD[e.type],u=as()("".concat(n,"-custom-content"),(w(i={},"".concat(n,"-").concat(e.type),e.type),w(i,"".concat(n,"-rtl"),!0===hD),i));return{key:e.key,duration:a,style:e.style||{},className:e.className,content:t.createElement(QD,{iconPrefixCls:r},t.createElement("div",{className:u},e.icon||o&&t.createElement(o,null),t.createElement("span",null,e.content))),onClose:e.onClose,onClick:e.onClick}}var gD={open:function(e){var t=e.key||dD(),n=new Promise((function(n){var r=function(){return"function"===typeof e.onClose&&e.onClose(),n(!0)};vD(e,(function(n){var i=n.prefixCls,a=n.iconPrefixCls;n.instance.notice(mD((0,rs.Z)((0,rs.Z)({},e),{key:t,onClose:r}),i,a))}))})),r=function(){eD&&eD.removeNotice(t)};return r.then=function(e,t){return n.then(e,t)},r.promise=n,r},config:function(e){void 0!==e.top&&(iD=e.top,eD=null),void 0!==e.duration&&(uD=e.duration),void 0!==e.prefixCls&&(cD=e.prefixCls),void 0!==e.getContainer&&(aD=e.getContainer,eD=null),void 0!==e.transitionName&&(lD=e.transitionName,eD=null,fD=!0),void 0!==e.maxCount&&(oD=e.maxCount,eD=null),void 0!==e.rtl&&(hD=e.rtl)},destroy:function(e){if(eD)if(e){(0,eD.removeNotice)(e)}else{var t=eD.destroy;t(),eD=null}}};function bD(e,t){e[t]=function(n,r,i){return function(e){return"[object Object]"===Object.prototype.toString.call(e)&&!!e.content}(n)?e.open((0,rs.Z)((0,rs.Z)({},n),{type:t})):("function"===typeof r&&(i=r,r=void 0),e.open({content:n,duration:r,type:t,onClose:i}))}}yD.forEach((function(e){return bD(gD,e)})),gD.warn=gD.warning,gD.useMessage=function(e,n){return function(){var r,i,a=null,o=v(UR({add:function(e,t){null===a||void 0===a||a.component.add(e,t)}}),2),u=o[0],s=o[1];var c=t.useRef({});return c.current.open=function(t){var o=t.prefixCls,s=r("message",o),c=r(),l=t.key||dD(),f=new Promise((function(r){var o=function(){return"function"===typeof t.onClose&&t.onClose(),r(!0)};e((0,rs.Z)((0,rs.Z)({},t),{prefixCls:s,rootPrefixCls:c,getPopupContainer:i}),(function(e){var r=e.prefixCls,i=e.instance;a=i,u(n((0,rs.Z)((0,rs.Z)({},t),{key:l,onClose:o}),r))}))})),h=function(){a&&a.removeNotice(l)};return h.then=function(e,t){return f.then(e,t)},h.promise=f,h},yD.forEach((function(e){return bD(c.current,e)})),[c.current,t.createElement(xs,{key:"holder"},(function(e){return r=e.getPrefixCls,i=e.getPopupContainer,s}))]}}(vD,mD);var kD=gD;var wD,ED,xD,SD={},_D=4.5,CD=24,TD=24,ID="",ND="topRight",AD=!1;function PD(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:CD,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:TD;switch(e){case"top":t={left:"50%",transform:"translateX(-50%)",right:"auto",top:n,bottom:"auto"};break;case"topLeft":t={left:0,top:n,bottom:"auto"};break;case"topRight":t={right:0,top:n,bottom:"auto"};break;case"bottom":t={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:r};break;case"bottomLeft":t={left:0,top:"auto",bottom:r};break;default:t={right:0,top:"auto",bottom:r}}return t}function RD(e,t){var n=e.placement,r=void 0===n?ND:n,i=e.top,a=e.bottom,o=e.getContainer,u=void 0===o?wD:o,s=e.prefixCls,c=HD(),l=c.getPrefixCls,f=c.getIconPrefixCls,h=l("notification",s||ID),d=f(),v="".concat(h,"-").concat(r),p=SD[v];if(p)Promise.resolve(p).then((function(e){t({prefixCls:"".concat(h,"-notice"),iconPrefixCls:d,instance:e})}));else{var y=as()("".concat(h,"-").concat(r),w({},"".concat(h,"-rtl"),!0===AD));SD[v]=new Promise((function(e){HR.newInstance({prefixCls:h,className:y,style:PD(r,i,a),getContainer:u,maxCount:xD},(function(n){e(n),t({prefixCls:"".concat(h,"-notice"),iconPrefixCls:d,instance:n})}))}))}}var DD={success:nP,info:JA,error:aP,warning:sP};function MD(e,n,r){var i=e.duration,a=e.icon,o=e.type,u=e.description,s=e.message,c=e.btn,l=e.onClose,f=e.onClick,h=e.key,d=e.style,v=e.className,p=e.closeIcon,y=void 0===p?ED:p,m=void 0===i?_D:i,g=null;a?g=t.createElement("span",{className:"".concat(n,"-icon")},e.icon):o&&(g=t.createElement(DD[o]||null,{className:"".concat(n,"-icon ").concat(n,"-icon-").concat(o)}));var b=t.createElement("span",{className:"".concat(n,"-close-x")},y||t.createElement(NA,{className:"".concat(n,"-close-icon")})),k=!u&&g?t.createElement("span",{className:"".concat(n,"-message-single-line-auto-margin")}):null;return{content:t.createElement(QD,{iconPrefixCls:r},t.createElement("div",{className:g?"".concat(n,"-with-icon"):"",role:"alert"},g,t.createElement("div",{className:"".concat(n,"-message")},k,s),t.createElement("div",{className:"".concat(n,"-description")},u),c?t.createElement("span",{className:"".concat(n,"-btn")},c):null)),duration:m,closable:!0,closeIcon:b,onClose:l,onClick:f,key:h,style:d||{},className:as()(v,w({},"".concat(n,"-").concat(o),!!o))}}var OD={open:function(e){RD(e,(function(t){var n=t.prefixCls,r=t.iconPrefixCls;t.instance.notice(MD(e,n,r))}))},close:function(e){Object.keys(SD).forEach((function(t){return Promise.resolve(SD[t]).then((function(t){t.removeNotice(e)}))}))},config:function(e){var t=e.duration,n=e.placement,r=e.bottom,i=e.top,a=e.getContainer,o=e.closeIcon,u=e.prefixCls;void 0!==u&&(ID=u),void 0!==t&&(_D=t),void 0!==n?ND=n:e.rtl&&(ND="topLeft"),void 0!==r&&(TD=r),void 0!==i&&(CD=i),void 0!==a&&(wD=a),void 0!==o&&(ED=o),void 0!==e.rtl&&(AD=e.rtl),void 0!==e.maxCount&&(xD=e.maxCount)},destroy:function(){Object.keys(SD).forEach((function(e){Promise.resolve(SD[e]).then((function(e){e.destroy()})),delete SD[e]}))}};["success","info","warning","error"].forEach((function(e){OD[e]=function(t){return OD.open((0,rs.Z)((0,rs.Z)({},t),{type:e}))}})),OD.warn=OD.warning,OD.useNotification=function(e,n){return function(){var r,i=null,a=v(UR({add:function(e,t){null===i||void 0===i||i.component.add(e,t)}}),2),o=a[0],u=a[1];var s=t.useRef({});return s.current.open=function(t){var a=t.prefixCls,u=r("notification",a);e((0,rs.Z)((0,rs.Z)({},t),{prefixCls:u}),(function(e){var r=e.prefixCls,a=e.instance;i=a,o(n(t,r))}))},["success","info","warning","error"].forEach((function(e){s.current[e]=function(t){return s.current.open((0,rs.Z)((0,rs.Z)({},t),{type:e}))}})),[s.current,t.createElement(xs,{key:"holder"},(function(e){return r=e.getPrefixCls,u}))]}}(RD,MD);var LD=OD,FD=function(){function e(t,n){var r;if(void 0===t&&(t=""),void 0===n&&(n={}),t instanceof e)return t;"number"===typeof t&&(t=function(e){return{r:e>>16,g:(65280&e)>>8,b:255&e}}(t)),this.originalInput=t;var i=Nl(t);this.originalInput=t,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(r=n.format)&&void 0!==r?r:i.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},e.prototype.getLuminance=function(){var e=this.toRgb(),t=e.r/255,n=e.g/255,r=e.b/255;return.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(e){return this.a=gl(e),this.roundA=Math.round(100*this.a)/100,this},e.prototype.toHsv=function(){var e=xl(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},e.prototype.toHsvString=function(){var e=xl(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return 1===this.a?"hsv(".concat(t,", ").concat(n,"%, ").concat(r,"%)"):"hsva(".concat(t,", ").concat(n,"%, ").concat(r,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var e=wl(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},e.prototype.toHslString=function(){var e=wl(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return 1===this.a?"hsl(".concat(t,", ").concat(n,"%, ").concat(r,"%)"):"hsla(".concat(t,", ").concat(n,"%, ").concat(r,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(e){return void 0===e&&(e=!1),Sl(this.r,this.g,this.b,e)},e.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},e.prototype.toHex8=function(e){return void 0===e&&(e=!1),function(e,t,n,r,i){var a=[kl(Math.round(e).toString(16)),kl(Math.round(t).toString(16)),kl(Math.round(n).toString(16)),kl(_l(r))];return i&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}(this.r,this.g,this.b,this.a,e)},e.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb(".concat(e,", ").concat(t,", ").concat(n,")"):"rgba(".concat(e,", ").concat(t,", ").concat(n,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var e=function(e){return"".concat(Math.round(100*yl(e,255)),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var e=function(e){return Math.round(100*yl(e,255))};return 1===this.a?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+Sl(this.r,this.g,this.b,!1),t=0,n=Object.entries(Il);t<n.length;t++){var r=n[t],i=r[0];if(e===r[1])return i}return!1},e.prototype.toString=function(e){var t=Boolean(e);e=null!==e&&void 0!==e?e:this.format;var n=!1,r=this.a<1&&this.a>=0;return t||!r||!e.startsWith("hex")&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this.a?this.toName():this.toRgbString()},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=ml(n.l),new e(n)},e.prototype.brighten=function(t){void 0===t&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),new e(n)},e.prototype.darken=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=ml(n.l),new e(n)},e.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},e.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},e.prototype.desaturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=ml(n.s),new e(n)},e.prototype.saturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=ml(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){void 0===n&&(n=50);var r=this.toRgb(),i=new e(t).toRgb(),a=n/100;return new e({r:(i.r-r.r)*a+r.r,g:(i.g-r.g)*a+r.g,b:(i.b-r.b)*a+r.b,a:(i.a-r.a)*a+r.a})},e.prototype.analogous=function(t,n){void 0===t&&(t=6),void 0===n&&(n=30);var r=this.toHsl(),i=360/n,a=[this];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,a.push(new e(r));return a},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){void 0===t&&(t=6);for(var n=this.toHsv(),r=n.h,i=n.s,a=n.v,o=[],u=1/t;t--;)o.push(new e({h:r,s:i,v:a})),a=(a+u)%1;return o},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb();return new e({r:r.r+(n.r-r.r)*n.a,g:r.g+(n.g-r.g)*n.a,b:r.b+(n.b-r.b)*n.a})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,i=[this],a=360/t,o=1;o<t;o++)i.push(new e({h:(r+o*a)%360,s:n.s,l:n.l}));return i},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();var VD="-ant-".concat(Date.now(),"-").concat(Math.random());function UD(e,t){var n=function(e,t){var n={},r=function(e,t){var n=e.clone();return(n=(null===t||void 0===t?void 0:t(n))||n).toRgbString()},i=function(e,t){var i=new FD(e),a=ql(i.toRgbString());n["".concat(t,"-color")]=r(i),n["".concat(t,"-color-disabled")]=a[1],n["".concat(t,"-color-hover")]=a[4],n["".concat(t,"-color-active")]=a[7],n["".concat(t,"-color-outline")]=i.clone().setAlpha(.2).toRgbString(),n["".concat(t,"-color-deprecated-bg")]=a[1],n["".concat(t,"-color-deprecated-border")]=a[3]};if(t.primaryColor){i(t.primaryColor,"primary");var a=new FD(t.primaryColor),o=ql(a.toRgbString());o.forEach((function(e,t){n["primary-".concat(t+1)]=e})),n["primary-color-deprecated-l-35"]=r(a,(function(e){return e.lighten(35)})),n["primary-color-deprecated-l-20"]=r(a,(function(e){return e.lighten(20)})),n["primary-color-deprecated-t-20"]=r(a,(function(e){return e.tint(20)})),n["primary-color-deprecated-t-50"]=r(a,(function(e){return e.tint(50)})),n["primary-color-deprecated-f-12"]=r(a,(function(e){return e.setAlpha(.12*e.getAlpha())}));var u=new FD(o[0]);n["primary-color-active-deprecated-f-30"]=r(u,(function(e){return e.setAlpha(.3*e.getAlpha())})),n["primary-color-active-deprecated-d-02"]=r(u,(function(e){return e.darken(2)}))}t.successColor&&i(t.successColor,"success"),t.warningColor&&i(t.warningColor,"warning"),t.errorColor&&i(t.errorColor,"error"),t.infoColor&&i(t.infoColor,"info");var s=Object.keys(n).map((function(t){return"--".concat(e,"-").concat(t,": ").concat(n[t],";")}));return"\n  :root {\n    ".concat(s.join("\n"),"\n  }\n  ").trim()}(e,t);Rs()?rc(n,"".concat(VD,"-dynamic-theme")):Gs(!1,"ConfigProvider","SSR do not support dynamic theme with css variables.")}var BD,jD,qD=["getTargetContainer","getPopupContainer","renderEmpty","pageHeader","input","form"];function zD(){return BD||"ant"}function KD(){return jD||"anticon"}var HD=function(){return{getPrefixCls:function(e,t){return t||(e?"".concat(zD(),"-").concat(e):zD())},getIconPrefixCls:KD,getRootPrefixCls:function(e,t){return e||(BD||(t&&t.includes("-")?t.replace(/^(.*)-[^-]*$/,"$1"):zD()))}}},WD=function(e){var n,r,i=e.children,a=e.csp,o=e.autoInsertSpaceInButton,u=e.form,s=e.locale,c=e.componentSize,l=e.direction,f=e.space,h=e.virtual,d=e.dropdownMatchSelectWidth,v=e.legacyLocale,p=e.parentContext,y=e.iconPrefixCls,m=t.useCallback((function(t,n){var r=e.prefixCls;if(n)return n;var i=r||p.getPrefixCls("");return t?"".concat(i,"-").concat(t):i}),[p.getPrefixCls,e.prefixCls]),g=(0,rs.Z)((0,rs.Z)({},p),{csp:a,autoInsertSpaceInButton:o,locale:s||v,direction:l,space:f,virtual:h,dropdownMatchSelectWidth:d,getPrefixCls:m});qD.forEach((function(t){var n=e[t];n&&(g[t]=n)}));var b=function(e,n,r){var i=t.useRef({});return"value"in i.current&&!r(i.current.condition,n)||(i.current.value=e(),i.current.condition=n),i.current.value}((function(){return g}),g,(function(e,t){var n=Object.keys(e),r=Object.keys(t);return n.length!==r.length||n.some((function(n){return e[n]!==t[n]}))})),k=t.useMemo((function(){return{prefixCls:y,csp:a}}),[y,a]),w=i,E={};return s&&(E=(null===(n=s.Form)||void 0===n?void 0:n.defaultValidateMessages)||(null===(r=ls.Form)||void 0===r?void 0:r.defaultValidateMessages)||{}),u&&u.validateMessages&&(E=(0,rs.Z)((0,rs.Z)({},E),u.validateMessages)),Object.keys(E).length>0&&(w=t.createElement(TR,{validateMessages:E},i)),s&&(w=t.createElement(FR,{locale:s,_ANT_MARK__:LR},w)),(y||a)&&(w=t.createElement(pl.Provider,{value:k},w)),c&&(w=t.createElement(Sc,{size:c},w)),t.createElement(Es.Provider,{value:b},w)},GD=function(e){return t.useEffect((function(){e.direction&&(kD.config({rtl:"rtl"===e.direction}),LD.config({rtl:"rtl"===e.direction}))}),[e.direction]),t.createElement(ds,null,(function(n,r,i){return t.createElement(xs,null,(function(n){return t.createElement(WD,(0,rs.Z)({parentContext:n,legacyLocale:i},e))}))}))};GD.ConfigContext=Es,GD.SizeContext=_c,GD.config=function(e){var t=e.prefixCls,n=e.iconPrefixCls,r=e.theme;void 0!==t&&(BD=t),void 0!==n&&(jD=n),r&&UD(zD(),r)};var QD=GD,$D=function(e){var n=e.icon,r=e.onCancel,i=e.onOk,a=e.close,o=e.zIndex,u=e.afterClose,s=e.visible,c=e.keyboard,l=e.centered,f=e.getContainer,h=e.maskStyle,d=e.okText,v=e.okButtonProps,p=e.cancelText,y=e.cancelButtonProps,m=e.direction,g=e.prefixCls,b=e.wrapClassName,k=e.rootPrefixCls,E=e.iconPrefixCls,x=e.bodyStyle,S=e.closable,_=void 0!==S&&S,C=e.closeIcon,T=e.modalRender,I=e.focusTriggerAfterClose;Gs(!("string"===typeof n&&n.length>2),"Modal","`icon` is using ReactNode instead of string naming in v4. Please check `".concat(n,"` at https://ant.design/components/icon"));var N=e.okType||"primary",A="".concat(g,"-confirm"),P=!("okCancel"in e)||e.okCancel,R=e.width||416,D=e.style||{},M=void 0===e.mask||e.mask,O=void 0!==e.maskClosable&&e.maskClosable,L=null!==e.autoFocusButton&&(e.autoFocusButton||"ok"),F=as()(A,"".concat(A,"-").concat(e.type),w({},"".concat(A,"-rtl"),"rtl"===m),e.className),V=P&&t.createElement(lP,{actionFn:r,close:a,autoFocus:"cancel"===L,buttonProps:y,prefixCls:"".concat(k,"-btn")},p);return t.createElement(QD,{prefixCls:k,iconPrefixCls:E,direction:m},t.createElement(VA,{prefixCls:g,className:F,wrapClassName:as()(w({},"".concat(A,"-centered"),!!e.centered),b),onCancel:function(){return a({triggerCancel:!0})},visible:s,title:"",footer:"",transitionName:MA(k,"zoom",e.transitionName),maskTransitionName:MA(k,"fade",e.maskTransitionName),mask:M,maskClosable:O,maskStyle:h,style:D,bodyStyle:x,width:R,zIndex:o,afterClose:u,keyboard:c,centered:l,getContainer:f,closable:_,closeIcon:C,modalRender:T,focusTriggerAfterClose:I},t.createElement("div",{className:"".concat(A,"-body-wrapper")},t.createElement("div",{className:"".concat(A,"-body")},n,void 0===e.title?null:t.createElement("span",{className:"".concat(A,"-title")},e.title),t.createElement("div",{className:"".concat(A,"-content")},e.content)),t.createElement("div",{className:"".concat(A,"-btns")},V,t.createElement(lP,{type:N,actionFn:i,close:a,autoFocus:"ok"===L,buttonProps:v,prefixCls:"".concat(k,"-btn")},d)))))},YD=[],ZD=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},XD="";function JD(e){var n=document.createDocumentFragment(),r=(0,rs.Z)((0,rs.Z)({},e),{close:o,visible:!0});function i(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var a=r.some((function(e){return e&&e.triggerCancel}));e.onCancel&&a&&e.onCancel.apply(e,r);for(var u=0;u<YD.length;u++){var s=YD[u];if(s===o){YD.splice(u,1);break}}$A(n)}function a(e){var r=e.okText,i=e.cancelText,a=e.prefixCls,o=ZD(e,["okText","cancelText","prefixCls"]);setTimeout((function(){var e=RA(),u=HD(),s=u.getPrefixCls,c=u.getIconPrefixCls,l=s(void 0,XD),f=a||"".concat(l,"-modal"),h=c();HA(t.createElement($D,(0,rs.Z)({},o,{prefixCls:f,rootPrefixCls:l,iconPrefixCls:h,okText:r||(o.okCancel?e.okText:e.justOkText),cancelText:i||e.cancelText})),n)}))}function o(){for(var t=this,n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];a(r=(0,rs.Z)((0,rs.Z)({},r),{visible:!1,afterClose:function(){"function"===typeof e.afterClose&&e.afterClose(),i.apply(t,o)}}))}return a(r),YD.push(o),{destroy:o,update:function(e){a(r="function"===typeof e?e(r):(0,rs.Z)((0,rs.Z)({},r),e))}}}function eM(e){return(0,rs.Z)((0,rs.Z)({icon:t.createElement(sP,null),okCancel:!1},e),{type:"warning"})}function tM(e){return(0,rs.Z)((0,rs.Z)({icon:t.createElement(JA,null),okCancel:!1},e),{type:"info"})}function nM(e){return(0,rs.Z)((0,rs.Z)({icon:t.createElement(nP,null),okCancel:!1},e),{type:"success"})}function rM(e){return(0,rs.Z)((0,rs.Z)({icon:t.createElement(aP,null),okCancel:!1},e),{type:"error"})}function iM(e){return(0,rs.Z)((0,rs.Z)({icon:t.createElement(sP,null),okCancel:!0},e),{type:"confirm"})}var aM=function(e,n){var r=e.afterClose,i=e.config,a=v(t.useState(!0),2),o=a[0],u=a[1],s=v(t.useState(i),2),c=s[0],l=s[1],f=t.useContext(Es),h=f.direction,d=f.getPrefixCls,p=d("modal"),y=d(),m=function(){u(!1);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.some((function(e){return e&&e.triggerCancel}));c.onCancel&&r&&c.onCancel()};return t.useImperativeHandle(n,(function(){return{destroy:m,update:function(e){l((function(t){return(0,rs.Z)((0,rs.Z)({},t),e)}))}}})),t.createElement(ds,{componentName:"Modal",defaultLocale:ls.Modal},(function(e){return t.createElement($D,(0,rs.Z)({prefixCls:p,rootPrefixCls:y},c,{close:m,visible:o,afterClose:r,okText:c.okText||(c.okCancel?e.okText:e.justOkText),direction:h,cancelText:c.cancelText||e.cancelText}))}))},oM=t.forwardRef(aM),uM=0,sM=t.memo(t.forwardRef((function(e,n){var r=function(){var e=v(t.useState([]),2),n=e[0],r=e[1];return[n,t.useCallback((function(e){return r((function(t){return[].concat(s(t),[e])})),function(){r((function(t){return t.filter((function(t){return t!==e}))}))}}),[])]}(),i=v(r,2),a=i[0],o=i[1];return t.useImperativeHandle(n,(function(){return{patchElement:o}}),[]),t.createElement(t.Fragment,null,a)})));function cM(e){return JD(eM(e))}var lM=VA;lM.useModal=function(){var e=t.useRef(null),n=v(t.useState([]),2),r=n[0],i=n[1];t.useEffect((function(){r.length&&(s(r).forEach((function(e){e()})),i([]))}),[r]);var a=t.useCallback((function(n){return function(r){var a;uM+=1;var o,u=t.createRef(),c=t.createElement(oM,{key:"modal-".concat(uM),config:n(r),ref:u,afterClose:function(){o()}});return o=null===(a=e.current)||void 0===a?void 0:a.patchElement(c),{destroy:function(){function e(){var e;null===(e=u.current)||void 0===e||e.destroy()}u.current?e():i((function(t){return[].concat(s(t),[e])}))},update:function(e){function t(){var t;null===(t=u.current)||void 0===t||t.update(e)}u.current?t():i((function(e){return[].concat(s(e),[t])}))}}}}),[]);return[t.useMemo((function(){return{info:a(tM),success:a(nM),error:a(rM),warning:a(eM),confirm:a(iM)}}),[]),t.createElement(sM,{ref:e})]},lM.info=function(e){return JD(tM(e))},lM.success=function(e){return JD(nM(e))},lM.error=function(e){return JD(rM(e))},lM.warning=cM,lM.warn=cM,lM.confirm=function(e){return JD(iM(e))},lM.destroyAll=function(){for(;YD.length;){var e=YD.pop();e&&e()}},lM.config=function(e){var t=e.rootPrefixCls;Gs(!1,"Modal","Modal.config is deprecated. Please use ConfigProvider.config instead."),XD=t};var fM=lM;var hM=function(){var e=v((0,t.useState)([]),2),n=e[0],r=e[1],i=v((0,t.useState)(!1),2),a=i[0],o=i[1],u=v((0,t.useState)({key:"",name:"",drink:"",option:""}),2),c=u[0],l=u[1];return(0,t.useEffect)((function(){BN.doc(UN).get().then((function(e){var t=e.data();r(t.order)}))}),[]),(0,jN.jsxs)(jN.Fragment,{children:[(0,jN.jsx)(kf,{onClick:function(){o(!0)},children:"Order Add"}),(0,jN.jsx)(fM,{title:"Modify Order",visible:a,onOk:function(){var e=s(n),t=0===n.length?"0":String(Number(n[n.length-1].key)+1);e.push({key:t,name:c.name,drink:c.drink,option:c.option}),r(e),BN.doc(UN).update({order:e}),o(!1),l({key:"",name:"",drink:"",option:""})},onCancel:function(){o(!1)},width:1e3,children:(0,jN.jsxs)(Vs,{gutter:[10,0],children:[(0,jN.jsxs)(qs,{children:[(0,jN.jsx)("span",{children:" Name : "})," ",(0,jN.jsx)("input",{onChange:function(e){return l(x(x({},c),{},{name:e.target.value}))},value:c.name})]}),(0,jN.jsxs)(qs,{children:[(0,jN.jsx)("span",{children:" Drink: "})," ",(0,jN.jsx)("input",{onChange:function(e){return l(x(x({},c),{},{drink:e.target.value}))},value:c.drink})]}),(0,jN.jsxs)(qs,{children:[(0,jN.jsx)("span",{children:" Option : "})," ",(0,jN.jsx)("input",{onChange:function(e){return l(x(x({},c),{},{option:e.target.value}))},value:c.option})]})]})}),(0,jN.jsx)(zN,{orderInfo:n,orderUpdate:function(e){r(e)}})]})},dM=new ns.QueryClient;i.createRoot(document.getElementById("root")).render((0,jN.jsx)(es,{children:(0,jN.jsxs)(ns.QueryClientProvider,{client:dM,children:[(0,jN.jsx)(ts.ReactQueryDevtools,{initialIsOpen:!0}),(0,jN.jsx)(hM,{}),(0,jN.jsx)(ts.ReactQueryDevtools,{})]})}))}()}();
//# sourceMappingURL=main.bec00dd5.js.map